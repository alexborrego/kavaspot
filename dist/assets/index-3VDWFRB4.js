(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const _ of f)if(_.type==="childList")for(const p of _.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function l(f){const _={};return f.integrity&&(_.integrity=f.integrity),f.referrerPolicy&&(_.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?_.credentials="include":f.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function u(f){if(f.ep)return;f.ep=!0;const _=l(f);fetch(f.href,_)}})();function Tv(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Dh={exports:{}},ko={};var r_;function xv(){if(r_)return ko;r_=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(u,f,_){var p=null;if(_!==void 0&&(p=""+_),f.key!==void 0&&(p=""+f.key),"key"in f){_={};for(var b in f)b!=="key"&&(_[b]=f[b])}else _=f;return f=_.ref,{$$typeof:o,type:u,key:p,ref:f!==void 0?f:null,props:_}}return ko.Fragment=a,ko.jsx=l,ko.jsxs=l,ko}var o_;function Ev(){return o_||(o_=1,Dh.exports=xv()),Dh.exports}var w=Ev(),Bh={exports:{}},Et={};var l_;function Av(){if(l_)return Et;l_=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),z=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=z&&N[z]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Y={};function Q(N,G,F){this.props=N,this.context=G,this.refs=Y,this.updater=F||k}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function tt(){}tt.prototype=Q.prototype;function $(N,G,F){this.props=N,this.context=G,this.refs=Y,this.updater=F||k}var ct=$.prototype=new tt;ct.constructor=$,B(ct,Q.prototype),ct.isPureReactComponent=!0;var at=Array.isArray;function ut(){}var lt={H:null,A:null,T:null,S:null},gt=Object.prototype.hasOwnProperty;function At(N,G,F){var et=F.ref;return{$$typeof:o,type:N,key:G,ref:et!==void 0?et:null,props:F}}function Re(N,G){return At(N.type,G,N.props)}function Tt(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function Ot(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(F){return G[F]})}var Ee=/\/+/g;function me(N,G){return typeof N=="object"&&N!==null&&N.key!=null?Ot(""+N.key):G.toString(36)}function Ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ut,ut):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function I(N,G,F,et,ot){var rt=typeof N;(rt==="undefined"||rt==="boolean")&&(N=null);var Rt=!1;if(N===null)Rt=!0;else switch(rt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(N.$$typeof){case o:case a:Rt=!0;break;case O:return Rt=N._init,I(Rt(N._payload),G,F,et,ot)}}if(Rt)return ot=ot(N),Rt=et===""?"."+me(N,0):et,at(ot)?(F="",Rt!=null&&(F=Rt.replace(Ee,"$&/")+"/"),I(ot,G,F,"",function(Jn){return Jn})):ot!=null&&(Tt(ot)&&(ot=Re(ot,F+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace(Ee,"$&/")+"/")+Rt)),G.push(ot)),1;Rt=0;var ne=et===""?".":et+":";if(at(N))for(var ie=0;ie<N.length;ie++)et=N[ie],rt=ne+me(et,ie),Rt+=I(et,G,F,rt,ot);else if(ie=E(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(et=N.next()).done;)et=et.value,rt=ne+me(et,ie++),Rt+=I(et,G,F,rt,ot);else if(rt==="object"){if(typeof N.then=="function")return I(Ve(N),G,F,et,ot);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function nt(N,G,F){if(N==null)return N;var et=[],ot=0;return I(N,et,"","",function(rt){return G.call(F,rt,ot++)}),et}function W(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(F){(N._status===0||N._status===-1)&&(N._status=1,N._result=F)},function(F){(N._status===0||N._status===-1)&&(N._status=2,N._result=F)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var Ht=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},st={map:nt,forEach:function(N,G,F){nt(N,function(){G.apply(this,arguments)},F)},count:function(N){var G=0;return nt(N,function(){G++}),G},toArray:function(N){return nt(N,function(G){return G})||[]},only:function(N){if(!Tt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Et.Activity=R,Et.Children=st,Et.Component=Q,Et.Fragment=l,Et.Profiler=f,Et.PureComponent=$,Et.StrictMode=u,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(N){return lt.H.useMemoCache(N)}},Et.cache=function(N){return function(){return N.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(N,G,F){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var et=B({},N.props),ot=N.key;if(G!=null)for(rt in G.key!==void 0&&(ot=""+G.key),G)!gt.call(G,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&G.ref===void 0||(et[rt]=G[rt]);var rt=arguments.length-2;if(rt===1)et.children=F;else if(1<rt){for(var Rt=Array(rt),ne=0;ne<rt;ne++)Rt[ne]=arguments[ne+2];et.children=Rt}return At(N.type,ot,et)},Et.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:_,_context:N},N},Et.createElement=function(N,G,F){var et,ot={},rt=null;if(G!=null)for(et in G.key!==void 0&&(rt=""+G.key),G)gt.call(G,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ot[et]=G[et]);var Rt=arguments.length-2;if(Rt===1)ot.children=F;else if(1<Rt){for(var ne=Array(Rt),ie=0;ie<Rt;ie++)ne[ie]=arguments[ie+2];ot.children=ne}if(N&&N.defaultProps)for(et in Rt=N.defaultProps,Rt)ot[et]===void 0&&(ot[et]=Rt[et]);return At(N,rt,ot)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(N){return{$$typeof:b,render:N}},Et.isValidElement=Tt,Et.lazy=function(N){return{$$typeof:O,_payload:{_status:-1,_result:N},_init:W}},Et.memo=function(N,G){return{$$typeof:T,type:N,compare:G===void 0?null:G}},Et.startTransition=function(N){var G=lt.T,F={};lt.T=F;try{var et=N(),ot=lt.S;ot!==null&&ot(F,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(ut,Ht)}catch(rt){Ht(rt)}finally{G!==null&&F.types!==null&&(G.types=F.types),lt.T=G}},Et.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Et.use=function(N){return lt.H.use(N)},Et.useActionState=function(N,G,F){return lt.H.useActionState(N,G,F)},Et.useCallback=function(N,G){return lt.H.useCallback(N,G)},Et.useContext=function(N){return lt.H.useContext(N)},Et.useDebugValue=function(){},Et.useDeferredValue=function(N,G){return lt.H.useDeferredValue(N,G)},Et.useEffect=function(N,G){return lt.H.useEffect(N,G)},Et.useEffectEvent=function(N){return lt.H.useEffectEvent(N)},Et.useId=function(){return lt.H.useId()},Et.useImperativeHandle=function(N,G,F){return lt.H.useImperativeHandle(N,G,F)},Et.useInsertionEffect=function(N,G){return lt.H.useInsertionEffect(N,G)},Et.useLayoutEffect=function(N,G){return lt.H.useLayoutEffect(N,G)},Et.useMemo=function(N,G){return lt.H.useMemo(N,G)},Et.useOptimistic=function(N,G){return lt.H.useOptimistic(N,G)},Et.useReducer=function(N,G,F){return lt.H.useReducer(N,G,F)},Et.useRef=function(N){return lt.H.useRef(N)},Et.useState=function(N){return lt.H.useState(N)},Et.useSyncExternalStore=function(N,G,F){return lt.H.useSyncExternalStore(N,G,F)},Et.useTransition=function(){return lt.H.useTransition()},Et.version="19.2.4",Et}var u_;function ld(){return u_||(u_=1,Bh.exports=Av()),Bh.exports}var Nt=ld(),Uh={exports:{}},zo={},Ph={exports:{}},Hh={};var c_;function Ov(){return c_||(c_=1,(function(o){function a(I,nt){var W=I.length;I.push(nt);t:for(;0<W;){var Ht=W-1>>>1,st=I[Ht];if(0<f(st,nt))I[Ht]=nt,I[W]=st,W=Ht;else break t}}function l(I){return I.length===0?null:I[0]}function u(I){if(I.length===0)return null;var nt=I[0],W=I.pop();if(W!==nt){I[0]=W;t:for(var Ht=0,st=I.length,N=st>>>1;Ht<N;){var G=2*(Ht+1)-1,F=I[G],et=G+1,ot=I[et];if(0>f(F,W))et<st&&0>f(ot,F)?(I[Ht]=ot,I[et]=W,Ht=et):(I[Ht]=F,I[G]=W,Ht=G);else if(et<st&&0>f(ot,W))I[Ht]=ot,I[et]=W,Ht=et;else break t}}return nt}function f(I,nt){var W=I.sortIndex-nt.sortIndex;return W!==0?W:I.id-nt.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;o.unstable_now=function(){return _.now()}}else{var p=Date,b=p.now();o.unstable_now=function(){return p.now()-b}}var y=[],T=[],O=1,R=null,z=3,E=!1,k=!1,B=!1,Y=!1,Q=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ct(I){for(var nt=l(T);nt!==null;){if(nt.callback===null)u(T);else if(nt.startTime<=I)u(T),nt.sortIndex=nt.expirationTime,a(y,nt);else break;nt=l(T)}}function at(I){if(B=!1,ct(I),!k)if(l(y)!==null)k=!0,ut||(ut=!0,Ot());else{var nt=l(T);nt!==null&&Ve(at,nt.startTime-I)}}var ut=!1,lt=-1,gt=5,At=-1;function Re(){return Y?!0:!(o.unstable_now()-At<gt)}function Tt(){if(Y=!1,ut){var I=o.unstable_now();At=I;var nt=!0;try{t:{k=!1,B&&(B=!1,tt(lt),lt=-1),E=!0;var W=z;try{e:{for(ct(I),R=l(y);R!==null&&!(R.expirationTime>I&&Re());){var Ht=R.callback;if(typeof Ht=="function"){R.callback=null,z=R.priorityLevel;var st=Ht(R.expirationTime<=I);if(I=o.unstable_now(),typeof st=="function"){R.callback=st,ct(I),nt=!0;break e}R===l(y)&&u(y),ct(I)}else u(y);R=l(y)}if(R!==null)nt=!0;else{var N=l(T);N!==null&&Ve(at,N.startTime-I),nt=!1}}break t}finally{R=null,z=W,E=!1}nt=void 0}}finally{nt?Ot():ut=!1}}}var Ot;if(typeof $=="function")Ot=function(){$(Tt)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,me=Ee.port2;Ee.port1.onmessage=Tt,Ot=function(){me.postMessage(null)}}else Ot=function(){Q(Tt,0)};function Ve(I,nt){lt=Q(function(){I(o.unstable_now())},nt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(I){I.callback=null},o.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<I?Math.floor(1e3/I):5},o.unstable_getCurrentPriorityLevel=function(){return z},o.unstable_next=function(I){switch(z){case 1:case 2:case 3:var nt=3;break;default:nt=z}var W=z;z=nt;try{return I()}finally{z=W}},o.unstable_requestPaint=function(){Y=!0},o.unstable_runWithPriority=function(I,nt){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=z;z=I;try{return nt()}finally{z=W}},o.unstable_scheduleCallback=function(I,nt,W){var Ht=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ht+W:Ht):W=Ht,I){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=W+st,I={id:O++,callback:nt,priorityLevel:I,startTime:W,expirationTime:st,sortIndex:-1},W>Ht?(I.sortIndex=W,a(T,I),l(y)===null&&I===l(T)&&(B?(tt(lt),lt=-1):B=!0,Ve(at,W-Ht))):(I.sortIndex=st,a(y,I),k||E||(k=!0,ut||(ut=!0,Ot()))),I},o.unstable_shouldYield=Re,o.unstable_wrapCallback=function(I){var nt=z;return function(){var W=z;z=nt;try{return I.apply(this,arguments)}finally{z=W}}}})(Hh)),Hh}var h_;function Cv(){return h_||(h_=1,Ph.exports=Ov()),Ph.exports}var qh={exports:{}},Ge={};var d_;function Nv(){if(d_)return Ge;d_=1;var o=ld();function a(y){var T="https://react.dev/errors/"+y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)T+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},f=Symbol.for("react.portal");function _(y,T,O){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:R==null?null:""+R,children:y,containerInfo:T,implementation:O}}var p=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,T){if(y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ge.createPortal=function(y,T){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(a(299));return _(y,T,null,O)},Ge.flushSync=function(y){var T=p.T,O=u.p;try{if(p.T=null,u.p=2,y)return y()}finally{p.T=T,u.p=O,u.d.f()}},Ge.preconnect=function(y,T){typeof y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,u.d.C(y,T))},Ge.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},Ge.preinit=function(y,T){if(typeof y=="string"&&T&&typeof T.as=="string"){var O=T.as,R=b(O,T.crossOrigin),z=typeof T.integrity=="string"?T.integrity:void 0,E=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;O==="style"?u.d.S(y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:R,integrity:z,fetchPriority:E}):O==="script"&&u.d.X(y,{crossOrigin:R,integrity:z,fetchPriority:E,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Ge.preinitModule=function(y,T){if(typeof y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var O=b(T.as,T.crossOrigin);u.d.M(y,{crossOrigin:O,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&u.d.M(y)},Ge.preload=function(y,T){if(typeof y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var O=T.as,R=b(O,T.crossOrigin);u.d.L(y,O,{crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Ge.preloadModule=function(y,T){if(typeof y=="string")if(T){var O=b(T.as,T.crossOrigin);u.d.m(y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:O,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else u.d.m(y)},Ge.requestFormReset=function(y){u.d.r(y)},Ge.unstable_batchedUpdates=function(y,T){return y(T)},Ge.useFormState=function(y,T,O){return p.H.useFormState(y,T,O)},Ge.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ge.version="19.2.4",Ge}var f_;function Rv(){if(f_)return qh.exports;f_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),qh.exports=Nv(),qh.exports}var m_;function Lv(){if(m_)return zo;m_=1;var o=Cv(),a=ld(),l=Rv();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(_(t)!==t)throw Error(u(188))}function T(t){var e=t.alternate;if(!e){if(e=_(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,r=e;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(r=h.return,r!==null){i=r;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return y(h),t;if(d===r)return y(h),e;d=d.sibling}throw Error(u(188))}if(i.return!==r.return)i=h,r=d;else{for(var g=!1,x=h.child;x;){if(x===i){g=!0,i=h,r=d;break}if(x===r){g=!0,r=h,i=d;break}x=x.sibling}if(!g){for(x=d.child;x;){if(x===i){g=!0,i=d,r=h;break}if(x===r){g=!0,r=d,i=h;break}x=x.sibling}if(!g)throw Error(u(189))}}if(i.alternate!==r)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function O(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=O(t),e!==null)return e;t=t.sibling}return null}var R=Object.assign,z=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),At=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),Tt=Symbol.iterator;function Ot(t){return t===null||typeof t!="object"?null:(t=Tt&&t[Tt]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Q:return"Profiler";case Y:return"StrictMode";case at:return"Suspense";case ut:return"SuspenseList";case At:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case $:return t.displayName||"Context";case tt:return(t._context.displayName||"Context")+".Consumer";case ct:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lt:return e=t.displayName||null,e!==null?e:me(t.type)||"Memo";case gt:e=t._payload,t=t._init;try{return me(t(e))}catch{}}return null}var Ve=Array.isArray,I=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Ht=[],st=-1;function N(t){return{current:t}}function G(t){0>st||(t.current=Ht[st],Ht[st]=null,st--)}function F(t,e){st++,Ht[st]=t.current,t.current=e}var et=N(null),ot=N(null),rt=N(null),Rt=N(null);function ne(t,e){switch(F(rt,e),F(ot,t),F(et,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Nm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Nm(e),t=Rm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(et),F(et,t)}function ie(){G(et),G(ot),G(rt)}function Jn(t){t.memoizedState!==null&&F(Rt,t);var e=et.current,i=Rm(e,t.type);e!==i&&(F(ot,t),F(et,i))}function mi(t){ot.current===t&&(G(et),G(ot)),Rt.current===t&&(G(Rt),No._currentValue=W)}var Qn,Zi;function mt(t){if(Qn===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Qn=e&&e[1]||"",Zi=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+t+Zi}var hn=!1;function Tn(t,e){if(!t||hn)return"";hn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Z){var q=Z}Reflect.construct(t,[],J)}else{try{J.call()}catch(Z){q=Z}t.call(J.prototype)}}else{try{throw Error()}catch(Z){q=Z}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Z){if(Z&&q&&typeof Z.stack=="string")return[Z.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),g=d[0],x=d[1];if(g&&x){var C=g.split(`
`),P=x.split(`
`);for(h=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(r===C.length||h===P.length)for(r=C.length-1,h=P.length-1;1<=r&&0<=h&&C[r]!==P[h];)h--;for(;1<=r&&0<=h;r--,h--)if(C[r]!==P[h]){if(r!==1||h!==1)do if(r--,h--,0>h||C[r]!==P[h]){var V=`
`+C[r].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=r&&0<=h);break}}}finally{hn=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?mt(i):""}function _i(t,e){switch(t.tag){case 26:case 27:case 5:return mt(t.type);case 16:return mt("Lazy");case 13:return t.child!==e&&e!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return Tn(t.type,!1);case 11:return Tn(t.type.render,!1);case 1:return Tn(t.type,!0);case 31:return mt("Activity");default:return""}}function Na(t){try{var e="",i=null;do e+=_i(t,i),i=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Or=Object.prototype.hasOwnProperty,As=o.unstable_scheduleCallback,Ra=o.unstable_cancelCallback,Jo=o.unstable_shouldYield,Qo=o.unstable_requestPaint,Ke=o.unstable_now,Uu=o.unstable_getCurrentPriorityLevel,Os=o.unstable_ImmediatePriority,Cr=o.unstable_UserBlockingPriority,La=o.unstable_NormalPriority,Pu=o.unstable_LowPriority,Nr=o.unstable_IdlePriority,Wo=o.log,Hu=o.unstable_setDisableYieldValue,Ii=null,Me=null;function Dn(t){if(typeof Wo=="function"&&Hu(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Ii,t)}catch{}}var Ye=Math.clz32?Math.clz32:Zu,ja=Math.log,qu=Math.LN2;function Zu(t){return t>>>=0,t===0?32:31-(ja(t)/qu|0)|0}var ka=256,za=262144,Ma=4194304;function pi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cs(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var h=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var x=r&134217727;return x!==0?(r=x&~d,r!==0?h=pi(r):(g&=x,g!==0?h=pi(g):i||(i=x&~t,i!==0&&(h=pi(i))))):(x=r&~d,x!==0?h=pi(x):g!==0?h=pi(g):i||(i=r&~t,i!==0&&(h=pi(i)))),h===0?0:e!==0&&e!==h&&(e&d)===0&&(d=h&-h,i=e&-e,d>=i||d===32&&(i&4194048)!==0)?e:h}function Da(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Iu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var t=Ma;return Ma<<=1,(Ma&62914560)===0&&(Ma=4194304),t}function Rr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function vi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gu(t,e,i,r,h,d){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(i=g&~i;0<i;){var V=31-Ye(i),J=1<<V;x[V]=0,C[V]=-1;var q=P[V];if(q!==null)for(P[V]=null,V=0;V<q.length;V++){var Z=q[V];Z!==null&&(Z.lane&=-536870913)}i&=~J}r!==0&&tl(t,r,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~e))}function tl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Ye(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function el(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Ye(i),h=1<<r;h&e|t[r]&e&&(t[r]|=e),i&=~h}}function nl(t,e){var i=e&-e;return i=(i&42)!==0?1:Qe(i),(i&(t.suspendedLanes|e))!==0?0:i}function Qe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ft(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lr(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Fm(t.type))}function jr(t,e){var i=nt.p;try{return nt.p=t,e()}finally{nt.p=i}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,Le="__reactProps$"+Bn,gi="__reactContainer$"+Bn,Wn="__reactEvents$"+Bn,il="__reactListeners$"+Bn,Vu="__reactHandles$"+Bn,al="__reactResources$"+Bn,Ba="__reactMarker$"+Bn;function kr(t){delete t[ve],delete t[Le],delete t[Wn],delete t[il],delete t[Vu]}function yi(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[gi]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Bm(t);t!==null;){if(i=t[ve])return i;t=Bm(t)}return e}t=i,i=t.parentNode}return null}function Gi(t){if(t=t[ve]||t[gi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Fn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function Vi(t){var e=t[al];return e||(e=t[al]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ge(t){t[Ba]=!0}var sl=new Set,rl={};function bi(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(rl[t]=e,t=0;t<e.length;t++)sl.add(e[t])}var Ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zr={},Mr={};function Pa(t){return Or.call(Mr,t)?!0:Or.call(zr,t)?!1:Ua.test(t)?Mr[t]=!0:(zr[t]=!0,!1)}function kt(t,e,i){if(Pa(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Xt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function We(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}function Ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dr(t,e,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,d=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xt(t){if(!t._valueTracker){var e=wi(t)?"checked":"value";t._valueTracker=Dr(t,e,""+t[e])}}function re(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=wi(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function ae(t){return t.replace(Ns,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Br(t,e,i,r,h,d,g,x){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ae(e)):t.value!==""+Ae(e)&&(t.value=""+Ae(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?Un(t,g,Ae(e)):i!=null?Un(t,g,Ae(i)):r!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ae(x):t.removeAttribute("name")}function Ha(t,e,i,r,h,d,g,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),e!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||e!=null)){xt(t);return}i=i!=null?""+Ae(i):"",e=e!=null?""+Ae(e):i,x||e===t.value||(t.value=e),t.defaultValue=e}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=x?t.checked:!!r,t.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),xt(t)}function Un(t,e,i){e==="number"&&Ki(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ft(t,e,i,r){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Ae(i),e=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function ei(t,e,i){if(e!=null&&(e=""+Ae(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Ae(i):""}function Yi(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(u(92));if(Ve(r)){if(1<r.length)throw Error(u(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Ae(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),xt(t)}function xn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $i(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Ur.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Rs(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in e)r=e[h],e.hasOwnProperty(h)&&i[h]!==r&&$i(t,h,r)}else for(var d in e)e.hasOwnProperty(d)&&$i(t,d,e[d])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ls=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(t){return Pr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fe(){}var js=null;function Za(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,wt=null;function dn(t){var e=Gi(t);if(e&&(t=e.stateNode)){var i=t[Le]||null;t:switch(t=e.stateNode,e.type){case"input":if(Br(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ae(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var h=r[Le]||null;if(!h)throw Error(u(90));Br(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&re(r)}break t;case"textarea":ei(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ft(t,!!i.multiple,e,!1)}}}var Kt=!1;function Hr(t,e,i){if(Kt)return t(e,i);Kt=!0;try{var r=t(e);return r}finally{if(Kt=!1,(Ji!==null||wt!==null)&&(nu(),Ji&&(e=Ji,t=wt,wt=Ji=null,dn(e),t)))for(e=0;e<t.length;e++)dn(t[e])}}function Si(t,e){var i=t.stateNode;if(i===null)return null;var r=i[Le]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(fn)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ia=!1}var En=null,Ti=null,ue=null;function ni(){if(ue)return ue;var t,e=Ti,i=e.length,r,h="value"in En?En.value:En.textContent,d=h.length;for(t=0;t<i&&e[t]===h[t];t++);var g=i-t;for(r=1;r<=g&&e[i-r]===h[d-r];r++);return ue=h.slice(t,1<r?1-r:void 0)}function Ga(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Va(){return!0}function ol(){return!1}function De(t){function e(i,r,h,d,g){this._reactName=i,this._targetInst=h,this.type=r,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(i=t[x],this[x]=i?i(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Va:ol,this.isPropagationStopped=ol,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),e}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=De(Pn),Qi=R({},Pn,{view:0,detail:0}),Bt=De(Qi),qr,$e,Hn,Ka=R({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(qr=t.screenX-Hn.screenX,$e=t.screenY-Hn.screenY):$e=qr=0,Hn=t),qr)},movementY:function(t){return"movementY"in t?t.movementY:$e}}),ll=De(Ka),Zr=R({},Ka,{dataTransfer:0}),Ku=De(Zr),ul=R({},Qi,{relatedTarget:0}),Ir=De(ul),Yu=R({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=De(Yu),$u=R({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),An=De($u),Xu=R({},Pn,{data:0}),Vr=De(Xu),ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hl[t])?!!e[t]:!1}function Yr(){return Kr}var dl=R({},Qi,{key:function(t){if(t.key){var e=ii[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fl=De(dl),Ju=R({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=De(Ju),$r=R({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Qu=De($r),_l=R({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),pl=De(_l),zs=R({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xi=De(zs),Wu=R({},Pn,{newState:0,oldState:0}),Ya=De(Wu),tn=[9,13,27,32],Ms=fn&&"CompositionEvent"in window,Wi=null;fn&&"documentMode"in document&&(Wi=document.documentMode);var Fu=fn&&"TextEvent"in window&&!Wi,Ds=fn&&(!Ms||Wi&&8<Wi&&11>=Wi),Bs=" ",vl=!1;function gl(t,e){switch(t){case"keyup":return tn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function _n(t,e){switch(t){case"compositionend":return Xr(e);case"keypress":return e.which!==32?null:(vl=!0,Bs);case"textInput":return t=e.data,t===Bs&&vl?null:t;default:return null}}function ta(t,e){if(Fi)return t==="compositionend"||!Ms&&gl(t,e)?(t=ni(),ue=Ti=En=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ds&&e.locale!=="ko"?null:e.data;default:return null}}var tc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tc[t.type]:e==="textarea"}function yl(t,e,i,r){Ji?wt?wt.push(r):wt=[r]:Ji=r,e=uu(e,"onChange"),0<e.length&&(i=new ks("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Cn=null,$a=null;function Xa(t){Tm(t,0)}function Ja(t){var e=Fn(t);if(re(e))return t}function Qa(t,e){if(t==="change")return e}var bl=!1;if(fn){var Nn;if(fn){var ea="oninput"in document;if(!ea){var wl=document.createElement("div");wl.setAttribute("oninput","return;"),ea=typeof wl.oninput=="function"}Nn=ea}else Nn=!1;bl=Nn&&(!document.documentMode||9<document.documentMode)}function Us(){Cn&&(Cn.detachEvent("onpropertychange",Sl),$a=Cn=null)}function Sl(t){if(t.propertyName==="value"&&Ja($a)){var e=[];yl(e,$a,t,Za(t)),Hr(Xa,e)}}function qn(t,e,i){t==="focusin"?(Us(),Cn=e,$a=i,Cn.attachEvent("onpropertychange",Sl)):t==="focusout"&&Us()}function ec(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ja($a)}function na(t,e){if(t==="click")return Ja(e)}function nc(t,e){if(t==="input"||t==="change")return Ja(e)}function Zn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var je=typeof Object.is=="function"?Object.is:Zn;function ia(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var h=i[r];if(!Or.call(e,h)||!je(t[h],e[h]))return!1}return!0}function Ps(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wa(t,e){var i=Ps(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Ps(i)}}function Hs(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hs(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fa(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ki(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ki(t.document)}return e}function ai(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var qs=fn&&"documentMode"in document&&11>=document.documentMode,si=null,Zs=null,ts=null,aa=!1;function Tl(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;aa||si==null||si!==Ki(r)||(r=si,"selectionStart"in r&&ai(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ts&&ia(ts,r)||(ts=r,r=uu(Zs,"onSelect"),0<r.length&&(e=new ks("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=si)))}function ri(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var sa={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},Is={},xl={};fn&&(xl=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ke(t){if(Is[t])return Is[t];if(!sa[t])return t;var e=sa[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in xl)return Is[t]=e[i];return t}var es=ke("animationend"),El=ke("animationiteration"),ns=ke("animationstart"),ic=ke("transitionrun"),Al=ke("transitionstart"),ac=ke("transitioncancel"),ra=ke("transitionend"),Ol=new Map,oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oi.push("scrollEnd");function en(t,e){Ol.set(t,e),bi(e,[t])}var is=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nn=[],Ze=0,Gs=0;function as(){for(var t=Ze,e=Gs=Ze=0;e<t;){var i=nn[e];nn[e++]=null;var r=nn[e];nn[e++]=null;var h=nn[e];nn[e++]=null;var d=nn[e];if(nn[e++]=null,r!==null&&h!==null){var g=r.pending;g===null?h.next=h:(h.next=g.next,g.next=h),r.pending=h}d!==0&&oa(i,h,d)}}function li(t,e,i,r){nn[Ze++]=t,nn[Ze++]=e,nn[Ze++]=i,nn[Ze++]=r,Gs|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Jr(t,e,i,r){return li(t,e,i,r),ss(t)}function Rn(t,e){return li(t,null,null,e),ss(t)}function oa(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var h=!1,d=t.return;d!==null;)d.childLanes|=i,r=d.alternate,r!==null&&(r.childLanes|=i),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&e!==null&&(h=31-Ye(i),t=d.hiddenUpdates,r=t[h],r===null?t[h]=[e]:r.push(e),e.lane=i|536870912),d):null}function ss(t){if(50<So)throw So=0,rh=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ei={};function sc(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,i,r){return new sc(t,e,i,r)}function Vs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ln(t,e){var i=t.alternate;return i===null?(i=Ie(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Qr(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function rs(t,e,i,r,h,d){var g=0;if(r=t,typeof t=="function")Vs(t)&&(g=1);else if(typeof t=="string")g=hv(t,i,et.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case At:return t=Ie(31,i,e,h),t.elementType=At,t.lanes=d,t;case B:return Ai(i.children,h,d,e);case Y:g=8,h|=24;break;case Q:return t=Ie(12,i,e,h|2),t.elementType=Q,t.lanes=d,t;case at:return t=Ie(13,i,e,h),t.elementType=at,t.lanes=d,t;case ut:return t=Ie(19,i,e,h),t.elementType=ut,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:g=10;break t;case tt:g=9;break t;case ct:g=11;break t;case lt:g=14;break t;case gt:g=16,r=null;break t}g=29,i=Error(u(130,t===null?"null":typeof t,"")),r=null}return e=Ie(g,i,e,h),e.elementType=t,e.type=r,e.lanes=d,e}function Ai(t,e,i,r){return t=Ie(7,t,r,e),t.lanes=i,t}function Ks(t,e,i){return t=Ie(6,t,null,e),t.lanes=i,t}function Wr(t){var e=Ie(18,null,null,0);return e.stateNode=t,e}function Fr(t,e,i){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Na(e)},n.set(t,e),e)}return{value:t,source:e,stack:Na(e)}}var c=[],m=0,v=null,S=0,A=[],D=0,H=null,X=1,it="";function _t(t,e){c[m++]=S,c[m++]=v,v=t,S=e}function Lt(t,e,i){A[D++]=X,A[D++]=it,A[D++]=H,H=t;var r=X;t=it;var h=32-Ye(r)-1;r&=~(1<<h),i+=1;var d=32-Ye(e)+h;if(30<d){var g=h-h%5;d=(r&(1<<g)-1).toString(32),r>>=g,h-=g,X=1<<32-Ye(e)+h|i<<h|r,it=d+t}else X=1<<d|i<<h|r,it=t}function Oe(t){t.return!==null&&(_t(t,1),Lt(t,1,0))}function ce(t){for(;t===v;)v=c[--m],c[m]=null,S=c[--m],c[m]=null;for(;t===H;)H=A[--D],A[D]=null,it=A[--D],A[D]=null,X=A[--D],A[D]=null}function Xe(t,e){A[D++]=X,A[D++]=it,A[D++]=H,X=e.id,it=e.overflow,H=t}var qt=null,Zt=null,zt=!1,ui=null,an=!1,Ys=Error(u(519));function ci(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw os(s(e,t)),Ys}function to(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[ve]=t,e[Le]=r,i){case"dialog":Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":case"embed":Dt("load",e);break;case"video":case"audio":for(i=0;i<xo.length;i++)Dt(xo[i],e);break;case"source":Dt("error",e);break;case"img":case"image":case"link":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"input":Dt("invalid",e),Ha(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Dt("invalid",e);break;case"textarea":Dt("invalid",e),Yi(e,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||Om(e.textContent,i)?(r.popover!=null&&(Dt("beforetoggle",e),Dt("toggle",e)),r.onScroll!=null&&Dt("scroll",e),r.onScrollEnd!=null&&Dt("scrollend",e),r.onClick!=null&&(e.onclick=Fe),e=!0):e=!1,e||ci(t,!0)}function le(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:qt=qt.return}}function In(t){if(t!==qt)return!1;if(!zt)return le(t),zt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||wh(t.type,t.memoizedProps)),i=!i),i&&Zt&&ci(t),le(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Zt=Dm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Zt=Dm(t)}else e===27?(e=Zt,wa(t.type)?(t=Ah,Ah=null,Zt=t):Zt=e):Zt=qt?kn(t.stateNode.nextSibling):null;return!0}function Oi(){Zt=qt=null,zt=!1}function eo(){var t=ui;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ui=null),t}function os(t){ui===null?ui=[t]:ui.push(t)}var ls=N(null),hi=null,Gn=null;function la(t,e,i){F(ls,e._currentValue),e._currentValue=i}function Ci(t){t._currentValue=ls.current,G(ls)}function rc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function oc(t,e,i,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var g=h.child;d=d.firstContext;t:for(;d!==null;){var x=d;d=h;for(var C=0;C<e.length;C++)if(x.context===e[C]){d.lanes|=i,x=d.alternate,x!==null&&(x.lanes|=i),rc(d.return,i,t),r||(g=null);break t}d=x.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(u(341));g.lanes|=i,d=g.alternate,d!==null&&(d.lanes|=i),rc(g,i,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function $s(t,e,i,r){t=null;for(var h=e,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(u(387));if(g=g.memoizedProps,g!==null){var x=h.type;je(h.pendingProps.value,g.value)||(t!==null?t.push(x):t=[x])}}else if(h===Rt.current){if(g=h.alternate,g===null)throw Error(u(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(No):t=[No])}h=h.return}t!==null&&oc(e,t,i,r),e.flags|=262144}function Cl(t){for(t=t.firstContext;t!==null;){if(!je(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function us(t){hi=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return hd(hi,t)}function Nl(t,e){return hi===null&&us(t),hd(t,e)}function hd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Gn===null){if(t===null)throw Error(u(308));Gn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Gn=Gn.next=e;return i}var op=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},lp=o.unstable_scheduleCallback,up=o.unstable_NormalPriority,ye={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lc(){return{controller:new op,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&lp(up,function(){t.controller.abort()})}var io=null,uc=0,Xs=0,Js=null;function cp(t,e){if(io===null){var i=io=[];uc=0,Xs=dh(),Js={status:"pending",value:void 0,then:function(r){i.push(r)}}}return uc++,e.then(dd,dd),e}function dd(){if(--uc===0&&io!==null){Js!==null&&(Js.status="fulfilled");var t=io;io=null,Xs=0,Js=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function hp(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var h=0;h<i.length;h++)(0,i[h])(e)},function(h){for(r.status="rejected",r.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),r}var fd=I.S;I.S=function(t,e){Qf=Ke(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&cp(t,e),fd!==null&&fd(t,e)};var cs=N(null);function cc(){var t=cs.current;return t!==null?t:te.pooledCache}function Rl(t,e){e===null?F(cs,cs.current):F(cs,e.pool)}function md(){var t=cc();return t===null?null:{parent:ye._currentValue,pool:t}}var Qs=Error(u(460)),hc=Error(u(474)),Ll=Error(u(542)),jl={then:function(){}};function _d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Fe,Fe),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gd(t),t;default:if(typeof e.status=="string")e.then(Fe,Fe);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=r}},function(r){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gd(t),t}throw ds=e,Qs}}function hs(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ds=i,Qs):i}}var ds=null;function vd(){if(ds===null)throw Error(u(459));var t=ds;return ds=null,t}function gd(t){if(t===Qs||t===Ll)throw Error(u(483))}var Ws=null,ao=0;function kl(t){var e=ao;return ao+=1,Ws===null&&(Ws=[]),pd(Ws,t,e)}function so(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function zl(t,e){throw e.$$typeof===z?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function yd(t){function e(M,j){if(t){var U=M.deletions;U===null?(M.deletions=[j],M.flags|=16):U.push(j)}}function i(M,j){if(!t)return null;for(;j!==null;)e(M,j),j=j.sibling;return null}function r(M){for(var j=new Map;M!==null;)M.key!==null?j.set(M.key,M):j.set(M.index,M),M=M.sibling;return j}function h(M,j){return M=Ln(M,j),M.index=0,M.sibling=null,M}function d(M,j,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<j?(M.flags|=67108866,j):U):(M.flags|=67108866,j)):(M.flags|=1048576,j)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function x(M,j,U,K){return j===null||j.tag!==6?(j=Ks(U,M.mode,K),j.return=M,j):(j=h(j,U),j.return=M,j)}function C(M,j,U,K){var vt=U.type;return vt===B?V(M,j,U.props.children,K,U.key):j!==null&&(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===gt&&hs(vt)===j.type)?(j=h(j,U.props),so(j,U),j.return=M,j):(j=rs(U.type,U.key,U.props,null,M.mode,K),so(j,U),j.return=M,j)}function P(M,j,U,K){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=Fr(U,M.mode,K),j.return=M,j):(j=h(j,U.children||[]),j.return=M,j)}function V(M,j,U,K,vt){return j===null||j.tag!==7?(j=Ai(U,M.mode,K,vt),j.return=M,j):(j=h(j,U),j.return=M,j)}function J(M,j,U){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ks(""+j,M.mode,U),j.return=M,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return U=rs(j.type,j.key,j.props,null,M.mode,U),so(U,j),U.return=M,U;case k:return j=Fr(j,M.mode,U),j.return=M,j;case gt:return j=hs(j),J(M,j,U)}if(Ve(j)||Ot(j))return j=Ai(j,M.mode,U,null),j.return=M,j;if(typeof j.then=="function")return J(M,kl(j),U);if(j.$$typeof===$)return J(M,Nl(M,j),U);zl(M,j)}return null}function q(M,j,U,K){var vt=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return vt!==null?null:x(M,j,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return U.key===vt?C(M,j,U,K):null;case k:return U.key===vt?P(M,j,U,K):null;case gt:return U=hs(U),q(M,j,U,K)}if(Ve(U)||Ot(U))return vt!==null?null:V(M,j,U,K,null);if(typeof U.then=="function")return q(M,j,kl(U),K);if(U.$$typeof===$)return q(M,j,Nl(M,U),K);zl(M,U)}return null}function Z(M,j,U,K,vt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(U)||null,x(j,M,""+K,vt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return M=M.get(K.key===null?U:K.key)||null,C(j,M,K,vt);case k:return M=M.get(K.key===null?U:K.key)||null,P(j,M,K,vt);case gt:return K=hs(K),Z(M,j,U,K,vt)}if(Ve(K)||Ot(K))return M=M.get(U)||null,V(j,M,K,vt,null);if(typeof K.then=="function")return Z(M,j,U,kl(K),vt);if(K.$$typeof===$)return Z(M,j,U,Nl(j,K),vt);zl(j,K)}return null}function ht(M,j,U,K){for(var vt=null,It=null,dt=j,jt=j=0,Pt=null;dt!==null&&jt<U.length;jt++){dt.index>jt?(Pt=dt,dt=null):Pt=dt.sibling;var Gt=q(M,dt,U[jt],K);if(Gt===null){dt===null&&(dt=Pt);break}t&&dt&&Gt.alternate===null&&e(M,dt),j=d(Gt,j,jt),It===null?vt=Gt:It.sibling=Gt,It=Gt,dt=Pt}if(jt===U.length)return i(M,dt),zt&&_t(M,jt),vt;if(dt===null){for(;jt<U.length;jt++)dt=J(M,U[jt],K),dt!==null&&(j=d(dt,j,jt),It===null?vt=dt:It.sibling=dt,It=dt);return zt&&_t(M,jt),vt}for(dt=r(dt);jt<U.length;jt++)Pt=Z(dt,M,jt,U[jt],K),Pt!==null&&(t&&Pt.alternate!==null&&dt.delete(Pt.key===null?jt:Pt.key),j=d(Pt,j,jt),It===null?vt=Pt:It.sibling=Pt,It=Pt);return t&&dt.forEach(function(Aa){return e(M,Aa)}),zt&&_t(M,jt),vt}function yt(M,j,U,K){if(U==null)throw Error(u(151));for(var vt=null,It=null,dt=j,jt=j=0,Pt=null,Gt=U.next();dt!==null&&!Gt.done;jt++,Gt=U.next()){dt.index>jt?(Pt=dt,dt=null):Pt=dt.sibling;var Aa=q(M,dt,Gt.value,K);if(Aa===null){dt===null&&(dt=Pt);break}t&&dt&&Aa.alternate===null&&e(M,dt),j=d(Aa,j,jt),It===null?vt=Aa:It.sibling=Aa,It=Aa,dt=Pt}if(Gt.done)return i(M,dt),zt&&_t(M,jt),vt;if(dt===null){for(;!Gt.done;jt++,Gt=U.next())Gt=J(M,Gt.value,K),Gt!==null&&(j=d(Gt,j,jt),It===null?vt=Gt:It.sibling=Gt,It=Gt);return zt&&_t(M,jt),vt}for(dt=r(dt);!Gt.done;jt++,Gt=U.next())Gt=Z(dt,M,jt,Gt.value,K),Gt!==null&&(t&&Gt.alternate!==null&&dt.delete(Gt.key===null?jt:Gt.key),j=d(Gt,j,jt),It===null?vt=Gt:It.sibling=Gt,It=Gt);return t&&dt.forEach(function(Sv){return e(M,Sv)}),zt&&_t(M,jt),vt}function Wt(M,j,U,K){if(typeof U=="object"&&U!==null&&U.type===B&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case E:t:{for(var vt=U.key;j!==null;){if(j.key===vt){if(vt=U.type,vt===B){if(j.tag===7){i(M,j.sibling),K=h(j,U.props.children),K.return=M,M=K;break t}}else if(j.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===gt&&hs(vt)===j.type){i(M,j.sibling),K=h(j,U.props),so(K,U),K.return=M,M=K;break t}i(M,j);break}else e(M,j);j=j.sibling}U.type===B?(K=Ai(U.props.children,M.mode,K,U.key),K.return=M,M=K):(K=rs(U.type,U.key,U.props,null,M.mode,K),so(K,U),K.return=M,M=K)}return g(M);case k:t:{for(vt=U.key;j!==null;){if(j.key===vt)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){i(M,j.sibling),K=h(j,U.children||[]),K.return=M,M=K;break t}else{i(M,j);break}else e(M,j);j=j.sibling}K=Fr(U,M.mode,K),K.return=M,M=K}return g(M);case gt:return U=hs(U),Wt(M,j,U,K)}if(Ve(U))return ht(M,j,U,K);if(Ot(U)){if(vt=Ot(U),typeof vt!="function")throw Error(u(150));return U=vt.call(U),yt(M,j,U,K)}if(typeof U.then=="function")return Wt(M,j,kl(U),K);if(U.$$typeof===$)return Wt(M,j,Nl(M,U),K);zl(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,j!==null&&j.tag===6?(i(M,j.sibling),K=h(j,U),K.return=M,M=K):(i(M,j),K=Ks(U,M.mode,K),K.return=M,M=K),g(M)):i(M,j)}return function(M,j,U,K){try{ao=0;var vt=Wt(M,j,U,K);return Ws=null,vt}catch(dt){if(dt===Qs||dt===Ll)throw dt;var It=Ie(29,dt,null,M.mode);return It.lanes=K,It.return=M,It}}}var fs=yd(!0),bd=yd(!1),ua=!1;function dc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ha(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Vt&2)!==0){var h=r.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),r.pending=e,e=ss(t),oa(t,null,i),e}return li(t,r,e,i),ss(t)}function ro(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}function mc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?h=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?h=d=e:d=d.next=e}else h=d=e;i={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var _c=!1;function oo(){if(_c){var t=Js;if(t!==null)throw t}}function lo(t,e,i,r){_c=!1;var h=t.updateQueue;ua=!1;var d=h.firstBaseUpdate,g=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var C=x,P=C.next;C.next=null,g===null?d=P:g.next=P,g=C;var V=t.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==g&&(x===null?V.firstBaseUpdate=P:x.next=P,V.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;g=0,V=P=C=null,x=d;do{var q=x.lane&-536870913,Z=q!==x.lane;if(Z?(Ut&q)===q:(r&q)===q){q!==0&&q===Xs&&(_c=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var ht=t,yt=x;q=e;var Wt=i;switch(yt.tag){case 1:if(ht=yt.payload,typeof ht=="function"){J=ht.call(Wt,J,q);break t}J=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=yt.payload,q=typeof ht=="function"?ht.call(Wt,J,q):ht,q==null)break t;J=R({},J,q);break t;case 2:ua=!0}}q=x.callback,q!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[q]:Z.push(q))}else Z={lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(P=V=Z,C=J):V=V.next=Z,g|=q;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Z=x,x=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);V===null&&(C=J),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=V,d===null&&(h.shared.lanes=0),pa|=g,t.lanes=g,t.memoizedState=J}}function wd(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Sd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)wd(i[t],e)}var Fs=N(null),Ml=N(0);function Td(t,e){t=Bi,F(Ml,t),F(Fs,e),Bi=t|e.baseLanes}function pc(){F(Ml,Bi),F(Fs,Fs.current)}function vc(){Bi=Ml.current,G(Fs),G(Ml)}var pn=N(null),jn=null;function da(t){var e=t.alternate;F(_e,_e.current&1),F(pn,t),jn===null&&(e===null||Fs.current!==null||e.memoizedState!==null)&&(jn=t)}function gc(t){F(_e,_e.current),F(pn,t),jn===null&&(jn=t)}function xd(t){t.tag===22?(F(_e,_e.current),F(pn,t),jn===null&&(jn=t)):fa()}function fa(){F(_e,_e.current),F(pn,pn.current)}function vn(t){G(pn),jn===t&&(jn=null),G(_e)}var _e=N(0);function Dl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||xh(i)||Eh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ni=0,Ct=null,Jt=null,be=null,Bl=!1,tr=!1,ms=!1,Ul=0,uo=0,er=null,dp=0;function he(){throw Error(u(321))}function yc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!je(t[i],e[i]))return!1;return!0}function bc(t,e,i,r,h,d){return Ni=d,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I.H=t===null||t.memoizedState===null?lf:Mc,ms=!1,d=i(r,h),ms=!1,tr&&(d=Ad(e,i,r,h)),Ed(t),d}function Ed(t){I.H=fo;var e=Jt!==null&&Jt.next!==null;if(Ni=0,be=Jt=Ct=null,Bl=!1,uo=0,er=null,e)throw Error(u(300));t===null||we||(t=t.dependencies,t!==null&&Cl(t)&&(we=!0))}function Ad(t,e,i,r){Ct=t;var h=0;do{if(tr&&(er=null),uo=0,tr=!1,25<=h)throw Error(u(301));if(h+=1,be=Jt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=uf,d=e(i,r)}while(tr);return d}function fp(){var t=I.H,e=t.useState()[0];return e=typeof e.then=="function"?co(e):e,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Ct.flags|=1024),e}function wc(){var t=Ul!==0;return Ul=0,t}function Sc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Tc(t){if(Bl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Bl=!1}Ni=0,be=Jt=Ct=null,tr=!1,uo=Ul=0,er=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ct.memoizedState=be=t:be=be.next=t,be}function pe(){if(Jt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=be===null?Ct.memoizedState:be.next;if(e!==null)be=e,Jt=t;else{if(t===null)throw Ct.alternate===null?Error(u(467)):Error(u(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?Ct.memoizedState=be=t:be=be.next=t}return be}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var e=uo;return uo+=1,er===null&&(er=[]),t=pd(er,t,e),e=Ct,(be===null?e.memoizedState:be.next)===null&&(e=e.alternate,I.H=e===null||e.memoizedState===null?lf:Mc),t}function Hl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===$)return Be(t)}throw Error(u(438,String(t)))}function xc(t){var e=null,i=Ct.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=Ct.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Pl(),Ct.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=Re;return e.index++,i}function Ri(t,e){return typeof e=="function"?e(t):e}function ql(t){var e=pe();return Ec(e,Jt,t)}function Ec(t,e,i){var r=t.queue;if(r===null)throw Error(u(311));r.lastRenderedReducer=i;var h=t.baseQueue,d=r.pending;if(d!==null){if(h!==null){var g=h.next;h.next=d.next,d.next=g}e.baseQueue=h=d,r.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{e=h.next;var x=g=null,C=null,P=e,V=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Ut&J)===J:(Ni&J)===J){var q=P.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Xs&&(V=!0);else if((Ni&q)===q){P=P.next,q===Xs&&(V=!0);continue}else J={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(x=C=J,g=d):C=C.next=J,Ct.lanes|=q,pa|=q;J=P.action,ms&&i(d,J),d=P.hasEagerState?P.eagerState:i(d,J)}else q={lane:J,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(x=C=q,g=d):C=C.next=q,Ct.lanes|=J,pa|=J;P=P.next}while(P!==null&&P!==e);if(C===null?g=d:C.next=x,!je(d,t.memoizedState)&&(we=!0,V&&(i=Js,i!==null)))throw i;t.memoizedState=d,t.baseState=g,t.baseQueue=C,r.lastRenderedState=d}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Ac(t){var e=pe(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var r=i.dispatch,h=i.pending,d=e.memoizedState;if(h!==null){i.pending=null;var g=h=h.next;do d=t(d,g.action),g=g.next;while(g!==h);je(d,e.memoizedState)||(we=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),i.lastRenderedState=d}return[d,r]}function Od(t,e,i){var r=Ct,h=pe(),d=zt;if(d){if(i===void 0)throw Error(u(407));i=i()}else i=e();var g=!je((Jt||h).memoizedState,i);if(g&&(h.memoizedState=i,we=!0),h=h.queue,Nc(Rd.bind(null,r,h,t),[t]),h.getSnapshot!==e||g||be!==null&&be.memoizedState.tag&1){if(r.flags|=2048,nr(9,{destroy:void 0},Nd.bind(null,r,h,i,e),null),te===null)throw Error(u(349));d||(Ni&127)!==0||Cd(r,e,i)}return i}function Cd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Ct.updateQueue,e===null?(e=Pl(),Ct.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Nd(t,e,i,r){e.value=i,e.getSnapshot=r,Ld(e)&&jd(t)}function Rd(t,e,i){return i(function(){Ld(e)&&jd(t)})}function Ld(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!je(t,i)}catch{return!0}}function jd(t){var e=Rn(t,2);e!==null&&un(e,t,2)}function Oc(t){var e=Je();if(typeof t=="function"){var i=t;if(t=i(),ms){Dn(!0);try{i()}finally{Dn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},e}function kd(t,e,i,r){return t.baseState=i,Ec(t,Jt,typeof r=="function"?r:Ri)}function mp(t,e,i,r,h){if(Gl(t))throw Error(u(485));if(t=e.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};I.T!==null?i(!0):d.isTransition=!1,r(d),i=e.pending,i===null?(d.next=e.pending=d,zd(e,d)):(d.next=i.next,e.pending=i.next=d)}}function zd(t,e){var i=e.action,r=e.payload,h=t.state;if(e.isTransition){var d=I.T,g={};I.T=g;try{var x=i(h,r),C=I.S;C!==null&&C(g,x),Md(t,e,x)}catch(P){Cc(t,e,P)}finally{d!==null&&g.types!==null&&(d.types=g.types),I.T=d}}else try{d=i(h,r),Md(t,e,d)}catch(P){Cc(t,e,P)}}function Md(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Dd(t,e,r)},function(r){return Cc(t,e,r)}):Dd(t,e,i)}function Dd(t,e,i){e.status="fulfilled",e.value=i,Bd(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,zd(t,i)))}function Cc(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Bd(e),e=e.next;while(e!==r)}t.action=null}function Bd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Ud(t,e){return e}function Pd(t,e){if(zt){var i=te.formState;if(i!==null){t:{var r=Ct;if(zt){if(Zt){e:{for(var h=Zt,d=an;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Zt=kn(h.nextSibling),r=h.data==="F!";break t}}ci(r)}r=!1}r&&(e=i[0])}}return i=Je(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:e},i.queue=r,i=sf.bind(null,Ct,r),r.dispatch=i,r=Oc(!1),d=zc.bind(null,Ct,!1,r.queue),r=Je(),h={state:e,dispatch:null,action:t,pending:null},r.queue=h,i=mp.bind(null,Ct,h,d,i),h.dispatch=i,r.memoizedState=t,[e,i,!1]}function Hd(t){var e=pe();return qd(e,Jt,t)}function qd(t,e,i){if(e=Ec(t,e,Ud)[0],t=ql(Ri)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=co(e)}catch(g){throw g===Qs?Ll:g}else r=e;e=pe();var h=e.queue,d=h.dispatch;return i!==e.memoizedState&&(Ct.flags|=2048,nr(9,{destroy:void 0},_p.bind(null,h,i),null)),[r,d,t]}function _p(t,e){t.action=e}function Zd(t){var e=pe(),i=Jt;if(i!==null)return qd(e,i,t);pe(),e=e.memoizedState,i=pe();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function nr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=Ct.updateQueue,e===null&&(e=Pl(),Ct.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Id(){return pe().memoizedState}function Zl(t,e,i,r){var h=Je();Ct.flags|=t,h.memoizedState=nr(1|e,{destroy:void 0},i,r===void 0?null:r)}function Il(t,e,i,r){var h=pe();r=r===void 0?null:r;var d=h.memoizedState.inst;Jt!==null&&r!==null&&yc(r,Jt.memoizedState.deps)?h.memoizedState=nr(e,d,i,r):(Ct.flags|=t,h.memoizedState=nr(1|e,d,i,r))}function Gd(t,e){Zl(8390656,8,t,e)}function Nc(t,e){Il(2048,8,t,e)}function pp(t){Ct.flags|=4;var e=Ct.updateQueue;if(e===null)e=Pl(),Ct.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Vd(t){var e=pe().memoizedState;return pp({ref:e,nextImpl:t}),function(){if((Vt&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function Kd(t,e){return Il(4,2,t,e)}function Yd(t,e){return Il(4,4,t,e)}function $d(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xd(t,e,i){i=i!=null?i.concat([t]):null,Il(4,4,$d.bind(null,e,t),i)}function Rc(){}function Jd(t,e){var i=pe();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&yc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function Qd(t,e){var i=pe();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&yc(e,r[1]))return r[0];if(r=t(),ms){Dn(!0);try{t()}finally{Dn(!1)}}return i.memoizedState=[r,e],r}function Lc(t,e,i){return i===void 0||(Ni&1073741824)!==0&&(Ut&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Ff(),Ct.lanes|=t,pa|=t,i)}function Wd(t,e,i,r){return je(i,e)?i:Fs.current!==null?(t=Lc(t,i,r),je(t,e)||(we=!0),t):(Ni&42)===0||(Ni&1073741824)!==0&&(Ut&261930)===0?(we=!0,t.memoizedState=i):(t=Ff(),Ct.lanes|=t,pa|=t,e)}function Fd(t,e,i,r,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var g=I.T,x={};I.T=x,zc(t,!1,e,i);try{var C=h(),P=I.S;if(P!==null&&P(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=hp(C,r);ho(t,e,V,bn(t))}else ho(t,e,r,bn(t))}catch(J){ho(t,e,{then:function(){},status:"rejected",reason:J},bn())}finally{nt.p=d,g!==null&&x.types!==null&&(g.types=x.types),I.T=g}}function vp(){}function jc(t,e,i,r){if(t.tag!==5)throw Error(u(476));var h=tf(t).queue;Fd(t,h,e,W,i===null?vp:function(){return ef(t),i(r)})}function tf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:W},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ef(t){var e=tf(t);e.next===null&&(e=t.alternate.memoizedState),ho(t,e.next.queue,{},bn())}function kc(){return Be(No)}function nf(){return pe().memoizedState}function af(){return pe().memoizedState}function gp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=bn();t=ca(i);var r=ha(e,t,i);r!==null&&(un(r,e,i),ro(r,e,i)),e={cache:lc()},t.payload=e;return}e=e.return}}function yp(t,e,i){var r=bn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Gl(t)?rf(e,i):(i=Jr(t,e,i,r),i!==null&&(un(i,t,r),of(i,e,r)))}function sf(t,e,i){var r=bn();ho(t,e,i,r)}function ho(t,e,i,r){var h={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gl(t))rf(e,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var g=e.lastRenderedState,x=d(g,i);if(h.hasEagerState=!0,h.eagerState=x,je(x,g))return li(t,e,h,0),te===null&&as(),!1}catch{}if(i=Jr(t,e,h,r),i!==null)return un(i,t,r),of(i,e,r),!0}return!1}function zc(t,e,i,r){if(r={lane:2,revertLane:dh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gl(t)){if(e)throw Error(u(479))}else e=Jr(t,i,r,2),e!==null&&un(e,t,2)}function Gl(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function rf(t,e){tr=Bl=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function of(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}var fo={readContext:Be,use:Hl,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};fo.useEffectEvent=he;var lf={readContext:Be,use:Hl,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:Gd,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Zl(4194308,4,$d.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Zl(4194308,4,t,e)},useInsertionEffect:function(t,e){Zl(4,2,t,e)},useMemo:function(t,e){var i=Je();e=e===void 0?null:e;var r=t();if(ms){Dn(!0);try{t()}finally{Dn(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=Je();if(i!==void 0){var h=i(e);if(ms){Dn(!0);try{i(e)}finally{Dn(!1)}}}else h=e;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=yp.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:function(t){t=Oc(t);var e=t.queue,i=sf.bind(null,Ct,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Rc,useDeferredValue:function(t,e){var i=Je();return Lc(i,t,e)},useTransition:function(){var t=Oc(!1);return t=Fd.bind(null,Ct,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=Ct,h=Je();if(zt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),te===null)throw Error(u(349));(Ut&127)!==0||Cd(r,e,i)}h.memoizedState=i;var d={value:i,getSnapshot:e};return h.queue=d,Gd(Rd.bind(null,r,d,t),[t]),r.flags|=2048,nr(9,{destroy:void 0},Nd.bind(null,r,d,i,e),null),i},useId:function(){var t=Je(),e=te.identifierPrefix;if(zt){var i=it,r=X;i=(r&~(1<<32-Ye(r)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Ul++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=dp++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:kc,useFormState:Pd,useActionState:Pd,useOptimistic:function(t){var e=Je();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=zc.bind(null,Ct,!0,i),i.dispatch=e,[t,e]},useMemoCache:xc,useCacheRefresh:function(){return Je().memoizedState=gp.bind(null,Ct)},useEffectEvent:function(t){var e=Je(),i={impl:t};return e.memoizedState=i,function(){if((Vt&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},Mc={readContext:Be,use:Hl,useCallback:Jd,useContext:Be,useEffect:Nc,useImperativeHandle:Xd,useInsertionEffect:Kd,useLayoutEffect:Yd,useMemo:Qd,useReducer:ql,useRef:Id,useState:function(){return ql(Ri)},useDebugValue:Rc,useDeferredValue:function(t,e){var i=pe();return Wd(i,Jt.memoizedState,t,e)},useTransition:function(){var t=ql(Ri)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:co(t),e]},useSyncExternalStore:Od,useId:nf,useHostTransitionStatus:kc,useFormState:Hd,useActionState:Hd,useOptimistic:function(t,e){var i=pe();return kd(i,Jt,t,e)},useMemoCache:xc,useCacheRefresh:af};Mc.useEffectEvent=Vd;var uf={readContext:Be,use:Hl,useCallback:Jd,useContext:Be,useEffect:Nc,useImperativeHandle:Xd,useInsertionEffect:Kd,useLayoutEffect:Yd,useMemo:Qd,useReducer:Ac,useRef:Id,useState:function(){return Ac(Ri)},useDebugValue:Rc,useDeferredValue:function(t,e){var i=pe();return Jt===null?Lc(i,t,e):Wd(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Ac(Ri)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:co(t),e]},useSyncExternalStore:Od,useId:nf,useHostTransitionStatus:kc,useFormState:Zd,useActionState:Zd,useOptimistic:function(t,e){var i=pe();return Jt!==null?kd(i,Jt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:xc,useCacheRefresh:af};uf.useEffectEvent=Vd;function Dc(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:R({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Bc={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=bn(),h=ca(r);h.payload=e,i!=null&&(h.callback=i),e=ha(t,h,r),e!==null&&(un(e,t,r),ro(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=bn(),h=ca(r);h.tag=1,h.payload=e,i!=null&&(h.callback=i),e=ha(t,h,r),e!==null&&(un(e,t,r),ro(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=bn(),r=ca(i);r.tag=2,e!=null&&(r.callback=e),e=ha(t,r,i),e!==null&&(un(e,t,i),ro(e,t,i))}};function cf(t,e,i,r,h,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,g):e.prototype&&e.prototype.isPureReactComponent?!ia(i,r)||!ia(h,d):!0}function hf(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Bc.enqueueReplaceState(e,e.state,null)}function _s(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=R({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function df(t){is(t)}function ff(t){console.error(t)}function mf(t){is(t)}function Vl(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function _f(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uc(t,e,i){return i=ca(i),i.tag=3,i.payload={element:null},i.callback=function(){Vl(t,e)},i}function pf(t){return t=ca(t),t.tag=3,t}function vf(t,e,i,r){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var d=r.value;t.payload=function(){return h(d)},t.callback=function(){_f(e,i,r)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){_f(e,i,r),typeof h!="function"&&(va===null?va=new Set([this]):va.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function bp(t,e,i,r,h){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&$s(e,i,h,!0),i=pn.current,i!==null){switch(i.tag){case 31:case 13:return jn===null?iu():i.alternate===null&&de===0&&(de=3),i.flags&=-257,i.flags|=65536,i.lanes=h,r===jl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),uh(t,r,h)),!1;case 22:return i.flags|=65536,r===jl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),uh(t,r,h)),!1}throw Error(u(435,i.tag))}return uh(t,r,h),iu(),!1}if(zt)return e=pn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,r!==Ys&&(t=Error(u(422),{cause:r}),os(s(t,i)))):(r!==Ys&&(e=Error(u(423),{cause:r}),os(s(e,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=s(r,i),h=Uc(t.stateNode,r,h),mc(t,h),de!==4&&(de=2)),!1;var d=Error(u(520),{cause:r});if(d=s(d,i),wo===null?wo=[d]:wo.push(d),de!==4&&(de=2),e===null)return!0;r=s(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Uc(i.stateNode,r,t),mc(i,t),!1;case 1:if(e=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(va===null||!va.has(d))))return i.flags|=65536,h&=-h,i.lanes|=h,h=pf(h),vf(h,t,i,r),mc(i,h),!1}i=i.return}while(i!==null);return!1}var Pc=Error(u(461)),we=!1;function Ue(t,e,i,r){e.child=t===null?bd(e,null,i,r):fs(e,t.child,i,r)}function gf(t,e,i,r,h){i=i.render;var d=e.ref;if("ref"in r){var g={};for(var x in r)x!=="ref"&&(g[x]=r[x])}else g=r;return us(e),r=bc(t,e,i,g,d,h),x=wc(),t!==null&&!we?(Sc(t,e,h),Li(t,e,h)):(zt&&x&&Oe(e),e.flags|=1,Ue(t,e,r,h),e.child)}function yf(t,e,i,r,h){if(t===null){var d=i.type;return typeof d=="function"&&!Vs(d)&&d.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=d,bf(t,e,d,r,h)):(t=rs(i.type,null,r,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(d=t.child,!Yc(t,h)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:ia,i(g,r)&&t.ref===e.ref)return Li(t,e,h)}return e.flags|=1,t=Ln(d,r),t.ref=e.ref,t.return=e,e.child=t}function bf(t,e,i,r,h){if(t!==null){var d=t.memoizedProps;if(ia(d,r)&&t.ref===e.ref)if(we=!1,e.pendingProps=r=d,Yc(t,h))(t.flags&131072)!==0&&(we=!0);else return e.lanes=t.lanes,Li(t,e,h)}return Hc(t,e,i,r,h)}function wf(t,e,i,r){var h=r.children,d=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,t!==null){for(r=e.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~d}else r=0,e.child=null;return Sf(t,e,d,i,r)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rl(e,d!==null?d.cachePool:null),d!==null?Td(e,d):pc(),xd(e);else return r=e.lanes=536870912,Sf(t,e,d!==null?d.baseLanes|i:i,i,r)}else d!==null?(Rl(e,d.cachePool),Td(e,d),fa(),e.memoizedState=null):(t!==null&&Rl(e,null),pc(),fa());return Ue(t,e,h,i),e.child}function mo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Sf(t,e,i,r,h){var d=cc();return d=d===null?null:{parent:ye._currentValue,pool:d},e.memoizedState={baseLanes:i,cachePool:d},t!==null&&Rl(e,null),pc(),xd(e),t!==null&&$s(t,e,r,!0),e.childLanes=h,null}function Kl(t,e){return e=$l({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Tf(t,e,i){return fs(e,t.child,null,i),t=Kl(e,e.pendingProps),t.flags|=2,vn(e),e.memoizedState=null,t}function wp(t,e,i){var r=e.pendingProps,h=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(zt){if(r.mode==="hidden")return t=Kl(e,r),e.lanes=536870912,mo(null,t);if(gc(e),(t=Zt)?(t=Mm(t,an),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:H!==null?{id:X,overflow:it}:null,retryLane:536870912,hydrationErrors:null},i=Wr(t),i.return=e,e.child=i,qt=e,Zt=null)):t=null,t===null)throw ci(e);return e.lanes=536870912,null}return Kl(e,r)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(gc(e),h)if(e.flags&256)e.flags&=-257,e=Tf(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(we||$s(t,e,i,!1),h=(i&t.childLanes)!==0,we||h){if(r=te,r!==null&&(g=nl(r,i),g!==0&&g!==d.retryLane))throw d.retryLane=g,Rn(t,g),un(r,t,g),Pc;iu(),e=Tf(t,e,i)}else t=d.treeContext,Zt=kn(g.nextSibling),qt=e,zt=!0,ui=null,an=!1,t!==null&&Xe(e,t),e=Kl(e,r),e.flags|=4096;return e}return t=Ln(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Hc(t,e,i,r,h){return us(e),i=bc(t,e,i,r,void 0,h),r=wc(),t!==null&&!we?(Sc(t,e,h),Li(t,e,h)):(zt&&r&&Oe(e),e.flags|=1,Ue(t,e,i,h),e.child)}function xf(t,e,i,r,h,d){return us(e),e.updateQueue=null,i=Ad(e,r,i,h),Ed(t),r=wc(),t!==null&&!we?(Sc(t,e,d),Li(t,e,d)):(zt&&r&&Oe(e),e.flags|=1,Ue(t,e,i,d),e.child)}function Ef(t,e,i,r,h){if(us(e),e.stateNode===null){var d=Ei,g=i.contextType;typeof g=="object"&&g!==null&&(d=Be(g)),d=new i(r,d),e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bc,e.stateNode=d,d._reactInternals=e,d=e.stateNode,d.props=r,d.state=e.memoizedState,d.refs={},dc(e),g=i.contextType,d.context=typeof g=="object"&&g!==null?Be(g):Ei,d.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Dc(e,i,g,r),d.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Bc.enqueueReplaceState(d,d.state,null),lo(e,r,d,h),oo(),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){d=e.stateNode;var x=e.memoizedProps,C=_s(i,x);d.props=C;var P=d.context,V=i.contextType;g=Ei,typeof V=="object"&&V!==null&&(g=Be(V));var J=i.getDerivedStateFromProps;V=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=e.pendingProps!==x,V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||P!==g)&&hf(e,d,r,g),ua=!1;var q=e.memoizedState;d.state=q,lo(e,r,d,h),oo(),P=e.memoizedState,x||q!==P||ua?(typeof J=="function"&&(Dc(e,i,J,r),P=e.memoizedState),(C=ua||cf(e,i,C,r,q,P,g))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=P),d.props=r,d.state=P,d.context=g,r=C):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{d=e.stateNode,fc(t,e),g=e.memoizedProps,V=_s(i,g),d.props=V,J=e.pendingProps,q=d.context,P=i.contextType,C=Ei,typeof P=="object"&&P!==null&&(C=Be(P)),x=i.getDerivedStateFromProps,(P=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==J||q!==C)&&hf(e,d,r,C),ua=!1,q=e.memoizedState,d.state=q,lo(e,r,d,h),oo();var Z=e.memoizedState;g!==J||q!==Z||ua||t!==null&&t.dependencies!==null&&Cl(t.dependencies)?(typeof x=="function"&&(Dc(e,i,x,r),Z=e.memoizedState),(V=ua||cf(e,i,V,r,q,Z,C)||t!==null&&t.dependencies!==null&&Cl(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,Z,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,Z,C)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Z),d.props=r,d.state=Z,d.context=C,r=V):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),r=!1)}return d=r,Yl(t,e),r=(e.flags&128)!==0,d||r?(d=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:d.render(),e.flags|=1,t!==null&&r?(e.child=fs(e,t.child,null,h),e.child=fs(e,null,i,h)):Ue(t,e,i,h),e.memoizedState=d.state,t=e.child):t=Li(t,e,h),t}function Af(t,e,i,r){return Oi(),e.flags|=256,Ue(t,e,i,r),e.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zc(t){return{baseLanes:t,cachePool:md()}}function Ic(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=yn),t}function Of(t,e,i){var r=e.pendingProps,h=!1,d=(e.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(zt){if(h?da(e):fa(),(t=Zt)?(t=Mm(t,an),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:H!==null?{id:X,overflow:it}:null,retryLane:536870912,hydrationErrors:null},i=Wr(t),i.return=e,e.child=i,qt=e,Zt=null)):t=null,t===null)throw ci(e);return Eh(t)?e.lanes=32:e.lanes=536870912,null}var x=r.children;return r=r.fallback,h?(fa(),h=e.mode,x=$l({mode:"hidden",children:x},h),r=Ai(r,h,i,null),x.return=e,r.return=e,x.sibling=r,e.child=x,r=e.child,r.memoizedState=Zc(i),r.childLanes=Ic(t,g,i),e.memoizedState=qc,mo(null,r)):(da(e),Gc(e,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(d)e.flags&256?(da(e),e.flags&=-257,e=Vc(t,e,i)):e.memoizedState!==null?(fa(),e.child=t.child,e.flags|=128,e=null):(fa(),x=r.fallback,h=e.mode,r=$l({mode:"visible",children:r.children},h),x=Ai(x,h,i,null),x.flags|=2,r.return=e,x.return=e,r.sibling=x,e.child=r,fs(e,t.child,null,i),r=e.child,r.memoizedState=Zc(i),r.childLanes=Ic(t,g,i),e.memoizedState=qc,e=mo(null,r));else if(da(e),Eh(x)){if(g=x.nextSibling&&x.nextSibling.dataset,g)var P=g.dgst;g=P,r=Error(u(419)),r.stack="",r.digest=g,os({value:r,source:null,stack:null}),e=Vc(t,e,i)}else if(we||$s(t,e,i,!1),g=(i&t.childLanes)!==0,we||g){if(g=te,g!==null&&(r=nl(g,i),r!==0&&r!==C.retryLane))throw C.retryLane=r,Rn(t,r),un(g,t,r),Pc;xh(x)||iu(),e=Vc(t,e,i)}else xh(x)?(e.flags|=192,e.child=t.child,e=null):(t=C.treeContext,Zt=kn(x.nextSibling),qt=e,zt=!0,ui=null,an=!1,t!==null&&Xe(e,t),e=Gc(e,r.children),e.flags|=4096);return e}return h?(fa(),x=r.fallback,h=e.mode,C=t.child,P=C.sibling,r=Ln(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,P!==null?x=Ln(P,x):(x=Ai(x,h,i,null),x.flags|=2),x.return=e,r.return=e,r.sibling=x,e.child=r,mo(null,r),r=e.child,x=t.child.memoizedState,x===null?x=Zc(i):(h=x.cachePool,h!==null?(C=ye._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=md(),x={baseLanes:x.baseLanes|i,cachePool:h}),r.memoizedState=x,r.childLanes=Ic(t,g,i),e.memoizedState=qc,mo(t.child,r)):(da(e),i=t.child,t=i.sibling,i=Ln(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function Gc(t,e){return e=$l({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $l(t,e){return t=Ie(22,t,null,e),t.lanes=0,t}function Vc(t,e,i){return fs(e,t.child,null,i),t=Gc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cf(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rc(t.return,e,i)}function Kc(t,e,i,r,h,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:h,treeForkCount:d}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=i,g.tailMode=h,g.treeForkCount=d)}function Nf(t,e,i){var r=e.pendingProps,h=r.revealOrder,d=r.tail;r=r.children;var g=_e.current,x=(g&2)!==0;if(x?(g=g&1|2,e.flags|=128):g&=1,F(_e,g),Ue(t,e,r,i),r=zt?S:0,!x&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cf(t,i,e);else if(t.tag===19)Cf(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=e.child,h=null;i!==null;)t=i.alternate,t!==null&&Dl(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Kc(e,!1,h,i,d,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&Dl(t)===null){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Kc(e,!0,i,null,d,r);break;case"together":Kc(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Li(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),pa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if($s(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=Ln(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ln(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Yc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Cl(t)))}function Sp(t,e,i){switch(e.tag){case 3:ne(e,e.stateNode.containerInfo),la(e,ye,t.memoizedState.cache),Oi();break;case 27:case 5:Jn(e);break;case 4:ne(e,e.stateNode.containerInfo);break;case 10:la(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,gc(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(da(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Of(t,e,i):(da(e),t=Li(t,e,i),t!==null?t.sibling:null);da(e);break;case 19:var h=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||($s(t,e,i,!1),r=(i&e.childLanes)!==0),h){if(r)return Nf(t,e,i);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(_e,_e.current),r)break;return null;case 22:return e.lanes=0,wf(t,e,i,e.pendingProps);case 24:la(e,ye,t.memoizedState.cache)}return Li(t,e,i)}function Rf(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)we=!0;else{if(!Yc(t,i)&&(e.flags&128)===0)return we=!1,Sp(t,e,i);we=(t.flags&131072)!==0}else we=!1,zt&&(e.flags&1048576)!==0&&Lt(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=hs(e.elementType),e.type=t,typeof t=="function")Vs(t)?(r=_s(t,r),e.tag=1,e=Ef(null,e,t,r,i)):(e.tag=0,e=Hc(null,e,t,r,i));else{if(t!=null){var h=t.$$typeof;if(h===ct){e.tag=11,e=gf(null,e,t,r,i);break t}else if(h===lt){e.tag=14,e=yf(null,e,t,r,i);break t}}throw e=me(t)||t,Error(u(306,e,""))}}return e;case 0:return Hc(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,h=_s(r,e.pendingProps),Ef(t,e,r,h,i);case 3:t:{if(ne(e,e.stateNode.containerInfo),t===null)throw Error(u(387));r=e.pendingProps;var d=e.memoizedState;h=d.element,fc(t,e),lo(e,r,null,i);var g=e.memoizedState;if(r=g.cache,la(e,ye,r),r!==d.cache&&oc(e,[ye],i,!0),oo(),r=g.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){e=Af(t,e,r,i);break t}else if(r!==h){h=s(Error(u(424)),e),os(h),e=Af(t,e,r,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Zt=kn(t.firstChild),qt=e,zt=!0,ui=null,an=!0,i=bd(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Oi(),r===h){e=Li(t,e,i);break t}Ue(t,e,r,i)}e=e.child}return e;case 26:return Yl(t,e),t===null?(i=qm(e.type,null,e.pendingProps,null))?e.memoizedState=i:zt||(i=e.type,t=e.pendingProps,r=cu(rt.current).createElement(i),r[ve]=e,r[Le]=t,Pe(r,i,t),ge(r),e.stateNode=r):e.memoizedState=qm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Jn(e),t===null&&zt&&(r=e.stateNode=Um(e.type,e.pendingProps,rt.current),qt=e,an=!0,h=Zt,wa(e.type)?(Ah=h,Zt=kn(r.firstChild)):Zt=h),Ue(t,e,e.pendingProps.children,i),Yl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&zt&&((h=r=Zt)&&(r=Wp(r,e.type,e.pendingProps,an),r!==null?(e.stateNode=r,qt=e,Zt=kn(r.firstChild),an=!1,h=!0):h=!1),h||ci(e)),Jn(e),h=e.type,d=e.pendingProps,g=t!==null?t.memoizedProps:null,r=d.children,wh(h,d)?r=null:g!==null&&wh(h,g)&&(e.flags|=32),e.memoizedState!==null&&(h=bc(t,e,fp,null,null,i),No._currentValue=h),Yl(t,e),Ue(t,e,r,i),e.child;case 6:return t===null&&zt&&((t=i=Zt)&&(i=Fp(i,e.pendingProps,an),i!==null?(e.stateNode=i,qt=e,Zt=null,t=!0):t=!1),t||ci(e)),null;case 13:return Of(t,e,i);case 4:return ne(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fs(e,null,r,i):Ue(t,e,r,i),e.child;case 11:return gf(t,e,e.type,e.pendingProps,i);case 7:return Ue(t,e,e.pendingProps,i),e.child;case 8:return Ue(t,e,e.pendingProps.children,i),e.child;case 12:return Ue(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,la(e,e.type,r.value),Ue(t,e,r.children,i),e.child;case 9:return h=e.type._context,r=e.pendingProps.children,us(e),h=Be(h),r=r(h),e.flags|=1,Ue(t,e,r,i),e.child;case 14:return yf(t,e,e.type,e.pendingProps,i);case 15:return bf(t,e,e.type,e.pendingProps,i);case 19:return Nf(t,e,i);case 31:return wp(t,e,i);case 22:return wf(t,e,i,e.pendingProps);case 24:return us(e),r=Be(ye),t===null?(h=cc(),h===null&&(h=te,d=lc(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=i),h=d),e.memoizedState={parent:r,cache:h},dc(e),la(e,ye,h)):((t.lanes&i)!==0&&(fc(t,e),lo(e,null,null,i),oo()),h=t.memoizedState,d=e.memoizedState,h.parent!==r?(h={parent:r,cache:r},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),la(e,ye,r)):(r=d.cache,la(e,ye,r),r!==h.cache&&oc(e,[ye],i,!0))),Ue(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function ji(t){t.flags|=4}function $c(t,e,i,r,h){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(im())t.flags|=8192;else throw ds=jl,hc}else t.flags&=-16777217}function Lf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Km(e))if(im())t.flags|=8192;else throw ds=jl,hc}function Xl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Fo():536870912,t.lanes|=e,rr|=e)}function _o(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function se(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function Tp(t,e,i){var r=e.pendingProps;switch(ce(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(e),null;case 1:return se(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ci(ye),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(In(e)?ji(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,eo())),se(e),null;case 26:var h=e.type,d=e.memoizedState;return t===null?(ji(e),d!==null?(se(e),Lf(e,d)):(se(e),$c(e,h,null,r,i))):d?d!==t.memoizedState?(ji(e),se(e),Lf(e,d)):(se(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&ji(e),se(e),$c(e,h,t,r,i)),null;case 27:if(mi(e),i=rt.current,h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ji(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return se(e),null}t=et.current,In(e)?to(e):(t=Um(h,r,i),e.stateNode=t,ji(e))}return se(e),null;case 5:if(mi(e),h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ji(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return se(e),null}if(d=et.current,In(e))to(e);else{var g=cu(rt.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?g.createElement(h,{is:r.is}):g.createElement(h)}}d[ve]=e,d[Le]=r;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=d;t:switch(Pe(d,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ji(e)}}return se(e),$c(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ji(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(u(166));if(t=rt.current,In(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,h=qt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Om(t.nodeValue,i)),t||ci(e,!0)}else t=cu(t).createTextNode(r),t[ve]=e,e.stateNode=t}return se(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(r=In(e),i!==null){if(t===null){if(!r)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[ve]=e}else Oi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),t=!1}else i=eo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(vn(e),e):(vn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return se(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=In(e),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[ve]=e}else Oi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),h=!1}else h=eo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(vn(e),e):(vn(e),null)}return vn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=e.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==h&&(r.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Xl(e,e.updateQueue),se(e),null);case 4:return ie(),t===null&&ph(e.stateNode.containerInfo),se(e),null;case 10:return Ci(e.type),se(e),null;case 19:if(G(_e),r=e.memoizedState,r===null)return se(e),null;if(h=(e.flags&128)!==0,d=r.rendering,d===null)if(h)_o(r,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(d=Dl(t),d!==null){for(e.flags|=128,_o(r,!1),t=d.updateQueue,e.updateQueue=t,Xl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Qr(i,t),i=i.sibling;return F(_e,_e.current&1|2),zt&&_t(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ke()>tu&&(e.flags|=128,h=!0,_o(r,!1),e.lanes=4194304)}else{if(!h)if(t=Dl(d),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,Xl(e,t),_o(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!zt)return se(e),null}else 2*Ke()-r.renderingStartTime>tu&&i!==536870912&&(e.flags|=128,h=!0,_o(r,!1),e.lanes=4194304);r.isBackwards?(d.sibling=e.child,e.child=d):(t=r.last,t!==null?t.sibling=d:e.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ke(),t.sibling=null,i=_e.current,F(_e,h?i&1|2:i&1),zt&&_t(e,r.treeForkCount),t):(se(e),null);case 22:case 23:return vn(e),vc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(se(e),e.subtreeFlags&6&&(e.flags|=8192)):se(e),i=e.updateQueue,i!==null&&Xl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&G(cs),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ci(ye),se(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function xp(t,e){switch(ce(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ci(ye),ie(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return mi(e),null;case 31:if(e.memoizedState!==null){if(vn(e),e.alternate===null)throw Error(u(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(vn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));Oi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(_e),null;case 4:return ie(),null;case 10:return Ci(e.type),null;case 22:case 23:return vn(e),vc(),t!==null&&G(cs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ci(ye),null;case 25:return null;default:return null}}function jf(t,e){switch(ce(e),e.tag){case 3:Ci(ye),ie();break;case 26:case 27:case 5:mi(e);break;case 4:ie();break;case 31:e.memoizedState!==null&&vn(e);break;case 13:vn(e);break;case 19:G(_e);break;case 10:Ci(e.type);break;case 22:case 23:vn(e),vc(),t!==null&&G(cs);break;case 24:Ci(ye)}}function po(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var h=r.next;i=h;do{if((i.tag&t)===t){r=void 0;var d=i.create,g=i.inst;r=d(),g.destroy=r}i=i.next}while(i!==h)}}catch(x){$t(e,e.return,x)}}function ma(t,e,i){try{var r=e.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var d=h.next;r=d;do{if((r.tag&t)===t){var g=r.inst,x=g.destroy;if(x!==void 0){g.destroy=void 0,h=e;var C=i,P=x;try{P()}catch(V){$t(h,C,V)}}}r=r.next}while(r!==d)}}catch(V){$t(e,e.return,V)}}function kf(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Sd(e,i)}catch(r){$t(t,t.return,r)}}}function zf(t,e,i){i.props=_s(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){$t(t,e,r)}}function vo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(h){$t(t,e,h)}}function di(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(h){$t(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){$t(t,e,h)}else i.current=null}function Mf(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(h){$t(t,t.return,h)}}function Xc(t,e,i){try{var r=t.stateNode;Kp(r,t.type,i,e),r[Le]=e}catch(h){$t(t,t.return,h)}}function Df(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wa(t.type)||t.tag===4}function Jc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Df(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qc(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Fe));else if(r!==4&&(r===27&&wa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Qc(t,e,i),t=t.sibling;t!==null;)Qc(t,e,i),t=t.sibling}function Jl(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&wa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Jl(t,e,i),t=t.sibling;t!==null;)Jl(t,e,i),t=t.sibling}function Bf(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);Pe(e,r,i),e[ve]=t,e[Le]=i}catch(d){$t(t,t.return,d)}}var ki=!1,Se=!1,Wc=!1,Uf=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Ep(t,e){if(t=t.containerInfo,yh=vu,t=Fa(t),ai(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var h=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break t}var g=0,x=-1,C=-1,P=0,V=0,J=t,q=null;e:for(;;){for(var Z;J!==i||h!==0&&J.nodeType!==3||(x=g+h),J!==d||r!==0&&J.nodeType!==3||(C=g+r),J.nodeType===3&&(g+=J.nodeValue.length),(Z=J.firstChild)!==null;)q=J,J=Z;for(;;){if(J===t)break e;if(q===i&&++P===h&&(x=g),q===d&&++V===r&&(C=g),(Z=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=Z}i=x===-1||C===-1?null:{start:x,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(bh={focusedElem:t,selectionRange:i},vu=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){switch(e=ze,d=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,i=e,h=d.memoizedProps,d=d.memoizedState,r=i.stateNode;try{var ht=_s(i.type,h);t=r.getSnapshotBeforeUpdate(ht,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(yt){$t(i,i.return,yt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Th(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function Pf(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Mi(t,i),r&4&&po(5,i);break;case 1:if(Mi(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){$t(i,i.return,g)}else{var h=_s(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(i,i.return,g)}}r&64&&kf(i),r&512&&vo(i,i.return);break;case 3:if(Mi(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Sd(t,e)}catch(g){$t(i,i.return,g)}}break;case 27:e===null&&r&4&&Bf(i);case 26:case 5:Mi(t,i),e===null&&r&4&&Mf(i),r&512&&vo(i,i.return);break;case 12:Mi(t,i);break;case 31:Mi(t,i),r&4&&Zf(t,i);break;case 13:Mi(t,i),r&4&&If(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=zp.bind(null,i),tv(t,i))));break;case 22:if(r=i.memoizedState!==null||ki,!r){e=e!==null&&e.memoizedState!==null||Se,h=ki;var d=Se;ki=r,(Se=e)&&!d?Di(t,i,(i.subtreeFlags&8772)!==0):Mi(t,i),ki=h,Se=d}break;case 30:break;default:Mi(t,i)}}function Hf(t){var e=t.alternate;e!==null&&(t.alternate=null,Hf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&kr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,sn=!1;function zi(t,e,i){for(i=i.child;i!==null;)qf(t,e,i),i=i.sibling}function qf(t,e,i){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Ii,i)}catch{}switch(i.tag){case 26:Se||di(i,e),zi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Se||di(i,e);var r=oe,h=sn;wa(i.type)&&(oe=i.stateNode,sn=!1),zi(t,e,i),Ao(i.stateNode),oe=r,sn=h;break;case 5:Se||di(i,e);case 6:if(r=oe,h=sn,oe=null,zi(t,e,i),oe=r,sn=h,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(i.stateNode)}catch(d){$t(i,e,d)}else try{oe.removeChild(i.stateNode)}catch(d){$t(i,e,d)}break;case 18:oe!==null&&(sn?(t=oe,km(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),mr(t)):km(oe,i.stateNode));break;case 4:r=oe,h=sn,oe=i.stateNode.containerInfo,sn=!0,zi(t,e,i),oe=r,sn=h;break;case 0:case 11:case 14:case 15:ma(2,i,e),Se||ma(4,i,e),zi(t,e,i);break;case 1:Se||(di(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&zf(i,e,r)),zi(t,e,i);break;case 21:zi(t,e,i);break;case 22:Se=(r=Se)||i.memoizedState!==null,zi(t,e,i),Se=r;break;default:zi(t,e,i)}}function Zf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(i){$t(e,e.return,i)}}}function If(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(i){$t(e,e.return,i)}}function Ap(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Uf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Uf),e;default:throw Error(u(435,t.tag))}}function Ql(t,e){var i=Ap(t);e.forEach(function(r){if(!i.has(r)){i.add(r);var h=Mp.bind(null,t,r);r.then(h,h)}})}function rn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var h=i[r],d=t,g=e,x=g;t:for(;x!==null;){switch(x.tag){case 27:if(wa(x.type)){oe=x.stateNode,sn=!1;break t}break;case 5:oe=x.stateNode,sn=!1;break t;case 3:case 4:oe=x.stateNode.containerInfo,sn=!0;break t}x=x.return}if(oe===null)throw Error(u(160));qf(d,g,h),oe=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Gf(e,t),e=e.sibling}var Vn=null;function Gf(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(e,t),on(t),r&4&&(ma(3,t,t.return),po(3,t),ma(5,t,t.return));break;case 1:rn(e,t),on(t),r&512&&(Se||i===null||di(i,i.return)),r&64&&ki&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var h=Vn;if(rn(e,t),on(t),r&512&&(Se||i===null||di(i,i.return)),r&4){var d=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ba]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(r),h.head.insertBefore(d,h.querySelector("head > title"))),Pe(d,r,i),d[ve]=t,ge(d),r=d;break t;case"link":var g=Gm("link","href",h).get(r+(i.href||""));if(g){for(var x=0;x<g.length;x++)if(d=g[x],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(x,1);break e}}d=h.createElement(r),Pe(d,r,i),h.head.appendChild(d);break;case"meta":if(g=Gm("meta","content",h).get(r+(i.content||""))){for(x=0;x<g.length;x++)if(d=g[x],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(x,1);break e}}d=h.createElement(r),Pe(d,r,i),h.head.appendChild(d);break;default:throw Error(u(468,r))}d[ve]=t,ge(d),r=d}t.stateNode=r}else Vm(h,t.type,t.stateNode);else t.stateNode=Im(h,r,t.memoizedProps);else d!==r?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,r===null?Vm(h,t.type,t.stateNode):Im(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Xc(t,t.memoizedProps,i.memoizedProps)}break;case 27:rn(e,t),on(t),r&512&&(Se||i===null||di(i,i.return)),i!==null&&r&4&&Xc(t,t.memoizedProps,i.memoizedProps);break;case 5:if(rn(e,t),on(t),r&512&&(Se||i===null||di(i,i.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(ht){$t(t,t.return,ht)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,Xc(t,h,i!==null?i.memoizedProps:h)),r&1024&&(Wc=!0);break;case 6:if(rn(e,t),on(t),r&4){if(t.stateNode===null)throw Error(u(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(ht){$t(t,t.return,ht)}}break;case 3:if(fu=null,h=Vn,Vn=hu(e.containerInfo),rn(e,t),Vn=h,on(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{mr(e.containerInfo)}catch(ht){$t(t,t.return,ht)}Wc&&(Wc=!1,Vf(t));break;case 4:r=Vn,Vn=hu(t.stateNode.containerInfo),rn(e,t),on(t),Vn=r;break;case 12:rn(e,t),on(t);break;case 31:rn(e,t),on(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 13:rn(e,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Fl=Ke()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 22:h=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,P=ki,V=Se;if(ki=P||h,Se=V||C,rn(e,t),Se=V,ki=P,on(t),r&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(i===null||C||ki||Se||ps(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){C=i=e;try{if(d=C.stateNode,h)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=C.stateNode;var J=C.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ht){$t(C,C.return,ht)}}}else if(e.tag===6){if(i===null){C=e;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ht){$t(C,C.return,ht)}}}else if(e.tag===18){if(i===null){C=e;try{var Z=C.stateNode;h?zm(Z,!0):zm(C.stateNode,!1)}catch(ht){$t(C,C.return,ht)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Ql(t,i))));break;case 19:rn(e,t),on(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 30:break;case 21:break;default:rn(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Df(r)){i=r;break}r=r.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var h=i.stateNode,d=Jc(t);Jl(t,d,h);break;case 5:var g=i.stateNode;i.flags&32&&(xn(g,""),i.flags&=-33);var x=Jc(t);Jl(t,x,g);break;case 3:case 4:var C=i.stateNode.containerInfo,P=Jc(t);Qc(t,P,C);break;default:throw Error(u(161))}}catch(V){$t(t,t.return,V)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Vf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Mi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Pf(t,e.alternate,e),e=e.sibling}function ps(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ma(4,e,e.return),ps(e);break;case 1:di(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&zf(e,e.return,i),ps(e);break;case 27:Ao(e.stateNode);case 26:case 5:di(e,e.return),ps(e);break;case 22:e.memoizedState===null&&ps(e);break;case 30:ps(e);break;default:ps(e)}t=t.sibling}}function Di(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,h=t,d=e,g=d.flags;switch(d.tag){case 0:case 11:case 15:Di(h,d,i),po(4,d);break;case 1:if(Di(h,d,i),r=d,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(r,r.return,P)}if(r=d,h=r.updateQueue,h!==null){var x=r.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)wd(C[h],x)}catch(P){$t(r,r.return,P)}}i&&g&64&&kf(d),vo(d,d.return);break;case 27:Bf(d);case 26:case 5:Di(h,d,i),i&&r===null&&g&4&&Mf(d),vo(d,d.return);break;case 12:Di(h,d,i);break;case 31:Di(h,d,i),i&&g&4&&Zf(h,d);break;case 13:Di(h,d,i),i&&g&4&&If(h,d);break;case 22:d.memoizedState===null&&Di(h,d,i),vo(d,d.return);break;case 30:break;default:Di(h,d,i)}e=e.sibling}}function Fc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&no(i))}function th(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&no(t))}function Kn(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kf(t,e,i,r),e=e.sibling}function Kf(t,e,i,r){var h=e.flags;switch(e.tag){case 0:case 11:case 15:Kn(t,e,i,r),h&2048&&po(9,e);break;case 1:Kn(t,e,i,r);break;case 3:Kn(t,e,i,r),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){Kn(t,e,i,r),t=e.stateNode;try{var d=e.memoizedProps,g=d.id,x=d.onPostCommit;typeof x=="function"&&x(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$t(e,e.return,C)}}else Kn(t,e,i,r);break;case 31:Kn(t,e,i,r);break;case 13:Kn(t,e,i,r);break;case 23:break;case 22:d=e.stateNode,g=e.alternate,e.memoizedState!==null?d._visibility&2?Kn(t,e,i,r):go(t,e):d._visibility&2?Kn(t,e,i,r):(d._visibility|=2,ir(t,e,i,r,(e.subtreeFlags&10256)!==0||!1)),h&2048&&Fc(g,e);break;case 24:Kn(t,e,i,r),h&2048&&th(e.alternate,e);break;default:Kn(t,e,i,r)}}function ir(t,e,i,r,h){for(h=h&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var d=t,g=e,x=i,C=r,P=g.flags;switch(g.tag){case 0:case 11:case 15:ir(d,g,x,C,h),po(8,g);break;case 23:break;case 22:var V=g.stateNode;g.memoizedState!==null?V._visibility&2?ir(d,g,x,C,h):go(d,g):(V._visibility|=2,ir(d,g,x,C,h)),h&&P&2048&&Fc(g.alternate,g);break;case 24:ir(d,g,x,C,h),h&&P&2048&&th(g.alternate,g);break;default:ir(d,g,x,C,h)}e=e.sibling}}function go(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,h=r.flags;switch(r.tag){case 22:go(i,r),h&2048&&Fc(r.alternate,r);break;case 24:go(i,r),h&2048&&th(r.alternate,r);break;default:go(i,r)}e=e.sibling}}var yo=8192;function ar(t,e,i){if(t.subtreeFlags&yo)for(t=t.child;t!==null;)Yf(t,e,i),t=t.sibling}function Yf(t,e,i){switch(t.tag){case 26:ar(t,e,i),t.flags&yo&&t.memoizedState!==null&&dv(i,Vn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,e,i);break;case 3:case 4:var r=Vn;Vn=hu(t.stateNode.containerInfo),ar(t,e,i),Vn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=yo,yo=16777216,ar(t,e,i),yo=r):ar(t,e,i));break;default:ar(t,e,i)}}function $f(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function bo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];ze=r,Jf(r,t)}$f(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xf(t),t=t.sibling}function Xf(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&ma(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wl(t)):bo(t);break;default:bo(t)}}function Wl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];ze=r,Jf(r,t)}$f(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ma(8,e,e.return),Wl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Wl(e));break;default:Wl(e)}t=t.sibling}}function Jf(t,e){for(;ze!==null;){var i=ze;switch(i.tag){case 0:case 11:case 15:ma(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:no(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,ze=r;else t:for(i=t;ze!==null;){r=ze;var h=r.sibling,d=r.return;if(Hf(r),r===i){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var Op={getCacheForType:function(t){var e=Be(ye),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Be(ye).controller.signal}},Cp=typeof WeakMap=="function"?WeakMap:Map,Vt=0,te=null,Mt=null,Ut=0,Yt=0,gn=null,_a=!1,sr=!1,eh=!1,Bi=0,de=0,pa=0,vs=0,nh=0,yn=0,rr=0,wo=null,ln=null,ih=!1,Fl=0,Qf=0,tu=1/0,eu=null,va=null,Ce=0,ga=null,or=null,Ui=0,ah=0,sh=null,Wf=null,So=0,rh=null;function bn(){return(Vt&2)!==0&&Ut!==0?Ut&-Ut:I.T!==null?dh():Lr()}function Ff(){if(yn===0)if((Ut&536870912)===0||zt){var t=za;za<<=1,(za&3932160)===0&&(za=262144),yn=t}else yn=536870912;return t=pn.current,t!==null&&(t.flags|=32),yn}function un(t,e,i){(t===te&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(lr(t,0),ya(t,Ut,yn,!1)),vi(t,i),((Vt&2)===0||t!==te)&&(t===te&&((Vt&2)===0&&(vs|=i),de===4&&ya(t,Ut,yn,!1)),fi(t))}function tm(t,e,i){if((Vt&6)!==0)throw Error(u(327));var r=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Da(t,e),h=r?Lp(t,e):lh(t,e,!0),d=r;do{if(h===0){sr&&!r&&ya(t,e,0,!1);break}else{if(i=t.current.alternate,d&&!Np(i)){h=lh(t,e,!1),d=!1;continue}if(h===2){if(d=e,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var x=t;h=wo;var C=x.current.memoizedState.isDehydrated;if(C&&(lr(x,g).flags|=256),g=lh(x,g,!1),g!==2){if(eh&&!C){x.errorRecoveryDisabledLanes|=d,vs|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=g}if(d=!1,h!==2)continue}}if(h===1){lr(t,0),ya(t,e,0,!0);break}t:{switch(r=t,d=h,d){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:ya(r,e,yn,!_a);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Fl+300-Ke(),10<h)){if(ya(r,e,yn,!_a),Cs(r,0,!0)!==0)break t;Ui=e,r.timeoutHandle=Lm(em.bind(null,r,i,ln,eu,ih,e,yn,vs,rr,_a,d,"Throttled",-0,0),h);break t}em(r,i,ln,eu,ih,e,yn,vs,rr,_a,d,null,-0,0)}}break}while(!0);fi(t)}function em(t,e,i,r,h,d,g,x,C,P,V,J,q,Z){if(t.timeoutHandle=-1,J=e.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fe},Yf(e,d,J);var ht=(d&62914560)===d?Fl-Ke():(d&4194048)===d?Qf-Ke():0;if(ht=fv(J,ht),ht!==null){Ui=d,t.cancelPendingCommit=ht(um.bind(null,t,e,d,i,r,h,g,x,C,V,J,null,q,Z)),ya(t,d,g,!P);return}}um(t,e,d,i,r,h,g,x,C)}function Np(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var h=i[r],d=h.getSnapshot;h=h.value;try{if(!je(d(),h))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ya(t,e,i,r){e&=~nh,e&=~vs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var h=e;0<h;){var d=31-Ye(h),g=1<<d;r[d]=-1,h&=~g}i!==0&&tl(t,i,e)}function nu(){return(Vt&6)===0?(To(0),!1):!0}function oh(){if(Mt!==null){if(Yt===0)var t=Mt.return;else t=Mt,Gn=hi=null,Tc(t),Ws=null,ao=0,t=Mt;for(;t!==null;)jf(t.alternate,t),t=t.return;Mt=null}}function lr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Xp(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ui=0,oh(),te=t,Mt=i=Ln(t.current,null),Ut=e,Yt=0,gn=null,_a=!1,sr=Da(t,e),eh=!1,rr=yn=nh=vs=pa=de=0,ln=wo=null,ih=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var h=31-Ye(r),d=1<<h;e|=t[h],r&=~d}return Bi=e,as(),i}function nm(t,e){Ct=null,I.H=fo,e===Qs||e===Ll?(e=vd(),Yt=3):e===hc?(e=vd(),Yt=4):Yt=e===Pc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,gn=e,Mt===null&&(de=1,Vl(t,s(e,t.current)))}function im(){var t=pn.current;return t===null?!0:(Ut&4194048)===Ut?jn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?t===jn:!1}function am(){var t=I.H;return I.H=fo,t===null?fo:t}function sm(){var t=I.A;return I.A=Op,t}function iu(){de=4,_a||(Ut&4194048)!==Ut&&pn.current!==null||(sr=!0),(pa&134217727)===0&&(vs&134217727)===0||te===null||ya(te,Ut,yn,!1)}function lh(t,e,i){var r=Vt;Vt|=2;var h=am(),d=sm();(te!==t||Ut!==e)&&(eu=null,lr(t,e)),e=!1;var g=de;t:do try{if(Yt!==0&&Mt!==null){var x=Mt,C=gn;switch(Yt){case 8:oh(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(e=!0);var P=Yt;if(Yt=0,gn=null,ur(t,x,C,P),i&&sr){g=0;break t}break;default:P=Yt,Yt=0,gn=null,ur(t,x,C,P)}}Rp(),g=de;break}catch(V){nm(t,V)}while(!0);return e&&t.shellSuspendCounter++,Gn=hi=null,Vt=r,I.H=h,I.A=d,Mt===null&&(te=null,Ut=0,as()),g}function Rp(){for(;Mt!==null;)rm(Mt)}function Lp(t,e){var i=Vt;Vt|=2;var r=am(),h=sm();te!==t||Ut!==e?(eu=null,tu=Ke()+500,lr(t,e)):sr=Da(t,e);t:do try{if(Yt!==0&&Mt!==null){e=Mt;var d=gn;e:switch(Yt){case 1:Yt=0,gn=null,ur(t,e,d,1);break;case 2:case 9:if(_d(d)){Yt=0,gn=null,om(e);break}e=function(){Yt!==2&&Yt!==9||te!==t||(Yt=7),fi(t)},d.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:_d(d)?(Yt=0,gn=null,om(e)):(Yt=0,gn=null,ur(t,e,d,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var x=Mt;if(g?Km(g):x.stateNode.complete){Yt=0,gn=null;var C=x.sibling;if(C!==null)Mt=C;else{var P=x.return;P!==null?(Mt=P,au(P)):Mt=null}break e}}Yt=0,gn=null,ur(t,e,d,5);break;case 6:Yt=0,gn=null,ur(t,e,d,6);break;case 8:oh(),de=6;break t;default:throw Error(u(462))}}jp();break}catch(V){nm(t,V)}while(!0);return Gn=hi=null,I.H=r,I.A=h,Vt=i,Mt!==null?0:(te=null,Ut=0,as(),de)}function jp(){for(;Mt!==null&&!Jo();)rm(Mt)}function rm(t){var e=Rf(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,e===null?au(t):Mt=e}function om(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=xf(i,e,e.pendingProps,e.type,void 0,Ut);break;case 11:e=xf(i,e,e.pendingProps,e.type.render,e.ref,Ut);break;case 5:Tc(e);default:jf(i,e),e=Mt=Qr(e,Bi),e=Rf(i,e,Bi)}t.memoizedProps=t.pendingProps,e===null?au(t):Mt=e}function ur(t,e,i,r){Gn=hi=null,Tc(e),Ws=null,ao=0;var h=e.return;try{if(bp(t,h,e,i,Ut)){de=1,Vl(t,s(i,t.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;de=1,Vl(t,s(i,t.current)),Mt=null;return}e.flags&32768?(zt||r===1?t=!0:sr||(Ut&536870912)!==0?t=!1:(_a=t=!0,(r===2||r===9||r===3||r===6)&&(r=pn.current,r!==null&&r.tag===13&&(r.flags|=16384))),lm(e,t)):au(e)}function au(t){var e=t;do{if((e.flags&32768)!==0){lm(e,_a);return}t=e.return;var i=Tp(e.alternate,e,Bi);if(i!==null){Mt=i;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);de===0&&(de=5)}function lm(t,e){do{var i=xp(t.alternate,t);if(i!==null){i.flags&=32767,Mt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Mt=t;return}Mt=t=i}while(t!==null);de=6,Mt=null}function um(t,e,i,r,h,d,g,x,C){t.cancelPendingCommit=null;do su();while(Ce!==0);if((Vt&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(d=e.lanes|e.childLanes,d|=Gs,Gu(t,i,d,g,x,C),t===te&&(Mt=te=null,Ut=0),or=e,ga=t,Ui=i,ah=d,sh=h,Wf=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Dp(La,function(){return mm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,h=nt.p,nt.p=2,g=Vt,Vt|=4;try{Ep(t,e,i)}finally{Vt=g,nt.p=h,I.T=r}}Ce=1,cm(),hm(),dm()}}function cm(){if(Ce===1){Ce=0;var t=ga,e=or,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var r=nt.p;nt.p=2;var h=Vt;Vt|=4;try{Gf(e,t);var d=bh,g=Fa(t.containerInfo),x=d.focusedElem,C=d.selectionRange;if(g!==x&&x&&x.ownerDocument&&Hs(x.ownerDocument.documentElement,x)){if(C!==null&&ai(x)){var P=C.start,V=C.end;if(V===void 0&&(V=P),"selectionStart"in x)x.selectionStart=P,x.selectionEnd=Math.min(V,x.value.length);else{var J=x.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var Z=q.getSelection(),ht=x.textContent.length,yt=Math.min(C.start,ht),Wt=C.end===void 0?yt:Math.min(C.end,ht);!Z.extend&&yt>Wt&&(g=Wt,Wt=yt,yt=g);var M=Wa(x,yt),j=Wa(x,Wt);if(M&&j&&(Z.rangeCount!==1||Z.anchorNode!==M.node||Z.anchorOffset!==M.offset||Z.focusNode!==j.node||Z.focusOffset!==j.offset)){var U=J.createRange();U.setStart(M.node,M.offset),Z.removeAllRanges(),yt>Wt?(Z.addRange(U),Z.extend(j.node,j.offset)):(U.setEnd(j.node,j.offset),Z.addRange(U))}}}}for(J=[],Z=x;Z=Z.parentNode;)Z.nodeType===1&&J.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<J.length;x++){var K=J[x];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vu=!!yh,bh=yh=null}finally{Vt=h,nt.p=r,I.T=i}}t.current=e,Ce=2}}function hm(){if(Ce===2){Ce=0;var t=ga,e=or,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var r=nt.p;nt.p=2;var h=Vt;Vt|=4;try{Pf(t,e.alternate,e)}finally{Vt=h,nt.p=r,I.T=i}}Ce=3}}function dm(){if(Ce===4||Ce===3){Ce=0,Qo();var t=ga,e=or,i=Ui,r=Wf;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ce=5:(Ce=0,or=ga=null,fm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(va=null),ft(i),e=e.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=I.T,h=nt.p,nt.p=2,I.T=null;try{for(var d=t.onRecoverableError,g=0;g<r.length;g++){var x=r[g];d(x.value,{componentStack:x.stack})}}finally{I.T=e,nt.p=h}}(Ui&3)!==0&&su(),fi(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===rh?So++:(So=0,rh=t):So=0,To(0)}}function fm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,no(e)))}function su(){return cm(),hm(),dm(),mm()}function mm(){if(Ce!==5)return!1;var t=ga,e=ah;ah=0;var i=ft(Ui),r=I.T,h=nt.p;try{nt.p=32>i?32:i,I.T=null,i=sh,sh=null;var d=ga,g=Ui;if(Ce=0,or=ga=null,Ui=0,(Vt&6)!==0)throw Error(u(331));var x=Vt;if(Vt|=4,Xf(d.current),Kf(d,d.current,g,i),Vt=x,To(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Ii,d)}catch{}return!0}finally{nt.p=h,I.T=r,fm(t,e)}}function _m(t,e,i){e=s(i,e),e=Uc(t.stateNode,e,2),t=ha(t,e,2),t!==null&&(vi(t,2),fi(t))}function $t(t,e,i){if(t.tag===3)_m(t,t,i);else for(;e!==null;){if(e.tag===3){_m(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(va===null||!va.has(r))){t=s(i,t),i=pf(2),r=ha(e,i,2),r!==null&&(vf(i,r,e,t),vi(r,2),fi(r));break}}e=e.return}}function uh(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Cp;var h=new Set;r.set(e,h)}else h=r.get(e),h===void 0&&(h=new Set,r.set(e,h));h.has(i)||(eh=!0,h.add(i),t=kp.bind(null,t,e,i),e.then(t,t))}function kp(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(Ut&i)===i&&(de===4||de===3&&(Ut&62914560)===Ut&&300>Ke()-Fl?(Vt&2)===0&&lr(t,0):nh|=i,rr===Ut&&(rr=0)),fi(t)}function pm(t,e){e===0&&(e=Fo()),t=Rn(t,e),t!==null&&(vi(t,e),fi(t))}function zp(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),pm(t,i)}function Mp(t,e){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(u(314))}r!==null&&r.delete(e),pm(t,i)}function Dp(t,e){return As(t,e)}var ru=null,cr=null,ch=!1,ou=!1,hh=!1,ba=0;function fi(t){t!==cr&&t.next===null&&(cr===null?ru=cr=t:cr=cr.next=t),ou=!0,ch||(ch=!0,Up())}function To(t,e){if(!hh&&ou){hh=!0;do for(var i=!1,r=ru;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var d=0;else{var g=r.suspendedLanes,x=r.pingedLanes;d=(1<<31-Ye(42|t)+1)-1,d&=h&~(g&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,bm(r,d))}else d=Ut,d=Cs(r,r===te?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Da(r,d)||(i=!0,bm(r,d));r=r.next}while(i);hh=!1}}function Bp(){vm()}function vm(){ou=ch=!1;var t=0;ba!==0&&$p()&&(t=ba);for(var e=Ke(),i=null,r=ru;r!==null;){var h=r.next,d=gm(r,e);d===0?(r.next=null,i===null?ru=h:i.next=h,h===null&&(cr=i)):(i=r,(t!==0||(d&3)!==0)&&(ou=!0)),r=h}Ce!==0&&Ce!==5||To(t),ba!==0&&(ba=0)}function gm(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Ye(d),x=1<<g,C=h[g];C===-1?((x&i)===0||(x&r)!==0)&&(h[g]=Iu(x,e)):C<=e&&(t.expiredLanes|=x),d&=~x}if(e=te,i=Ut,i=Cs(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ra(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Da(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Ra(r),ft(i)){case 2:case 8:i=Cr;break;case 32:i=La;break;case 268435456:i=Nr;break;default:i=La}return r=ym.bind(null,t),i=As(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Ra(r),t.callbackPriority=2,t.callbackNode=null,2}function ym(t,e){if(Ce!==0&&Ce!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(su()&&t.callbackNode!==i)return null;var r=Ut;return r=Cs(t,t===te?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(tm(t,r,e),gm(t,Ke()),t.callbackNode!=null&&t.callbackNode===i?ym.bind(null,t):null)}function bm(t,e){if(su())return null;tm(t,e,!0)}function Up(){Jp(function(){(Vt&6)!==0?As(Os,Bp):vm()})}function dh(){if(ba===0){var t=Xs;t===0&&(t=ka,ka<<=1,(ka&261888)===0&&(ka=256)),ba=t}return ba}function wm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xi(""+t)}function Sm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Pp(t,e,i,r,h){if(e==="submit"&&i&&i.stateNode===h){var d=wm((h[Le]||null).action),g=r.submitter;g&&(e=(e=g[Le]||null)?wm(e.formAction):g.getAttribute("formAction"),e!==null&&(d=e,g=null));var x=new ks("action","action",null,r,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ba!==0){var C=g?Sm(h,g):new FormData(h);jc(i,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(x.preventDefault(),C=g?Sm(h,g):new FormData(h),jc(i,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var fh=0;fh<oi.length;fh++){var mh=oi[fh],Hp=mh.toLowerCase(),qp=mh[0].toUpperCase()+mh.slice(1);en(Hp,"on"+qp)}en(es,"onAnimationEnd"),en(El,"onAnimationIteration"),en(ns,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(ic,"onTransitionRun"),en(Al,"onTransitionStart"),en(ac,"onTransitionCancel"),en(ra,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function Tm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],h=r.event;r=r.listeners;t:{var d=void 0;if(e)for(var g=r.length-1;0<=g;g--){var x=r[g],C=x.instance,P=x.currentTarget;if(x=x.listener,C!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=P;try{d(h)}catch(V){is(V)}h.currentTarget=null,d=C}else for(g=0;g<r.length;g++){if(x=r[g],C=x.instance,P=x.currentTarget,x=x.listener,C!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=P;try{d(h)}catch(V){is(V)}h.currentTarget=null,d=C}}}}function Dt(t,e){var i=e[Wn];i===void 0&&(i=e[Wn]=new Set);var r=t+"__bubble";i.has(r)||(xm(e,t,2,!1),i.add(r))}function _h(t,e,i){var r=0;e&&(r|=4),xm(i,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ph(t){if(!t[lu]){t[lu]=!0,sl.forEach(function(i){i!=="selectionchange"&&(Zp.has(i)||_h(i,!1,t),_h(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,_h("selectionchange",!1,e))}}function xm(t,e,i,r){switch(Fm(e)){case 2:var h=pv;break;case 8:h=vv;break;default:h=Lh}i=h.bind(null,e,i,t),h=void 0,!Ia||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):h!==void 0?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function vh(t,e,i,r,h){var d=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var x=r.stateNode.containerInfo;if(x===h)break;if(g===4)for(g=r.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;x!==null;){if(g=yi(x),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){r=d=g;continue t}x=x.parentNode}}r=r.return}Hr(function(){var P=d,V=Za(i),J=[];t:{var q=Ol.get(t);if(q!==void 0){var Z=ks,ht=t;switch(t){case"keypress":if(Ga(i)===0)break t;case"keydown":case"keyup":Z=fl;break;case"focusin":ht="focus",Z=Ir;break;case"focusout":ht="blur",Z=Ir;break;case"beforeblur":case"afterblur":Z=Ir;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Qu;break;case es:case El:case ns:Z=Gr;break;case ra:Z=pl;break;case"scroll":case"scrollend":Z=Bt;break;case"wheel":Z=xi;break;case"copy":case"cut":case"paste":Z=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ml;break;case"toggle":case"beforetoggle":Z=Ya}var yt=(e&4)!==0,Wt=!yt&&(t==="scroll"||t==="scrollend"),M=yt?q!==null?q+"Capture":null:q;yt=[];for(var j=P,U;j!==null;){var K=j;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||M===null||(K=Si(j,M),K!=null&&yt.push(Eo(j,K,U))),Wt)break;j=j.return}0<yt.length&&(q=new Z(q,ht,null,i,V),J.push({event:q,listeners:yt}))}}if((e&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",q&&i!==js&&(ht=i.relatedTarget||i.fromElement)&&(yi(ht)||ht[gi]))break t;if((Z||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(ht=i.relatedTarget||i.toElement,Z=P,ht=ht?yi(ht):null,ht!==null&&(Wt=_(ht),yt=ht.tag,ht!==Wt||yt!==5&&yt!==27&&yt!==6)&&(ht=null)):(Z=null,ht=P),Z!==ht)){if(yt=ll,K="onMouseLeave",M="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(yt=ml,K="onPointerLeave",M="onPointerEnter",j="pointer"),Wt=Z==null?q:Fn(Z),U=ht==null?q:Fn(ht),q=new yt(K,j+"leave",Z,i,V),q.target=Wt,q.relatedTarget=U,K=null,yi(V)===P&&(yt=new yt(M,j+"enter",ht,i,V),yt.target=U,yt.relatedTarget=Wt,K=yt),Wt=K,Z&&ht)e:{for(yt=Ip,M=Z,j=ht,U=0,K=M;K;K=yt(K))U++;K=0;for(var vt=j;vt;vt=yt(vt))K++;for(;0<U-K;)M=yt(M),U--;for(;0<K-U;)j=yt(j),K--;for(;U--;){if(M===j||j!==null&&M===j.alternate){yt=M;break e}M=yt(M),j=yt(j)}yt=null}else yt=null;Z!==null&&Em(J,q,Z,yt,!1),ht!==null&&Wt!==null&&Em(J,Wt,ht,yt,!0)}}t:{if(q=P?Fn(P):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var It=Qa;else if(On(q))if(bl)It=nc;else{It=ec;var dt=qn}else Z=q.nodeName,!Z||Z.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&qa(P.elementType)&&(It=Qa):It=na;if(It&&(It=It(t,P))){yl(J,It,i,V);break t}dt&&dt(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Un(q,"number",q.value)}switch(dt=P?Fn(P):window,t){case"focusin":(On(dt)||dt.contentEditable==="true")&&(si=dt,Zs=P,ts=null);break;case"focusout":ts=Zs=si=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Tl(J,i,V);break;case"selectionchange":if(qs)break;case"keydown":case"keyup":Tl(J,i,V)}var jt;if(Ms)t:{switch(t){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Fi?gl(t,i)&&(Pt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ds&&i.locale!=="ko"&&(Fi||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Fi&&(jt=ni()):(En=V,Ti="value"in En?En.value:En.textContent,Fi=!0)),dt=uu(P,Pt),0<dt.length&&(Pt=new Vr(Pt,t,null,i,V),J.push({event:Pt,listeners:dt}),jt?Pt.data=jt:(jt=Xr(i),jt!==null&&(Pt.data=jt)))),(jt=Fu?_n(t,i):ta(t,i))&&(Pt=uu(P,"onBeforeInput"),0<Pt.length&&(dt=new Vr("onBeforeInput","beforeinput",null,i,V),J.push({event:dt,listeners:Pt}),dt.data=jt)),Pp(J,t,P,i,V)}Tm(J,e)})}function Eo(t,e,i){return{instance:t,listener:e,currentTarget:i}}function uu(t,e){for(var i=e+"Capture",r=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Si(t,i),h!=null&&r.unshift(Eo(t,h,d)),h=Si(t,e),h!=null&&r.push(Eo(t,h,d))),t.tag===3)return r;t=t.return}return[]}function Ip(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Em(t,e,i,r,h){for(var d=e._reactName,g=[];i!==null&&i!==r;){var x=i,C=x.alternate,P=x.stateNode;if(x=x.tag,C!==null&&C===r)break;x!==5&&x!==26&&x!==27||P===null||(C=P,h?(P=Si(i,d),P!=null&&g.unshift(Eo(i,P,C))):h||(P=Si(i,d),P!=null&&g.push(Eo(i,P,C)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var Gp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(Gp,`
`).replace(Vp,"")}function Om(t,e){return e=Am(e),Am(t)===e}function Qt(t,e,i,r,h,d){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||xn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&xn(t,""+r);break;case"className":Xt(t,"class",r);break;case"tabIndex":Xt(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(t,i,r);break;case"style":Rs(t,r,d);break;case"data":if(e!=="object"){Xt(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Xi(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(e!=="input"&&Qt(t,e,"name",h.name,h,null),Qt(t,e,"formEncType",h.formEncType,h,null),Qt(t,e,"formMethod",h.formMethod,h,null),Qt(t,e,"formTarget",h.formTarget,h,null)):(Qt(t,e,"encType",h.encType,h,null),Qt(t,e,"method",h.method,h,null),Qt(t,e,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Xi(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=Fe);break;case"onScroll":r!=null&&Dt("scroll",t);break;case"onScrollEnd":r!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=Xi(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),kt(t,"popover",r);break;case"xlinkActuate":We(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":We(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":We(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":We(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":We(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":We(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":We(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":We(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":We(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":kt(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ls.get(i)||i,kt(t,i,r))}}function gh(t,e,i,r,h,d){switch(i){case"style":Rs(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof r=="string"?xn(t,r):(typeof r=="number"||typeof r=="bigint")&&xn(t,""+r);break;case"onScroll":r!=null&&Dt("scroll",t);break;case"onScrollEnd":r!=null&&Dt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Fe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),e=i.slice(2,h?i.length-7:void 0),d=t[Le]||null,d=d!=null?d[i]:null,typeof d=="function"&&t.removeEventListener(e,d,h),typeof r=="function")){typeof d!="function"&&d!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,h);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):kt(t,i,r)}}}function Pe(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var r=!1,h=!1,d;for(d in i)if(i.hasOwnProperty(d)){var g=i[d];if(g!=null)switch(d){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Qt(t,e,d,g,i,null)}}h&&Qt(t,e,"srcSet",i.srcSet,i,null),r&&Qt(t,e,"src",i.src,i,null);return;case"input":Dt("invalid",t);var x=d=g=h=null,C=null,P=null;for(r in i)if(i.hasOwnProperty(r)){var V=i[r];if(V!=null)switch(r){case"name":h=V;break;case"type":g=V;break;case"checked":C=V;break;case"defaultChecked":P=V;break;case"value":d=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(u(137,e));break;default:Qt(t,e,r,V,i,null)}}Ha(t,d,x,C,P,g,h,!1);return;case"select":Dt("invalid",t),r=g=d=null;for(h in i)if(i.hasOwnProperty(h)&&(x=i[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":g=x;break;case"multiple":r=x;default:Qt(t,e,h,x,i,null)}e=d,i=g,t.multiple=!!r,e!=null?Ft(t,!!r,e,!1):i!=null&&Ft(t,!!r,i,!0);return;case"textarea":Dt("invalid",t),d=h=r=null;for(g in i)if(i.hasOwnProperty(g)&&(x=i[g],x!=null))switch(g){case"value":r=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(u(91));break;default:Qt(t,e,g,x,i,null)}Yi(t,r,h,d);return;case"option":for(C in i)i.hasOwnProperty(C)&&(r=i[C],r!=null)&&(C==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":Qt(t,e,C,r,i,null));return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(r=0;r<xo.length;r++)Dt(xo[r],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(r=i[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Qt(t,e,P,r,i,null)}return;default:if(qa(e)){for(V in i)i.hasOwnProperty(V)&&(r=i[V],r!==void 0&&gh(t,e,V,r,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(r=i[x],r!=null&&Qt(t,e,x,r,i,null))}function Kp(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,g=null,x=null,C=null,P=null,V=null;for(Z in i){var J=i[Z];if(i.hasOwnProperty(Z)&&J!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":C=J;default:r.hasOwnProperty(Z)||Qt(t,e,Z,null,r,J)}}for(var q in r){var Z=r[q];if(J=i[q],r.hasOwnProperty(q)&&(Z!=null||J!=null))switch(q){case"type":d=Z;break;case"name":h=Z;break;case"checked":P=Z;break;case"defaultChecked":V=Z;break;case"value":g=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(u(137,e));break;default:Z!==J&&Qt(t,e,q,Z,r,J)}}Br(t,g,x,C,P,V,d,h);return;case"select":Z=g=x=q=null;for(d in i)if(C=i[d],i.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Z=C;default:r.hasOwnProperty(d)||Qt(t,e,d,null,r,C)}for(h in r)if(d=r[h],C=i[h],r.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":x=d;break;case"multiple":g=d;default:d!==C&&Qt(t,e,h,d,r,C)}e=x,i=g,r=Z,q!=null?Ft(t,!!i,q,!1):!!r!=!!i&&(e!=null?Ft(t,!!i,e,!0):Ft(t,!!i,i?[]:"",!1));return;case"textarea":Z=q=null;for(x in i)if(h=i[x],i.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Qt(t,e,x,null,r,h)}for(g in r)if(h=r[g],d=i[g],r.hasOwnProperty(g)&&(h!=null||d!=null))switch(g){case"value":q=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==d&&Qt(t,e,g,h,r,d)}ei(t,q,Z);return;case"option":for(var ht in i)q=i[ht],i.hasOwnProperty(ht)&&q!=null&&!r.hasOwnProperty(ht)&&(ht==="selected"?t.selected=!1:Qt(t,e,ht,null,r,q));for(C in r)q=r[C],Z=i[C],r.hasOwnProperty(C)&&q!==Z&&(q!=null||Z!=null)&&(C==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Qt(t,e,C,q,r,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in i)q=i[yt],i.hasOwnProperty(yt)&&q!=null&&!r.hasOwnProperty(yt)&&Qt(t,e,yt,null,r,q);for(P in r)if(q=r[P],Z=i[P],r.hasOwnProperty(P)&&q!==Z&&(q!=null||Z!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(u(137,e));break;default:Qt(t,e,P,q,r,Z)}return;default:if(qa(e)){for(var Wt in i)q=i[Wt],i.hasOwnProperty(Wt)&&q!==void 0&&!r.hasOwnProperty(Wt)&&gh(t,e,Wt,void 0,r,q);for(V in r)q=r[V],Z=i[V],!r.hasOwnProperty(V)||q===Z||q===void 0&&Z===void 0||gh(t,e,V,q,r,Z);return}}for(var M in i)q=i[M],i.hasOwnProperty(M)&&q!=null&&!r.hasOwnProperty(M)&&Qt(t,e,M,null,r,q);for(J in r)q=r[J],Z=i[J],!r.hasOwnProperty(J)||q===Z||q==null&&Z==null||Qt(t,e,J,q,r,Z)}function Cm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var h=i[r],d=h.transferSize,g=h.initiatorType,x=h.duration;if(d&&x&&Cm(g)){for(g=0,x=h.responseEnd,r+=1;r<i.length;r++){var C=i[r],P=C.startTime;if(P>x)break;var V=C.transferSize,J=C.initiatorType;V&&Cm(J)&&(C=C.responseEnd,g+=V*(C<x?1:(x-P)/(C-P)))}if(--r,e+=8*(d+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yh=null,bh=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function Nm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sh=null;function $p(){var t=window.event;return t&&t.type==="popstate"?t===Sh?!1:(Sh=t,!0):(Sh=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,Jp=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(t){return jm.resolve(null).then(t).catch(Qp)}:Lm;function Qp(t){setTimeout(function(){throw t})}function wa(t){return t==="head"}function km(t,e){var i=e,r=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(h),mr(e);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Ao(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Ao(i);for(var d=i.firstChild;d;){var g=d.nextSibling,x=d.nodeName;d[Ba]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}else i==="body"&&Ao(t.ownerDocument.body);i=h}while(i);mr(e)}function zm(t,e){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function Th(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Th(i),kr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Wp(t,e,i,r){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ba])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Fp(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Mm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=kn(t.nextSibling),t===null))return null;return t}function xh(t){return t.data==="$?"||t.data==="$~"}function Eh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tv(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ah=null;function Dm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return kn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Bm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Um(t,e,i){switch(e=cu(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function Ao(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);kr(t)}var zn=new Map,Pm=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=nt.d;nt.d={f:ev,r:nv,D:iv,C:av,L:sv,m:rv,X:lv,S:ov,M:uv};function ev(){var t=Pi.f(),e=nu();return t||e}function nv(t){var e=Gi(t);e!==null&&e.tag===5&&e.type==="form"?ef(e):Pi.r(t)}var hr=typeof document>"u"?null:document;function Hm(t,e,i){var r=hr;if(r&&typeof e=="string"&&e){var h=ae(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Pm.has(h)||(Pm.add(h),t={rel:t,crossOrigin:i,href:e},r.querySelector(h)===null&&(e=r.createElement("link"),Pe(e,"link",t),ge(e),r.head.appendChild(e)))}}function iv(t){Pi.D(t),Hm("dns-prefetch",t,null)}function av(t,e){Pi.C(t,e),Hm("preconnect",t,e)}function sv(t,e,i){Pi.L(t,e,i);var r=hr;if(r&&t&&e){var h='link[rel="preload"][as="'+ae(e)+'"]';e==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ae(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ae(i.imageSizes)+'"]')):h+='[href="'+ae(t)+'"]';var d=h;switch(e){case"style":d=dr(t);break;case"script":d=fr(t)}zn.has(d)||(t=R({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),zn.set(d,t),r.querySelector(h)!==null||e==="style"&&r.querySelector(Oo(d))||e==="script"&&r.querySelector(Co(d))||(e=r.createElement("link"),Pe(e,"link",t),ge(e),r.head.appendChild(e)))}}function rv(t,e){Pi.m(t,e);var i=hr;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+ae(r)+'"][href="'+ae(t)+'"]',d=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fr(t)}if(!zn.has(d)&&(t=R({rel:"modulepreload",href:t},e),zn.set(d,t),i.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Co(d)))return}r=i.createElement("link"),Pe(r,"link",t),ge(r),i.head.appendChild(r)}}}function ov(t,e,i){Pi.S(t,e,i);var r=hr;if(r&&t){var h=Vi(r).hoistableStyles,d=dr(t);e=e||"default";var g=h.get(d);if(!g){var x={loading:0,preload:null};if(g=r.querySelector(Oo(d)))x.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":e},i),(i=zn.get(d))&&Oh(t,i);var C=g=r.createElement("link");ge(C),Pe(C,"link",t),C._p=new Promise(function(P,V){C.onload=P,C.onerror=V}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,du(g,e,r)}g={type:"stylesheet",instance:g,count:1,state:x},h.set(d,g)}}}function lv(t,e){Pi.X(t,e);var i=hr;if(i&&t){var r=Vi(i).hoistableScripts,h=fr(t),d=r.get(h);d||(d=i.querySelector(Co(h)),d||(t=R({src:t,async:!0},e),(e=zn.get(h))&&Ch(t,e),d=i.createElement("script"),ge(d),Pe(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(h,d))}}function uv(t,e){Pi.M(t,e);var i=hr;if(i&&t){var r=Vi(i).hoistableScripts,h=fr(t),d=r.get(h);d||(d=i.querySelector(Co(h)),d||(t=R({src:t,async:!0,type:"module"},e),(e=zn.get(h))&&Ch(t,e),d=i.createElement("script"),ge(d),Pe(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(h,d))}}function qm(t,e,i,r){var h=(h=rt.current)?hu(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=dr(i.href),i=Vi(h).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=dr(i.href);var d=Vi(h).hoistableStyles,g=d.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=h.querySelector(Oo(t)))&&!d._p&&(g.instance=d,g.state.loading=5),zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},zn.set(t,i),d||cv(h,t,i,g.state))),e&&r===null)throw Error(u(528,""));return g}if(e&&r!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=fr(i),i=Vi(h).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function dr(t){return'href="'+ae(t)+'"'}function Oo(t){return'link[rel="stylesheet"]['+t+"]"}function Zm(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function cv(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Pe(e,"link",i),ge(e),t.head.appendChild(e))}function fr(t){return'[src="'+ae(t)+'"]'}function Co(t){return"script[async]"+t}function Im(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ae(i.href)+'"]');if(r)return e.instance=r,ge(r),r;var h=R({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ge(r),Pe(r,"style",h),du(r,i.precedence,t),e.instance=r;case"stylesheet":h=dr(i.href);var d=t.querySelector(Oo(h));if(d)return e.state.loading|=4,e.instance=d,ge(d),d;r=Zm(i),(h=zn.get(h))&&Oh(r,h),d=(t.ownerDocument||t).createElement("link"),ge(d);var g=d;return g._p=new Promise(function(x,C){g.onload=x,g.onerror=C}),Pe(d,"link",r),e.state.loading|=4,du(d,i.precedence,t),e.instance=d;case"script":return d=fr(i.src),(h=t.querySelector(Co(d)))?(e.instance=h,ge(h),h):(r=i,(h=zn.get(d))&&(r=R({},i),Ch(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),ge(h),Pe(h,"link",r),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,du(r,i.precedence,t));return e.instance}function du(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,d=h,g=0;g<r.length;g++){var x=r[g];if(x.dataset.precedence===e)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ch(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var fu=null;function Gm(t,e,i){if(fu===null){var r=new Map,h=fu=new Map;h.set(i,r)}else h=fu,r=h.get(i),r||(r=new Map,h.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var d=i[h];if(!(d[Ba]||d[ve]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(e)||"";g=t+g;var x=r.get(g);x?x.push(d):r.set(g,[d])}}return r}function Vm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function hv(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dv(t,e,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=dr(r.href),d=e.querySelector(Oo(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=mu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=d,ge(d);return}d=e.ownerDocument||e,r=Zm(r),(h=zn.get(h))&&Oh(r,h),d=d.createElement("link"),ge(d);var g=d;g._p=new Promise(function(x,C){g.onload=x,g.onerror=C}),Pe(d,"link",r),i.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=mu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Nh=0;function fv(t,e){return t.stylesheets&&t.count===0&&pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+e);0<t.imgBytes&&Nh===0&&(Nh=62500*Yp());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Nh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _u=null;function pu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_u=new Map,e.forEach(mv,t),_u=null,mu.call(t))}function mv(t,e){if(!(e.state.loading&4)){var i=_u.get(t);if(i)var r=i.get(null);else{i=new Map,_u.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var g=h[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),r=g)}r&&i.set(null,r)}h=e.instance,g=h.getAttribute("data-precedence"),d=i.get(g)||r,d===r&&i.set(null,h),i.set(g,h),this.count++,r=mu.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var No={$$typeof:$,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function _v(t,e,i,r,h,d,g,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Ym(t,e,i,r,h,d,g,x,C,P,V,J){return t=new _v(t,e,i,g,C,P,V,J,x),e=1,d===!0&&(e|=24),d=Ie(3,null,null,e),t.current=d,d.stateNode=t,e=lc(),e.refCount++,t.pooledCache=e,e.refCount++,d.memoizedState={element:r,isDehydrated:i,cache:e},dc(d),t}function $m(t){return t?(t=Ei,t):Ei}function Xm(t,e,i,r,h,d){h=$m(h),r.context===null?r.context=h:r.pendingContext=h,r=ca(e),r.payload={element:i},d=d===void 0?null:d,d!==null&&(r.callback=d),i=ha(t,r,e),i!==null&&(un(i,t,e),ro(i,t,e))}function Jm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Rh(t,e){Jm(t,e),(t=t.alternate)&&Jm(t,e)}function Qm(t){if(t.tag===13||t.tag===31){var e=Rn(t,67108864);e!==null&&un(e,t,67108864),Rh(t,67108864)}}function Wm(t){if(t.tag===13||t.tag===31){var e=bn();e=Qe(e);var i=Rn(t,e);i!==null&&un(i,t,e),Rh(t,e)}}var vu=!0;function pv(t,e,i,r){var h=I.T;I.T=null;var d=nt.p;try{nt.p=2,Lh(t,e,i,r)}finally{nt.p=d,I.T=h}}function vv(t,e,i,r){var h=I.T;I.T=null;var d=nt.p;try{nt.p=8,Lh(t,e,i,r)}finally{nt.p=d,I.T=h}}function Lh(t,e,i,r){if(vu){var h=jh(r);if(h===null)vh(t,e,r,gu,i),t_(t,r);else if(yv(h,t,e,i,r))r.stopPropagation();else if(t_(t,r),e&4&&-1<gv.indexOf(t)){for(;h!==null;){var d=Gi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=pi(d.pendingLanes);if(g!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;g;){var C=1<<31-Ye(g);x.entanglements[1]|=C,g&=~C}fi(d),(Vt&6)===0&&(tu=Ke()+500,To(0))}}break;case 31:case 13:x=Rn(d,2),x!==null&&un(x,d,2),nu(),Rh(d,2)}if(d=jh(r),d===null&&vh(t,e,r,gu,i),d===h)break;h=d}h!==null&&r.stopPropagation()}else vh(t,e,r,null,i)}}function jh(t){return t=Za(t),kh(t)}var gu=null;function kh(t){if(gu=null,t=yi(t),t!==null){var e=_(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=p(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gu=t,null}function Fm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uu()){case Os:return 2;case Cr:return 8;case La:case Pu:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var zh=!1,Sa=null,Ta=null,xa=null,Ro=new Map,Lo=new Map,Ea=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(t,e){switch(t){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(e.pointerId)}}function jo(t,e,i,r,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:d,targetContainers:[h]},e!==null&&(e=Gi(e),e!==null&&Qm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function yv(t,e,i,r,h){switch(e){case"focusin":return Sa=jo(Sa,t,e,i,r,h),!0;case"dragenter":return Ta=jo(Ta,t,e,i,r,h),!0;case"mouseover":return xa=jo(xa,t,e,i,r,h),!0;case"pointerover":var d=h.pointerId;return Ro.set(d,jo(Ro.get(d)||null,t,e,i,r,h)),!0;case"gotpointercapture":return d=h.pointerId,Lo.set(d,jo(Lo.get(d)||null,t,e,i,r,h)),!0}return!1}function e_(t){var e=yi(t.target);if(e!==null){var i=_(e);if(i!==null){if(e=i.tag,e===13){if(e=p(i),e!==null){t.blockedOn=e,jr(t.priority,function(){Wm(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,jr(t.priority,function(){Wm(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=jh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);js=r,i.target.dispatchEvent(r),js=null}else return e=Gi(i),e!==null&&Qm(e),t.blockedOn=i,!1;e.shift()}return!0}function n_(t,e,i){yu(t)&&i.delete(e)}function bv(){zh=!1,Sa!==null&&yu(Sa)&&(Sa=null),Ta!==null&&yu(Ta)&&(Ta=null),xa!==null&&yu(xa)&&(xa=null),Ro.forEach(n_),Lo.forEach(n_)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,zh||(zh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bv)))}var wu=null;function i_(t){wu!==t&&(wu=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],h=t[e+2];if(typeof r!="function"){if(kh(r||i)===null)continue;break}var d=Gi(i);d!==null&&(t.splice(e,3),e-=3,jc(d,{pending:!0,data:h,method:i.method,action:r},r,h))}}))}function mr(t){function e(C){return bu(C,t)}Sa!==null&&bu(Sa,t),Ta!==null&&bu(Ta,t),xa!==null&&bu(xa,t),Ro.forEach(e),Lo.forEach(e);for(var i=0;i<Ea.length;i++){var r=Ea[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ea.length&&(i=Ea[0],i.blockedOn===null);)e_(i),i.blockedOn===null&&Ea.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var h=i[r],d=i[r+1],g=h[Le]||null;if(typeof d=="function")g||i_(i);else if(g){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,g=d[Le]||null)x=g.formAction;else if(kh(h)!==null)continue}else x=g.action;typeof x=="function"?i[r+1]=x:(i.splice(r,3),r-=3),i_(i)}}}function a_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function e(){h!==null&&(h(),h=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),h!==null&&(h(),h=null)}}}function Mh(t){this._internalRoot=t}Su.prototype.render=Mh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,r=bn();Xm(i,r,t,e,null,null)},Su.prototype.unmount=Mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xm(t.current,2,null,t,null,null),nu(),e[gi]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ea.length&&e!==0&&e<Ea[i].priority;i++);Ea.splice(i,0,t),i===0&&e_(t)}};var s_=a.version;if(s_!=="19.2.4")throw Error(u(527,s_,"19.2.4"));nt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=T(e),t=t!==null?O(t):null,t=t===null?null:t.stateNode,t};var wv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Ii=Tu.inject(wv),Me=Tu}catch{}}return zo.createRoot=function(t,e){if(!f(t))throw Error(u(299));var i=!1,r="",h=df,d=ff,g=mf;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(d=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=Ym(t,1,!1,null,null,i,r,null,h,d,g,a_),t[gi]=e.current,ph(t),new Mh(e)},zo.hydrateRoot=function(t,e,i){if(!f(t))throw Error(u(299));var r=!1,h="",d=df,g=ff,x=mf,C=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),e=Ym(t,1,!0,e,i??null,r,h,C,d,g,x,a_),e.context=$m(null),i=e.current,r=bn(),r=Qe(r),h=ca(r),h.callback=null,ha(i,h,r),i=r,e.current.lanes=i,vi(e,i),fi(e),t[gi]=e.current,ph(t),new Su(e)},zo.version="19.2.4",zo}var __;function jv(){if(__)return Uh.exports;__=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),Uh.exports=Lv(),Uh.exports}var kv=jv();function ku(o,a){var l={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.indexOf(u)<0&&(l[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(o);f<u.length;f++)a.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(o,u[f])&&(l[u[f]]=o[u[f]]);return l}function zv(o,a,l,u){function f(_){return _ instanceof l?_:new l(function(p){p(_)})}return new(l||(l=Promise))(function(_,p){function b(O){try{T(u.next(O))}catch(R){p(R)}}function y(O){try{T(u.throw(O))}catch(R){p(R)}}function T(O){O.done?_(O.value):f(O.value).then(b,y)}T((u=u.apply(o,a||[])).next())})}const Mv=o=>o?(...a)=>o(...a):(...a)=>fetch(...a);class ud extends Error{constructor(a,l="FunctionsError",u){super(a),this.name=l,this.context=u}}class Dv extends ud{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class p_ extends ud{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class v_ extends ud{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Wh;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Wh||(Wh={}));class Bv{constructor(a,{headers:l={},customFetch:u,region:f=Wh.Any}={}){this.url=a,this.headers=l,this.region=f,this.fetch=Mv(u)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return zv(this,arguments,void 0,function*(l,u={}){var f;let _,p;try{const{headers:b,method:y,body:T,signal:O,timeout:R}=u;let z={},{region:E}=u;E||(E=this.region);const k=new URL(`${this.url}/${l}`);E&&E!=="any"&&(z["x-region"]=E,k.searchParams.set("forceFunctionRegion",E));let B;T&&(b&&!Object.prototype.hasOwnProperty.call(b,"Content-Type")||!b)?typeof Blob<"u"&&T instanceof Blob||T instanceof ArrayBuffer?(z["Content-Type"]="application/octet-stream",B=T):typeof T=="string"?(z["Content-Type"]="text/plain",B=T):typeof FormData<"u"&&T instanceof FormData?B=T:(z["Content-Type"]="application/json",B=JSON.stringify(T)):T&&typeof T!="string"&&!(typeof Blob<"u"&&T instanceof Blob)&&!(T instanceof ArrayBuffer)&&!(typeof FormData<"u"&&T instanceof FormData)?B=JSON.stringify(T):B=T;let Y=O;R&&(p=new AbortController,_=setTimeout(()=>p.abort(),R),O?(Y=p.signal,O.addEventListener("abort",()=>p.abort())):Y=p.signal);const Q=yield this.fetch(k.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},z),this.headers),b),body:B,signal:Y}).catch(at=>{throw new Dv(at)}),tt=Q.headers.get("x-relay-error");if(tt&&tt==="true")throw new p_(Q);if(!Q.ok)throw new v_(Q);let $=((f=Q.headers.get("Content-Type"))!==null&&f!==void 0?f:"text/plain").split(";")[0].trim(),ct;return $==="application/json"?ct=yield Q.json():$==="application/octet-stream"||$==="application/pdf"?ct=yield Q.blob():$==="text/event-stream"?ct=Q:$==="multipart/form-data"?ct=yield Q.formData():ct=yield Q.text(),{data:ct,error:null,response:Q}}catch(b){return{data:null,error:b,response:b instanceof v_||b instanceof p_?b.context:void 0}}finally{_&&clearTimeout(_)}})}}var Uv=class extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}},Pv=class{constructor(o){var a,l;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(l=o.isMaybeSingle)!==null&&l!==void 0?l:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{let p=null,b=null,y=null,T=_.status,O=_.statusText;if(_.ok){var R,z;if(l.method!=="HEAD"){var E;const Q=await _.text();Q===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((E=l.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?b=Q:b=JSON.parse(Q))}const B=(R=l.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),Y=(z=_.headers.get("content-range"))===null||z===void 0?void 0:z.split("/");B&&Y&&Y.length>1&&(y=parseInt(Y[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,T=406,O="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{var k;const B=await _.text();try{p=JSON.parse(B),Array.isArray(p)&&_.status===404&&(b=[],p=null,T=200,O="OK")}catch{_.status===404&&B===""?(T=204,O="No Content"):p={message:B}}if(p&&l.isMaybeSingle&&(!(p==null||(k=p.details)===null||k===void 0)&&k.includes("0 rows"))&&(p=null,T=200,O="OK"),p&&l.shouldThrowOnError)throw new Uv(p)}return{error:p,data:b,count:y,status:T,statusText:O}});return this.shouldThrowOnError||(f=f.catch(_=>{var p;let b="";const y=_?.cause;if(y){var T,O,R,z;const k=(T=y?.message)!==null&&T!==void 0?T:"",B=(O=y?.code)!==null&&O!==void 0?O:"";b=`${(R=_?.name)!==null&&R!==void 0?R:"FetchError"}: ${_?.message}`,b+=`

Caused by: ${(z=y?.name)!==null&&z!==void 0?z:"Error"}: ${k}`,B&&(b+=` (${B})`),y?.stack&&(b+=`
${y.stack}`)}else{var E;b=(E=_?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(p=_?.name)!==null&&p!==void 0?p:"FetchError"}: ${_?.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(o,a)}returns(){return this}overrideTypes(){return this}},Hv=class extends Pv{select(o){let a=!1;const l=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const _=f?`${f}.order`:"order",p=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${p?`${p},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,_=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(_,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:_="text"}={}){var p;const b=[o?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${_}; for="${y}"; options=${b};`),_==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};const g_=new RegExp("[,()]");var wr=class extends Hv{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}regexMatch(o,a){return this.url.searchParams.append(o,`match.${a}`),this}regexIMatch(o,a){return this.url.searchParams.append(o,`imatch.${a}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}isDistinct(o,a){return this.url.searchParams.append(o,`isdistinct.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&g_.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}notIn(o,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&g_.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`not.in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const _=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${f}fts${_}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}},qv=class{constructor(o,{headers:a={},schema:l,fetch:u}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(o,a){const{head:l=!1,count:u}=a??{},f=l?"HEAD":"GET";let _=!1;const p=(o??"*").split("").map(T=>/\s/.test(T)&&!_?"":(T==='"'&&(_=!_),T)).join(""),{url:b,headers:y}=this.cloneRequestState();return b.searchParams.set("select",p),u&&y.append("Prefer",`count=${u}`),new wr({method:f,url:b,headers:y,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var u;const f="POST",{url:_,headers:p}=this.cloneRequestState();if(a&&p.append("Prefer",`count=${a}`),l||p.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(b.length>0){const y=[...new Set(b)].map(T=>`"${T}"`);_.searchParams.set("columns",y.join(","))}}return new wr({method:f,url:_,headers:p,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var _;const p="POST",{url:b,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&b.searchParams.set("on_conflict",a),u&&y.append("Prefer",`count=${u}`),f||y.append("Prefer","missing=default"),Array.isArray(o)){const T=o.reduce((O,R)=>O.concat(Object.keys(R)),[]);if(T.length>0){const O=[...new Set(T)].map(R=>`"${R}"`);b.searchParams.set("columns",O.join(","))}}return new wr({method:p,url:b,headers:y,schema:this.schema,body:o,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}update(o,{count:a}={}){var l;const u="PATCH",{url:f,headers:_}=this.cloneRequestState();return a&&_.append("Prefer",`count=${a}`),new wr({method:u,url:f,headers:_,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE",{url:u,headers:f}=this.cloneRequestState();return o&&f.append("Prefer",`count=${o}`),new wr({method:l,url:u,headers:f,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Zv=class I_{constructor(a,{headers:l={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new I_(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:f=!1,count:_}={}){var p;let b;const y=new URL(`${this.url}/rpc/${a}`);let T;const O=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(O)),R=u&&Object.values(l).some(O);R?(b="POST",T=l):u||f?(b=u?"HEAD":"GET",Object.entries(l).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{y.searchParams.append(E,k)})):(b="POST",T=l);const z=new Headers(this.headers);return R?z.set("Prefer",_?`count=${_},return=minimal`:"return=minimal"):_&&z.set("Prefer",`count=${_}`),new wr({method:b,url:y,headers:z,schema:this.schemaName,body:T,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class Iv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const u=l.versions;if(u&&u.node){const f=u.node,_=parseInt(f.replace(/^v/,"").split(".")[0]);return _>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${_} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${_} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const u=this.getWebSocketConstructor();return new u(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Gv="2.93.3",Vv=`realtime-js/${Gv}`,Kv="1.0.0",G_="2.0.0",y_=G_,Fh=1e4,Yv=1e3,$v=100;var Oa;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Oa||(Oa={}));var Ne;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Ne||(Ne={}));var Xn;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Xn||(Xn={}));var td;(function(o){o.websocket="websocket"})(td||(td={}));var ws;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(ws||(ws={}));class Xv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let u=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,u;const f=(u=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,f)}_encodeJsonUserBroadcastPush(a){var l,u;const f=(u=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:{},p=new TextEncoder().encode(JSON.stringify(f)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(a,l,u){var f,_;const p=a.topic,b=(f=a.ref)!==null&&f!==void 0?f:"",y=(_=a.join_ref)!==null&&_!==void 0?_:"",T=a.payload.event,O=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},R=Object.keys(O).length===0?"":JSON.stringify(O);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`ref length ${b.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`userEvent length ${T.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const z=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+b.length+p.length+T.length+R.length,E=new ArrayBuffer(this.HEADER_LENGTH+z);let k=new DataView(E),B=0;k.setUint8(B++,this.KINDS.userBroadcastPush),k.setUint8(B++,y.length),k.setUint8(B++,b.length),k.setUint8(B++,p.length),k.setUint8(B++,T.length),k.setUint8(B++,R.length),k.setUint8(B++,l),Array.from(y,Q=>k.setUint8(B++,Q.charCodeAt(0))),Array.from(b,Q=>k.setUint8(B++,Q.charCodeAt(0))),Array.from(p,Q=>k.setUint8(B++,Q.charCodeAt(0))),Array.from(T,Q=>k.setUint8(B++,Q.charCodeAt(0))),Array.from(R,Q=>k.setUint8(B++,Q.charCodeAt(0)));var Y=new Uint8Array(E.byteLength+u.byteLength);return Y.set(new Uint8Array(E),0),Y.set(new Uint8Array(u),E.byteLength),Y.buffer}decode(a,l){if(this._isArrayBuffer(a)){let u=this._binaryDecode(a);return l(u)}if(typeof a=="string"){const u=JSON.parse(a),[f,_,p,b,y]=u;return l({join_ref:f,ref:_,topic:p,event:b,payload:y})}return l({})}_binaryDecode(a){const l=new DataView(a),u=l.getUint8(0),f=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,l,f)}_decodeUserBroadcast(a,l,u){const f=l.getUint8(1),_=l.getUint8(2),p=l.getUint8(3),b=l.getUint8(4);let y=this.HEADER_LENGTH+4;const T=u.decode(a.slice(y,y+f));y=y+f;const O=u.decode(a.slice(y,y+_));y=y+_;const R=u.decode(a.slice(y,y+p));y=y+p;const z=a.slice(y,a.byteLength),E=b===this.JSON_ENCODING?JSON.parse(u.decode(z)):z,k={type:this.BROADCAST_EVENT,event:O,payload:E};return p>0&&(k.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:T,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([u])=>l.includes(u)))}}class V_{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(ee||(ee={}));const b_=(o,a,l={})=>{var u;const f=(u=l.skipTypes)!==null&&u!==void 0?u:[];return a?Object.keys(a).reduce((_,p)=>(_[p]=Jv(p,o,a,f),_),{}):{}},Jv=(o,a,l,u)=>{const f=a.find(b=>b.name===o),_=f?.type,p=l[o];return _&&!u.includes(_)?K_(_,p):ed(p)},K_=(o,a)=>{if(o.charAt(0)==="_"){const l=o.slice(1,o.length);return tg(a,l)}switch(o){case ee.bool:return Qv(a);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Wv(a);case ee.json:case ee.jsonb:return Fv(a);case ee.timestamp:return eg(a);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return ed(a);default:return ed(a)}},ed=o=>o,Qv=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Wv=o=>{if(typeof o=="string"){const a=parseFloat(o);if(!Number.isNaN(a))return a}return o},Fv=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch{return o}return o},tg=(o,a)=>{if(typeof o!="string")return o;const l=o.length-1,u=o[l];if(o[0]==="{"&&u==="}"){let _;const p=o.slice(1,l);try{_=JSON.parse("["+p+"]")}catch{_=p?p.split(","):[]}return _.map(b=>K_(a,b))}return o},eg=o=>typeof o=="string"?o.replace(" ","T"):o,Y_=o=>{const a=new URL(o);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Zh{constructor(a,l,u={},f=Fh){this.channel=a,this.event=l,this.payload=u,this.timeout=f,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var u;return this._hasReceived(a)&&l((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var w_;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(w_||(w_={}));class Po{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},f=>{const{onJoin:_,onLeave:p,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Po.syncState(this.state,f,_,p),this.pendingDiffs.forEach(y=>{this.state=Po.syncDiff(this.state,y,_,p)}),this.pendingDiffs=[],b()}),this.channel._on(u.diff,{},f=>{const{onJoin:_,onLeave:p,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(f):(this.state=Po.syncDiff(this.state,f,_,p),b())}),this.onJoin((f,_,p)=>{this.channel._trigger("presence",{event:"join",key:f,currentPresences:_,newPresences:p})}),this.onLeave((f,_,p)=>{this.channel._trigger("presence",{event:"leave",key:f,currentPresences:_,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,u,f){const _=this.cloneDeep(a),p=this.transformState(l),b={},y={};return this.map(_,(T,O)=>{p[T]||(y[T]=O)}),this.map(p,(T,O)=>{const R=_[T];if(R){const z=O.map(Y=>Y.presence_ref),E=R.map(Y=>Y.presence_ref),k=O.filter(Y=>E.indexOf(Y.presence_ref)<0),B=R.filter(Y=>z.indexOf(Y.presence_ref)<0);k.length>0&&(b[T]=k),B.length>0&&(y[T]=B)}else b[T]=O}),this.syncDiff(_,{joins:b,leaves:y},u,f)}static syncDiff(a,l,u,f){const{joins:_,leaves:p}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return u||(u=()=>{}),f||(f=()=>{}),this.map(_,(b,y)=>{var T;const O=(T=a[b])!==null&&T!==void 0?T:[];if(a[b]=this.cloneDeep(y),O.length>0){const R=a[b].map(E=>E.presence_ref),z=O.filter(E=>R.indexOf(E.presence_ref)<0);a[b].unshift(...z)}u(b,O,y)}),this.map(p,(b,y)=>{let T=a[b];if(!T)return;const O=y.map(R=>R.presence_ref);T=T.filter(R=>O.indexOf(R.presence_ref)<0),a[b]=T,f(b,T,y),T.length===0&&delete a[b]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(u=>l(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,u)=>{const f=a[u];return"metas"in f?l[u]=f.metas.map(_=>(_.presence_ref=_.phx_ref,delete _.phx_ref,delete _.phx_ref_prev,_)):l[u]=f,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S_;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(S_||(S_={}));var Ho;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Ho||(Ho={}));var Hi;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Hi||(Hi={}));class xr{constructor(a,l={config:{}},u){var f,_;if(this.topic=a,this.params=l,this.socket=u,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Zh(this,Xn.join,this.params,this.timeout),this.rejoinTimer=new V_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xn.reply,{},(p,b)=>{this._trigger(this._replyEventName(b),p)}),this.presence=new Po(this),this.broadcastEndpointURL=Y_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((_=(f=this.params.config)===null||f===void 0?void 0:f.broadcast)===null||_===void 0)&&_.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var u,f,_;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:p,presence:b,private:y}}=this.params,T=(f=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(E=>E.filter))!==null&&f!==void 0?f:[],O=!!this.bindings[Ho.PRESENCE]&&this.bindings[Ho.PRESENCE].length>0||((_=this.params.config.presence)===null||_===void 0?void 0:_.enabled)===!0,R={},z={broadcast:p,presence:Object.assign(Object.assign({},b),{enabled:O}),postgres_changes:T,private:y};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(E=>a?.(Hi.CHANNEL_ERROR,E)),this._onClose(()=>a?.(Hi.CLOSED)),this.updateJoinPayload(Object.assign({config:z},R)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){a?.(Hi.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,Y=(k=B?.length)!==null&&k!==void 0?k:0,Q=[];for(let tt=0;tt<Y;tt++){const $=B[tt],{filter:{event:ct,schema:at,table:ut,filter:lt}}=$,gt=E&&E[tt];if(gt&&gt.event===ct&&xr.isFilterValueEqual(gt.schema,at)&&xr.isFilterValueEqual(gt.table,ut)&&xr.isFilterValueEqual(gt.filter,lt))Q.push(Object.assign(Object.assign({},$),{id:gt.id}));else{this.unsubscribe(),this.state=Ne.errored,a?.(Hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Q,a&&a(Hi.SUBSCRIBED);return}}).receive("error",E=>{this.state=Ne.errored,a?.(Hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{a?.(Hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,u){return this.state===Ne.joined&&a===Ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,u)}async httpSend(a,l,u={}){var f;if(l==null)return Promise.reject("Payload is required for httpSend()");const _={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(_.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:_,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(f=u.timeout)!==null&&f!==void 0?f:this.timeout);if(b.status===202)return{success:!0};let y=b.statusText;try{const T=await b.json();y=T.error||T.message||y}catch{}return Promise.reject(new Error(y))}async send(a,l={}){var u,f;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:_,payload:p}=a,b={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(b.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:b,body:JSON.stringify({messages:[{topic:this.subTopic,event:_,payload:p,private:this.private}]})};try{const T=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);return await((f=T.body)===null||f===void 0?void 0:f.cancel()),T.ok?"ok":"error"}catch(T){return T.name==="AbortError"?"timed out":"error"}}else return new Promise(_=>{var p,b,y;const T=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(b=(p=this.params)===null||p===void 0?void 0:p.config)===null||b===void 0?void 0:b.broadcast)===null||y===void 0)&&y.ack)&&_("ok"),T.receive("ok",()=>_("ok")),T.receive("error",()=>_("error")),T.receive("timeout",()=>_("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ne.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xn.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(f=>{u=new Zh(this,Xn.leave,{},a),u.receive("ok",()=>{l(),f("ok")}).receive("timeout",()=>{l(),f("timed out")}).receive("error",()=>{f("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(a,l,u){const f=new AbortController,_=setTimeout(()=>f.abort(),u),p=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:f.signal}));return clearTimeout(_),p}_push(a,l,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let f=new Zh(this,a,l,u);return this._canPush()?f.send():this._addToPushBuffer(f),f}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>$v){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,u){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,u){var f,_;const p=a.toLocaleLowerCase(),{close:b,error:y,leave:T,join:O}=Xn;if(u&&[b,y,T,O].indexOf(p)>=0&&u!==this._joinRef())return;let z=this._onMessage(p,l,u);if(l&&!z)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(f=this.bindings.postgres_changes)===null||f===void 0||f.filter(E=>{var k,B,Y;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((Y=(B=E.filter)===null||B===void 0?void 0:B.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())===p}).map(E=>E.callback(z,u)):(_=this.bindings[p])===null||_===void 0||_.filter(E=>{var k,B,Y,Q,tt,$;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in E){const ct=E.id,at=(k=E.filter)===null||k===void 0?void 0:k.event;return ct&&((B=l.ids)===null||B===void 0?void 0:B.includes(ct))&&(at==="*"||at?.toLocaleLowerCase()===((Y=l.data)===null||Y===void 0?void 0:Y.type.toLocaleLowerCase()))}else{const ct=(tt=(Q=E?.filter)===null||Q===void 0?void 0:Q.event)===null||tt===void 0?void 0:tt.toLocaleLowerCase();return ct==="*"||ct===(($=l?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===p}).map(E=>{if(typeof z=="object"&&"ids"in z){const k=z.data,{schema:B,table:Y,commit_timestamp:Q,type:tt,errors:$}=k;z=Object.assign(Object.assign({},{schema:B,table:Y,commit_timestamp:Q,eventType:tt,new:{},old:{},errors:$}),this._getPayloadRecords(k))}E.callback(z,u)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,u){const f=a.toLocaleLowerCase(),_={type:f,filter:l,callback:u};return this.bindings[f]?this.bindings[f].push(_):this.bindings[f]=[_],this}_off(a,l){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(f=>{var _;return!(((_=f.type)===null||_===void 0?void 0:_.toLocaleLowerCase())===u&&xr.isEqual(f.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const u in a)if(a[u]!==l[u])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Xn.close,{},a)}_onError(a){this._on(Xn.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=b_(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=b_(a.columns,a.old_record)),l}}const Ih=()=>{},xu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ng=[1e3,2e3,5e3,1e4],ig=1e4,ag=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sg{constructor(a,l){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fh,this.transport=null,this.heartbeatIntervalMs=xu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ih,this.ref=0,this.reconnectTimer=null,this.vsn=y_,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new Xv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=f=>f?(..._)=>f(..._):(..._)=>fetch(..._),!(!((u=l?.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${td.websocket}`,this.httpEndpoint=Y_(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Iv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,u){this.logger(a,l,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Oa.connecting:return ws.Connecting;case Oa.open:return ws.Open;case Oa.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const u=`realtime:${a}`,f=this.getChannels().find(_=>_.topic===u);if(f)return f;{const _=new xr(`realtime:${a}`,l,this);return this.channels.push(_),_}}push(a){const{topic:l,event:u,payload:f,ref:_}=a,p=()=>{this.encode(a,b=>{var y;(y=this.conn)===null||y===void 0||y.send(b)})};this.log("push",`${l} ${u} (${_})`,f),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Yv,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},xu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const T=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",T)}catch(O){this.log("error","error in heartbeat callback",O)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:f,payload:_,ref:p}=l,b=p?`(${p})`:"",y=_.status||"";this.log("receive",`${y} ${u} ${f} ${b}`.trim(),_),this.channels.filter(T=>T._isMember(u)).forEach(T=>T._trigger(f,_,p)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Oa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oa.open||this.conn.readyState===Oa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Xn.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const u=a.match(/\?/)?"&":"?",f=new URLSearchParams(l);return`${a}${u}${f}`}_workerObjectUrl(a){let l;if(a)l=a;else{const u=new Blob([ag],{type:"application/javascript"});l=URL.createObjectURL(u)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,u=!1;if(a)l=a,u=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(f){this.log("error","Error fetching access token from callback",f),l=this.accessTokenValue}else l=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(f=>{const _={access_token:l,version:Vv};l&&f.updateJoinPayload(_),f.joinedOnce&&f._isJoined()&&f._push(Xn.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(l)}catch(f){this.log("error",`error in ${a} callback`,f)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new V_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,u,f,_,p,b,y,T,O,R,z,E;switch(this.transport=(l=a?.transport)!==null&&l!==void 0?l:null,this.timeout=(u=a?.timeout)!==null&&u!==void 0?u:Fh,this.heartbeatIntervalMs=(f=a?.heartbeatIntervalMs)!==null&&f!==void 0?f:xu.HEARTBEAT_INTERVAL,this.worker=(_=a?.worker)!==null&&_!==void 0?_:!1,this.accessToken=(p=a?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(b=a?.heartbeatCallback)!==null&&b!==void 0?b:Ih,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:y_,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(T=a?.reconnectAfterMs)!==null&&T!==void 0?T:(k=>ng[k-1]||ig),this.vsn){case Kv:this.encode=(O=a?.encode)!==null&&O!==void 0?O:((k,B)=>B(JSON.stringify(k))),this.decode=(R=a?.decode)!==null&&R!==void 0?R:((k,B)=>B(JSON.parse(k)));break;case G_:this.encode=(z=a?.encode)!==null&&z!==void 0?z:this.serializer.encode.bind(this.serializer),this.decode=(E=a?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var qo=class extends Error{constructor(o,a){super(o),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rg(o,a,l){const u=new URL(a,o);if(l)for(const[f,_]of Object.entries(l))_!==void 0&&u.searchParams.set(f,_);return u.toString()}async function og(o){return!o||o.type==="none"?{}:o.type==="bearer"?{Authorization:`Bearer ${o.token}`}:o.type==="header"?{[o.name]:o.value}:o.type==="custom"?await o.getHeaders():{}}function lg(o){const a=o.fetchImpl??globalThis.fetch;return{async request({method:l,path:u,query:f,body:_,headers:p}){const b=rg(o.baseUrl,u,f),y=await og(o.auth),T=await a(b,{method:l,headers:{..._?{"Content-Type":"application/json"}:{},...y,...p},body:_?JSON.stringify(_):void 0}),O=await T.text(),R=(T.headers.get("content-type")||"").includes("application/json"),z=R&&O?JSON.parse(O):O;if(!T.ok){const E=R?z:void 0,k=E?.error;throw new qo(k?.message??`Request failed with status ${T.status}`,{status:T.status,icebergType:k?.type,icebergCode:k?.code,details:E})}return{status:T.status,headers:T.headers,data:z}}}}function Eu(o){return o.join("")}var ug=class{constructor(o,a=""){this.client=o,this.prefix=a}async listNamespaces(o){const a=o?{parent:Eu(o.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(o,a){const l={namespace:o.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(o){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eu(o.namespace)}`})}async loadNamespaceMetadata(o){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eu(o.namespace)}`})).data.properties}}async namespaceExists(o){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eu(o.namespace)}`}),!0}catch(a){if(a instanceof qo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(o,a){try{return await this.createNamespace(o,a)}catch(l){if(l instanceof qo&&l.status===409)return;throw l}}};function _r(o){return o.join("")}var cg=class{constructor(o,a="",l){this.client=o,this.prefix=a,this.accessDelegation=l}async listTables(o){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_r(o.namespace)}/tables`})).data.identifiers}async createTable(o,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_r(o.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(o,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_r(o.namespace)}/tables/${o.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(o,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_r(o.namespace)}/tables/${o.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(o){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_r(o.namespace)}/tables/${o.name}`,headers:a})).data.metadata}async tableExists(o){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_r(o.namespace)}/tables/${o.name}`,headers:a}),!0}catch(l){if(l instanceof qo&&l.status===404)return!1;throw l}}async createTableIfNotExists(o,a){try{return await this.createTable(o,a)}catch(l){if(l instanceof qo&&l.status===409)return await this.loadTable({namespace:o.namespace,name:a.name});throw l}}},hg=class{constructor(o){let a="v1";o.catalogName&&(a+=`/${o.catalogName}`);const l=o.baseUrl.endsWith("/")?o.baseUrl:`${o.baseUrl}/`;this.client=lg({baseUrl:l,auth:o.auth,fetchImpl:o.fetch}),this.accessDelegation=o.accessDelegation?.join(","),this.namespaceOps=new ug(this.client,a),this.tableOps=new cg(this.client,a,this.accessDelegation)}async listNamespaces(o){return this.namespaceOps.listNamespaces(o)}async createNamespace(o,a){return this.namespaceOps.createNamespace(o,a)}async dropNamespace(o){await this.namespaceOps.dropNamespace(o)}async loadNamespaceMetadata(o){return this.namespaceOps.loadNamespaceMetadata(o)}async listTables(o){return this.tableOps.listTables(o)}async createTable(o,a){return this.tableOps.createTable(o,a)}async updateTable(o,a){return this.tableOps.updateTable(o,a)}async dropTable(o,a){await this.tableOps.dropTable(o,a)}async loadTable(o){return this.tableOps.loadTable(o)}async namespaceExists(o){return this.namespaceOps.namespaceExists(o)}async tableExists(o){return this.tableOps.tableExists(o)}async createNamespaceIfNotExists(o,a){return this.namespaceOps.createNamespaceIfNotExists(o,a)}async createTableIfNotExists(o,a){return this.tableOps.createTableIfNotExists(o,a)}},zu=class extends Error{constructor(o,a="storage",l,u){super(o),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=u}};function Mu(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}var Au=class extends zu{constructor(o,a,l,u="storage"){super(o,u,a,l),this.name=u==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$_=class extends zu{constructor(o,a,l="storage"){super(o,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const dg=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),fg=o=>{if(typeof o!="object"||o===null)return!1;const a=Object.getPrototypeOf(o);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},nd=o=>{if(Array.isArray(o))return o.map(l=>nd(l));if(typeof o=="function"||o!==Object(o))return o;const a={};return Object.entries(o).forEach(([l,u])=>{const f=l.replace(/([-_][a-z])/gi,_=>_.toUpperCase().replace(/[-_]/g,""));a[f]=nd(u)}),a},mg=o=>!o||typeof o!="string"||o.length===0||o.length>100||o.trim()!==o||o.includes("/")||o.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(o);function Zo(o){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Zo(o)}function _g(o,a){if(Zo(o)!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var u=l.call(o,a);if(Zo(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function pg(o){var a=_g(o,"string");return Zo(a)=="symbol"?a:a+""}function vg(o,a,l){return(a=pg(a))in o?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o}function T_(o,a){var l=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);a&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(o,f).enumerable})),l.push.apply(l,u)}return l}function St(o){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?T_(Object(l),!0).forEach(function(u){vg(o,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):T_(Object(l)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(l,u))})}return o}const x_=o=>{var a;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(a=o.error)===null||a===void 0?void 0:a.message)||JSON.stringify(o)},gg=async(o,a,l,u)=>{if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!l?.noResolveJson){const f=o,_=f.status||500;if(typeof f.json=="function")f.json().then(p=>{const b=p?.statusCode||p?.code||_+"";a(new Au(x_(p),_,b,u))}).catch(()=>{if(u==="vectors"){const p=_+"";a(new Au(f.statusText||`HTTP ${_} error`,_,p,u))}else{const p=_+"";a(new Au(f.statusText||`HTTP ${_} error`,_,p,u))}});else{const p=_+"";a(new Au(f.statusText||`HTTP ${_} error`,_,p,u))}}else a(new $_(x_(o),o,u))},yg=(o,a,l,u)=>{const f={method:o,headers:a?.headers||{}};return o==="GET"||o==="HEAD"||!u?St(St({},f),l):(fg(u)?(f.headers=St({"Content-Type":"application/json"},a?.headers),f.body=JSON.stringify(u)):f.body=u,a?.duplex&&(f.duplex=a.duplex),St(St({},f),l))};async function Mo(o,a,l,u,f,_,p){return new Promise((b,y)=>{o(l,yg(a,u,f,_)).then(T=>{if(!T.ok)throw T;if(u?.noResolveJson)return T;if(p==="vectors"){const O=T.headers.get("content-type");if(T.headers.get("content-length")==="0"||T.status===204)return{};if(!O||!O.includes("application/json"))return{}}return T.json()}).then(T=>b(T)).catch(T=>gg(T,y,u,p))})}function X_(o="storage"){return{get:async(a,l,u,f)=>Mo(a,"GET",l,u,f,void 0,o),post:async(a,l,u,f,_)=>Mo(a,"POST",l,f,_,u,o),put:async(a,l,u,f,_)=>Mo(a,"PUT",l,f,_,u,o),head:async(a,l,u,f)=>Mo(a,"HEAD",l,St(St({},u),{},{noResolveJson:!0}),f,void 0,o),remove:async(a,l,u,f,_)=>Mo(a,"DELETE",l,f,_,u,o)}}const bg=X_("storage"),{get:Io,post:$n,put:id,head:wg,remove:cd}=bg,Sn=X_("vectors");var Ar=class{constructor(o,a={},l,u="storage"){this.shouldThrowOnError=!1,this.url=o,this.headers=a,this.fetch=dg(l),this.namespace=u}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(o){var a=this;try{return{data:await o(),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Mu(l))return{data:null,error:l};throw l}}},Sg=class{constructor(o,a){this.downloadFn=o,this.shouldThrowOnError=a}then(o,a){return this.execute().then(o,a)}async execute(){var o=this;try{return{data:(await o.downloadFn()).body,error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Mu(a))return{data:null,error:a};throw a}}};let J_;J_=Symbol.toStringTag;var Tg=class{constructor(o,a){this.downloadFn=o,this.shouldThrowOnError=a,this[J_]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sg(this.downloadFn,this.shouldThrowOnError)}then(o,a){return this.getPromise().then(o,a)}catch(o){return this.getPromise().catch(o)}finally(o){return this.getPromise().finally(o)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var o=this;try{return{data:await(await o.downloadFn()).blob(),error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Mu(a))return{data:null,error:a};throw a}}};const xg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Eg=class extends Ar{constructor(o,a={},l,u){super(o,a,u,"storage"),this.bucketId=l}async uploadOrUpdate(o,a,l,u){var f=this;return f.handleOperation(async()=>{let _;const p=St(St({},E_),u);let b=St(St({},f.headers),o==="POST"&&{"x-upsert":String(p.upsert)});const y=p.metadata;typeof Blob<"u"&&l instanceof Blob?(_=new FormData,_.append("cacheControl",p.cacheControl),y&&_.append("metadata",f.encodeMetadata(y)),_.append("",l)):typeof FormData<"u"&&l instanceof FormData?(_=l,_.has("cacheControl")||_.append("cacheControl",p.cacheControl),y&&!_.has("metadata")&&_.append("metadata",f.encodeMetadata(y))):(_=l,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType,y&&(b["x-metadata"]=f.toBase64(f.encodeMetadata(y))),(typeof ReadableStream<"u"&&_ instanceof ReadableStream||_&&typeof _=="object"&&"pipe"in _&&typeof _.pipe=="function")&&!p.duplex&&(p.duplex="half")),u?.headers&&(b=St(St({},b),u.headers));const T=f._removeEmptyFolders(a),O=f._getFinalPath(T),R=await(o=="PUT"?id:$n)(f.fetch,`${f.url}/object/${O}`,_,St({headers:b},p?.duplex?{duplex:p.duplex}:{}));return{path:T,id:R.Id,fullPath:R.Key}})}async upload(o,a,l){return this.uploadOrUpdate("POST",o,a,l)}async uploadToSignedUrl(o,a,l,u){var f=this;const _=f._removeEmptyFolders(o),p=f._getFinalPath(_),b=new URL(f.url+`/object/upload/sign/${p}`);return b.searchParams.set("token",a),f.handleOperation(async()=>{let y;const T=St({upsert:E_.upsert},u),O=St(St({},f.headers),{"x-upsert":String(T.upsert)});return typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",T.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",T.cacheControl)):(y=l,O["cache-control"]=`max-age=${T.cacheControl}`,O["content-type"]=T.contentType),{path:_,fullPath:(await id(f.fetch,b.toString(),y,{headers:O})).Key}})}async createSignedUploadUrl(o,a){var l=this;return l.handleOperation(async()=>{let u=l._getFinalPath(o);const f=St({},l.headers);a?.upsert&&(f["x-upsert"]="true");const _=await $n(l.fetch,`${l.url}/object/upload/sign/${u}`,{},{headers:f}),p=new URL(l.url+_.url),b=p.searchParams.get("token");if(!b)throw new zu("No token returned by API");return{signedUrl:p.toString(),path:o,token:b}})}async update(o,a,l){return this.uploadOrUpdate("PUT",o,a,l)}async move(o,a,l){var u=this;return u.handleOperation(async()=>await $n(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:o,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:u.headers}))}async copy(o,a,l){var u=this;return u.handleOperation(async()=>({path:(await $n(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:o,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:u.headers})).Key}))}async createSignedUrl(o,a,l){var u=this;return u.handleOperation(async()=>{let f=u._getFinalPath(o),_=await $n(u.fetch,`${u.url}/object/sign/${f}`,St({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:u.headers});const p=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${u.url}${_.signedURL}${p}`)}})}async createSignedUrls(o,a,l){var u=this;return u.handleOperation(async()=>{const f=await $n(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:a,paths:o},{headers:u.headers}),_=l?.download?`&download=${l.download===!0?"":l.download}`:"";return f.map(p=>St(St({},p),{},{signedUrl:p.signedURL?encodeURI(`${u.url}${p.signedURL}${_}`):null}))})}download(o,a){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),f=u?`?${u}`:"",_=this._getFinalPath(o),p=()=>Io(this.fetch,`${this.url}/${l}/${_}${f}`,{headers:this.headers,noResolveJson:!0});return new Tg(p,this.shouldThrowOnError)}async info(o){var a=this;const l=a._getFinalPath(o);return a.handleOperation(async()=>nd(await Io(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})))}async exists(o){var a=this;const l=a._getFinalPath(o);try{return await wg(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Mu(u)&&u instanceof $_){const f=u.originalError;if([400,404].includes(f?.status))return{data:!1,error:u}}throw u}}getPublicUrl(o,a){const l=this._getFinalPath(o),u=[],f=a?.download?`download=${a.download===!0?"":a.download}`:"";f!==""&&u.push(f);const _=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&u.push(p);let b=u.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${l}${b}`)}}}async remove(o){var a=this;return a.handleOperation(async()=>await cd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:o},{headers:a.headers}))}async list(o,a,l){var u=this;return u.handleOperation(async()=>{const f=St(St(St({},xg),a),{},{prefix:o||""});return await $n(u.fetch,`${u.url}/object/list/${u.bucketId}`,f,{headers:u.headers},l)})}async listV2(o,a){var l=this;return l.handleOperation(async()=>{const u=St({},o);return await $n(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,u,{headers:l.headers},a)})}encodeMetadata(o){return JSON.stringify(o)}toBase64(o){return typeof Buffer<"u"?Buffer.from(o).toString("base64"):btoa(o)}_getFinalPath(o){return`${this.bucketId}/${o.replace(/^\/+/,"")}`}_removeEmptyFolders(o){return o.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(o){const a=[];return o.width&&a.push(`width=${o.width}`),o.height&&a.push(`height=${o.height}`),o.resize&&a.push(`resize=${o.resize}`),o.format&&a.push(`format=${o.format}`),o.quality&&a.push(`quality=${o.quality}`),a.join("&")}};const Ag="2.93.3",$o={"X-Client-Info":`storage-js/${Ag}`};var Og=class extends Ar{constructor(o,a={},l,u){const f=new URL(o);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase."));const _=f.href.replace(/\/$/,""),p=St(St({},$o),a);super(_,p,l,"storage")}async listBuckets(o){var a=this;return a.handleOperation(async()=>{const l=a.listBucketOptionsToQueryString(o);return await Io(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers})})}async getBucket(o){var a=this;return a.handleOperation(async()=>await Io(a.fetch,`${a.url}/bucket/${o}`,{headers:a.headers}))}async createBucket(o,a={public:!1}){var l=this;return l.handleOperation(async()=>await $n(l.fetch,`${l.url}/bucket`,{id:o,name:o,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async updateBucket(o,a){var l=this;return l.handleOperation(async()=>await id(l.fetch,`${l.url}/bucket/${o}`,{id:o,name:o,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(o){var a=this;return a.handleOperation(async()=>await $n(a.fetch,`${a.url}/bucket/${o}/empty`,{},{headers:a.headers}))}async deleteBucket(o){var a=this;return a.handleOperation(async()=>await cd(a.fetch,`${a.url}/bucket/${o}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(o){const a={};return o&&("limit"in o&&(a.limit=String(o.limit)),"offset"in o&&(a.offset=String(o.offset)),o.search&&(a.search=o.search),o.sortColumn&&(a.sortColumn=o.sortColumn),o.sortOrder&&(a.sortOrder=o.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Cg=class extends Ar{constructor(o,a={},l){const u=o.replace(/\/$/,""),f=St(St({},$o),a);super(u,f,l,"storage")}async createBucket(o){var a=this;return a.handleOperation(async()=>await $n(a.fetch,`${a.url}/bucket`,{name:o},{headers:a.headers}))}async listBuckets(o){var a=this;return a.handleOperation(async()=>{const l=new URLSearchParams;o?.limit!==void 0&&l.set("limit",o.limit.toString()),o?.offset!==void 0&&l.set("offset",o.offset.toString()),o?.sortColumn&&l.set("sortColumn",o.sortColumn),o?.sortOrder&&l.set("sortOrder",o.sortOrder),o?.search&&l.set("search",o.search);const u=l.toString(),f=u?`${a.url}/bucket?${u}`:`${a.url}/bucket`;return await Io(a.fetch,f,{headers:a.headers})})}async deleteBucket(o){var a=this;return a.handleOperation(async()=>await cd(a.fetch,`${a.url}/bucket/${o}`,{},{headers:a.headers}))}from(o){var a=this;if(!mg(o))throw new zu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new hg({baseUrl:this.url,catalogName:o,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(l,{get(f,_){const p=f[_];return typeof p!="function"?p:async(...b)=>{try{return{data:await p.apply(f,b),error:null}}catch(y){if(u)throw y;return{data:null,error:y}}}}})}},Ng=class extends Ar{constructor(o,a={},l){const u=o.replace(/\/$/,""),f=St(St({},$o),{},{"Content-Type":"application/json"},a);super(u,f,l,"vectors")}async createIndex(o){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/CreateIndex`,o,{headers:a.headers})||{})}async getIndex(o,a){var l=this;return l.handleOperation(async()=>await Sn.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:o,indexName:a},{headers:l.headers}))}async listIndexes(o){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/ListIndexes`,o,{headers:a.headers}))}async deleteIndex(o,a){var l=this;return l.handleOperation(async()=>await Sn.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:o,indexName:a},{headers:l.headers})||{})}},Rg=class extends Ar{constructor(o,a={},l){const u=o.replace(/\/$/,""),f=St(St({},$o),{},{"Content-Type":"application/json"},a);super(u,f,l,"vectors")}async putVectors(o){var a=this;if(o.vectors.length<1||o.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/PutVectors`,o,{headers:a.headers})||{})}async getVectors(o){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/GetVectors`,o,{headers:a.headers}))}async listVectors(o){var a=this;if(o.segmentCount!==void 0){if(o.segmentCount<1||o.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(o.segmentIndex!==void 0&&(o.segmentIndex<0||o.segmentIndex>=o.segmentCount))throw new Error(`segmentIndex must be between 0 and ${o.segmentCount-1}`)}return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/ListVectors`,o,{headers:a.headers}))}async queryVectors(o){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/QueryVectors`,o,{headers:a.headers}))}async deleteVectors(o){var a=this;if(o.keys.length<1||o.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/DeleteVectors`,o,{headers:a.headers})||{})}},Lg=class extends Ar{constructor(o,a={},l){const u=o.replace(/\/$/,""),f=St(St({},$o),{},{"Content-Type":"application/json"},a);super(u,f,l,"vectors")}async createBucket(o){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:o},{headers:a.headers})||{})}async getBucket(o){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:o},{headers:a.headers}))}async listBuckets(o={}){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/ListVectorBuckets`,o,{headers:a.headers}))}async deleteBucket(o){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:o},{headers:a.headers})||{})}},jg=class extends Lg{constructor(o,a={}){super(o,a.headers||{},a.fetch)}from(o){return new kg(this.url,this.headers,o,this.fetch)}async createBucket(o){var a=()=>super.createBucket,l=this;return a().call(l,o)}async getBucket(o){var a=()=>super.getBucket,l=this;return a().call(l,o)}async listBuckets(o={}){var a=()=>super.listBuckets,l=this;return a().call(l,o)}async deleteBucket(o){var a=()=>super.deleteBucket,l=this;return a().call(l,o)}},kg=class extends Ng{constructor(o,a,l,u){super(o,a,u),this.vectorBucketName=l}async createIndex(o){var a=()=>super.createIndex,l=this;return a().call(l,St(St({},o),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(o={}){var a=()=>super.listIndexes,l=this;return a().call(l,St(St({},o),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(o){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,o)}async deleteIndex(o){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,o)}index(o){return new zg(this.url,this.headers,this.vectorBucketName,o,this.fetch)}},zg=class extends Rg{constructor(o,a,l,u,f){super(o,a,f),this.vectorBucketName=l,this.indexName=u}async putVectors(o){var a=()=>super.putVectors,l=this;return a().call(l,St(St({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(o){var a=()=>super.getVectors,l=this;return a().call(l,St(St({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(o={}){var a=()=>super.listVectors,l=this;return a().call(l,St(St({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(o){var a=()=>super.queryVectors,l=this;return a().call(l,St(St({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(o){var a=()=>super.deleteVectors,l=this;return a().call(l,St(St({},o),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},Mg=class extends Og{constructor(o,a={},l,u){super(o,a,l,u)}from(o){return new Eg(this.url,this.headers,o,this.fetch)}get vectors(){return new jg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cg(this.url+"/iceberg",this.headers,this.fetch)}};const Q_="2.93.3",Sr=30*1e3,ad=3,Gh=ad*Sr,Dg="http://localhost:9999",Bg="supabase.auth.token",Ug={"X-Client-Info":`gotrue-js/${Q_}`},sd="X-Supabase-Api-Version",W_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hg=600*1e3;class Go extends Error{constructor(a,l,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=u}}function pt(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class qg extends Go{constructor(a,l,u){super(a,l,u),this.name="AuthApiError",this.status=l,this.code=u}}function Zg(o){return pt(o)&&o.name==="AuthApiError"}class Ss extends Go{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class qi extends Go{constructor(a,l,u,f){super(a,u,f),this.name=l,this.status=u}}class wn extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vh(o){return pt(o)&&o.name==="AuthSessionMissingError"}class pr extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ou extends qi{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends qi{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ig(o){return pt(o)&&o.name==="AuthImplicitGrantRedirectError"}class A_ extends qi{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gg extends qi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rd extends qi{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function Kh(o){return pt(o)&&o.name==="AuthRetryableFetchError"}class O_ extends qi{constructor(a,l,u){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=u}}class od extends qi{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C_=` 	
\r=`.split(""),Vg=(()=>{const o=new Array(128);for(let a=0;a<o.length;a+=1)o[a]=-1;for(let a=0;a<C_.length;a+=1)o[C_[a].charCodeAt(0)]=-2;for(let a=0;a<Ru.length;a+=1)o[Ru[a].charCodeAt(0)]=a;return o})();function N_(o,a,l){if(o!==null)for(a.queue=a.queue<<8|o,a.queuedBits+=8;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;l(Ru[u]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;l(Ru[u]),a.queuedBits-=6}}function F_(o,a,l){const u=Vg[o];if(u>-1)for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function R_(o){const a=[],l=p=>{a.push(String.fromCodePoint(p))},u={utf8seq:0,codepoint:0},f={queue:0,queuedBits:0},_=p=>{$g(p,u,l)};for(let p=0;p<o.length;p+=1)F_(o.charCodeAt(p),f,_);return a.join("")}function Kg(o,a){if(o<=127){a(o);return}else if(o<=2047){a(192|o>>6),a(128|o&63);return}else if(o<=65535){a(224|o>>12),a(128|o>>6&63),a(128|o&63);return}else if(o<=1114111){a(240|o>>18),a(128|o>>12&63),a(128|o>>6&63),a(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Yg(o,a){for(let l=0;l<o.length;l+=1){let u=o.charCodeAt(l);if(u>55295&&u<=56319){const f=(u-55296)*1024&65535;u=(o.charCodeAt(l+1)-56320&65535|f)+65536,l+=1}Kg(u,a)}}function $g(o,a,l){if(a.utf8seq===0){if(o<=127){l(o);return}for(let u=1;u<6;u+=1)if((o>>7-u&1)===0){a.utf8seq=u;break}if(a.utf8seq===2)a.codepoint=o&31;else if(a.utf8seq===3)a.codepoint=o&15;else if(a.utf8seq===4)a.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|o&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function Er(o){const a=[],l={queue:0,queuedBits:0},u=f=>{a.push(f)};for(let f=0;f<o.length;f+=1)F_(o.charCodeAt(f),l,u);return new Uint8Array(a)}function Xg(o){const a=[];return Yg(o,l=>a.push(l)),new Uint8Array(a)}function Ts(o){const a=[],l={queue:0,queuedBits:0},u=f=>{a.push(f)};return o.forEach(f=>N_(f,l,u)),N_(null,l,u),a.join("")}function Jg(o){return Math.round(Date.now()/1e3)+o}function Qg(){return Symbol("auth-callback")}const qe=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},tp=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function Wg(o){const a={},l=new URL(o);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((f,_)=>{a[_]=f})}catch{}return l.searchParams.forEach((u,f)=>{a[f]=u}),a}const ep=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),Fg=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Tr=async(o,a,l)=>{await o.setItem(a,JSON.stringify(l))},ys=async(o,a)=>{const l=await o.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},He=async(o,a)=>{await o.removeItem(a)};class Du{constructor(){this.promise=new Du.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}Du.promiseConstructor=Promise;function Nu(o){const a=o.split(".");if(a.length!==3)throw new od("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!Pg.test(a[u]))throw new od("JWT not in base64url format");return{header:JSON.parse(R_(a[0])),payload:JSON.parse(R_(a[1])),signature:Er(a[2]),raw:{header:a[0],payload:a[1]}}}async function ty(o){return await new Promise(a=>{setTimeout(()=>a(null),o)})}function ey(o,a){return new Promise((u,f)=>{(async()=>{for(let _=0;_<1/0;_++)try{const p=await o(_);if(!a(_,null,p)){u(p);return}}catch(p){if(!a(_,p)){f(p);return}}})()})}function ny(o){return("0"+o.toString(16)).substr(-2)}function iy(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=l.length;let f="";for(let _=0;_<56;_++)f+=l.charAt(Math.floor(Math.random()*u));return f}return crypto.getRandomValues(a),Array.from(a,ny).join("")}async function ay(o){const l=new TextEncoder().encode(o),u=await crypto.subtle.digest("SHA-256",l),f=new Uint8Array(u);return Array.from(f).map(_=>String.fromCharCode(_)).join("")}async function sy(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const l=await ay(o);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vr(o,a,l=!1){const u=iy();let f=u;l&&(f+="/PASSWORD_RECOVERY"),await Tr(o,`${a}-code-verifier`,f);const _=await sy(u);return[_,u===_?"plain":"s256"]}const ry=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oy(o){const a=o.headers.get(sd);if(!a||!a.match(ry))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function ly(o){if(!o)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(o<=a)throw new Error("JWT has expired")}function uy(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(o){if(!cy.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const o={};return new Proxy(o,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hy(o,a){return new Proxy(o,{get:(l,u,f)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const _=u.toString();if(_==="Symbol(Symbol.toPrimitive)"||_==="Symbol(Symbol.toStringTag)"||_==="Symbol(util.inspect.custom)"||_==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,u,f)}return!a.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,u,f)}})}function L_(o){return JSON.parse(JSON.stringify(o))}const bs=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),dy=[502,503,504];async function j_(o){var a;if(!Fg(o))throw new rd(bs(o),0);if(dy.includes(o.status))throw new rd(bs(o),o.status);let l;try{l=await o.json()}catch(_){throw new Ss(bs(_),_)}let u;const f=oy(o);if(f&&f.getTime()>=W_["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?u=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(u=l.error_code),u){if(u==="weak_password")throw new O_(bs(l),o.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(u==="session_not_found")throw new wn}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((_,p)=>_&&typeof p=="string",!0))throw new O_(bs(l),o.status,l.weak_password.reasons);throw new qg(bs(l),o.status||500,u)}const fy=(o,a,l,u)=>{const f={method:o,headers:a?.headers||{}};return o==="GET"?f:(f.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),f.body=JSON.stringify(u),Object.assign(Object.assign({},f),l))};async function bt(o,a,l,u){var f;const _=Object.assign({},u?.headers);_[sd]||(_[sd]=W_["2024-01-01"].name),u?.jwt&&(_.Authorization=`Bearer ${u.jwt}`);const p=(f=u?.query)!==null&&f!==void 0?f:{};u?.redirectTo&&(p.redirect_to=u.redirectTo);const b=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",y=await my(o,a,l+b,{headers:_,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(y):{data:Object.assign({},y),error:null}}async function my(o,a,l,u,f,_){const p=fy(a,u,f,_);let b;try{b=await o(l,Object.assign({},p))}catch(y){throw console.error(y),new rd(bs(y),0)}if(b.ok||await j_(b),u?.noResolveJson)return b;try{return await b.json()}catch(y){await j_(y)}}function Yn(o){var a;let l=null;vy(o)&&(l=Object.assign({},o),o.expires_at||(l.expires_at=Jg(o.expires_in)));const u=(a=o.user)!==null&&a!==void 0?a:o;return{data:{session:l,user:u},error:null}}function k_(o){const a=Yn(o);return!a.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0)&&(a.data.weak_password=o.weak_password),a}function Ca(o){var a;return{data:{user:(a=o.user)!==null&&a!==void 0?a:o},error:null}}function _y(o){return{data:o,error:null}}function py(o){const{action_link:a,email_otp:l,hashed_token:u,redirect_to:f,verification_type:_}=o,p=ku(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:a,email_otp:l,hashed_token:u,redirect_to:f,verification_type:_},y=Object.assign({},p);return{data:{properties:b,user:y},error:null}}function z_(o){return o}function vy(o){return o.access_token&&o.refresh_token&&o.expires_in}const $h=["global","local","others"];class gy{constructor({url:a="",headers:l={},fetch:u}){this.url=a,this.headers=l,this.fetch=ep(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=$h[0]){if($h.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$h.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}}async inviteUserByEmail(a,l={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:Ca})}catch(u){if(pt(u))return{data:{user:null},error:u};throw u}}async generateLink(a){try{const{options:l}=a,u=ku(a,["options"]),f=Object.assign(Object.assign({},u),l);return"newEmail"in u&&(f.new_email=u?.newEmail,delete f.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:f,headers:this.headers,xform:py,redirectTo:l?.redirectTo})}catch(l){if(pt(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ca})}catch(l){if(pt(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,u,f,_,p,b,y;try{const T={nextPage:null,lastPage:0,total:0},O=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:"",per_page:(_=(f=a?.perPage)===null||f===void 0?void 0:f.toString())!==null&&_!==void 0?_:""},xform:z_});if(O.error)throw O.error;const R=await O.json(),z=(p=O.headers.get("x-total-count"))!==null&&p!==void 0?p:0,E=(y=(b=O.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&y!==void 0?y:[];return E.length>0&&(E.forEach(k=>{const B=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),Y=JSON.parse(k.split(";")[1].split("=")[1]);T[`${Y}Page`]=B}),T.total=parseInt(z)),{data:Object.assign(Object.assign({},R),T),error:null}}catch(T){if(pt(T))return{data:{users:[]},error:T};throw T}}async getUserById(a){gr(a);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ca})}catch(l){if(pt(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){gr(a);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:Ca})}catch(u){if(pt(u))return{data:{user:null},error:u};throw u}}async deleteUser(a,l=!1){gr(a);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:Ca})}catch(u){if(pt(u))return{data:{user:null},error:u};throw u}}async _listFactors(a){gr(a.userId);try{const{data:l,error:u}=await bt(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:f=>({data:{factors:f},error:null})});return{data:l,error:u}}catch(l){if(pt(l))return{data:null,error:l};throw l}}async _deleteFactor(a){gr(a.userId),gr(a.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,u,f,_,p,b,y;try{const T={nextPage:null,lastPage:0,total:0},O=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:"",per_page:(_=(f=a?.perPage)===null||f===void 0?void 0:f.toString())!==null&&_!==void 0?_:""},xform:z_});if(O.error)throw O.error;const R=await O.json(),z=(p=O.headers.get("x-total-count"))!==null&&p!==void 0?p:0,E=(y=(b=O.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&y!==void 0?y:[];return E.length>0&&(E.forEach(k=>{const B=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),Y=JSON.parse(k.split(";")[1].split("=")[1]);T[`${Y}Page`]=B}),T.total=parseInt(z)),{data:Object.assign(Object.assign({},R),T),error:null}}catch(T){if(pt(T))return{data:{clients:[]},error:T};throw T}}async _createOAuthClient(a){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(pt(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(pt(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(pt(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(a){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(pt(l))return{data:null,error:l};throw l}}}function M_(o={}){return{getItem:a=>o[a]||null,setItem:(a,l)=>{o[a]=l},removeItem:a=>{delete o[a]}}}const yr={debug:!!(globalThis&&tp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class np extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class yy extends np{}async function by(o,a,l){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async f=>{if(f){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,f.name);try{return await l()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,f.name)}}else{if(a===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new yy(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(yr.debug)try{const _=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(_,null,"  "))}catch(_){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",_)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function wy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ip(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function Sy(o){return parseInt(o,16)}function Ty(o){const a=new TextEncoder().encode(o);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}function xy(o){var a;const{chainId:l,domain:u,expirationTime:f,issuedAt:_=new Date,nonce:p,notBefore:b,requestId:y,resources:T,scheme:O,uri:R,version:z}=o;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(z!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${z}`);if(!((a=o.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const E=ip(o.address),k=O?`${O}://${u}`:u,B=o.statement?`${o.statement}
`:"",Y=`${k} wants you to sign in with your Ethereum account:
${E}

${B}`;let Q=`URI: ${R}
Version: ${z}
Chain ID: ${l}${p?`
Nonce: ${p}`:""}
Issued At: ${_.toISOString()}`;if(f&&(Q+=`
Expiration Time: ${f.toISOString()}`),b&&(Q+=`
Not Before: ${b.toISOString()}`),y&&(Q+=`
Request ID: ${y}`),T){let tt=`
Resources:`;for(const $ of T){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);tt+=`
- ${$}`}Q+=tt}return`${Y}
${Q}`}class Te extends Error{constructor({message:a,code:l,cause:u,name:f}){var _;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=(_=f??(u instanceof Error?u.name:void 0))!==null&&_!==void 0?_:"Unknown Error",this.code=l}}class Lu extends Te{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function Ey({error:o,options:a}){var l,u,f;const{publicKey:_}=a;if(!_)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((l=_.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(a.mediation==="conditional"&&((u=_.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((f=_.authenticatorSelection)===null||f===void 0?void 0:f.userVerification)==="required")return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new Te({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return _.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const p=window.location.hostname;if(ap(p)){if(_.rp.id!==p)return new Te({message:`The RP ID "${_.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(_.user.id.byteLength<1||_.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function Ay({error:o,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new Te({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const u=window.location.hostname;if(ap(u)){if(l.rpId!==u)return new Te({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class Oy{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Cy=new Oy;function Ny(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:a,user:l,excludeCredentials:u}=o,f=ku(o,["challenge","user","excludeCredentials"]),_=Er(a).buffer,p=Object.assign(Object.assign({},l),{id:Er(l.id).buffer}),b=Object.assign(Object.assign({},f),{challenge:_,user:p});if(u&&u.length>0){b.excludeCredentials=new Array(u.length);for(let y=0;y<u.length;y++){const T=u[y];b.excludeCredentials[y]=Object.assign(Object.assign({},T),{id:Er(T.id).buffer,type:T.type||"public-key",transports:T.transports})}}return b}function Ry(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:a,allowCredentials:l}=o,u=ku(o,["challenge","allowCredentials"]),f=Er(a).buffer,_=Object.assign(Object.assign({},u),{challenge:f});if(l&&l.length>0){_.allowCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const b=l[p];_.allowCredentials[p]=Object.assign(Object.assign({},b),{id:Er(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return _}function Ly(o){var a;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const l=o;return{id:o.id,rawId:o.id,response:{attestationObject:Ts(new Uint8Array(o.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function jy(o){var a;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const l=o,u=o.getClientExtensionResults(),f=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:Ts(new Uint8Array(f.authenticatorData)),clientDataJSON:Ts(new Uint8Array(f.clientDataJSON)),signature:Ts(new Uint8Array(f.signature)),userHandle:f.userHandle?Ts(new Uint8Array(f.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function ap(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function D_(){var o,a;return!!(qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function ky(o){try{const a=await navigator.credentials.create(o);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",a)}:{data:null,error:new Lu("Empty credential response",a)}}catch(a){return{data:null,error:Ey({error:a,options:o})}}}async function zy(o){try{const a=await navigator.credentials.get(o);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",a)}:{data:null,error:new Lu("Empty credential response",a)}}catch(a){return{data:null,error:Ay({error:a,options:o})}}}const My={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ju(...o){const a=f=>f!==null&&typeof f=="object"&&!Array.isArray(f),l=f=>f instanceof ArrayBuffer||ArrayBuffer.isView(f),u={};for(const f of o)if(f)for(const _ in f){const p=f[_];if(p!==void 0)if(Array.isArray(p))u[_]=p;else if(l(p))u[_]=p;else if(a(p)){const b=u[_];a(b)?u[_]=ju(b,p):u[_]=ju(p)}else u[_]=p}return u}function By(o,a){return ju(My,o,a||{})}function Uy(o,a){return ju(Dy,o,a||{})}class Py{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:u,signal:f},_){var p;try{const{data:b,error:y}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!b)return{data:null,error:y};const T=f??Cy.createNewAbortSignal();if(b.webauthn.type==="create"){const{user:O}=b.webauthn.credential_options.publicKey;if(!O.name){const R=u;if(R)O.name=`${O.id}:${R}`;else{const E=(await this.client.getUser()).data.user,k=((p=E?.user_metadata)===null||p===void 0?void 0:p.name)||E?.email||E?.id||"User";O.name=`${O.id}:${k}`}}O.displayName||(O.displayName=O.name)}switch(b.webauthn.type){case"create":{const O=By(b.webauthn.credential_options.publicKey,_?.create),{data:R,error:z}=await ky({publicKey:O,signal:T});return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:z}}case"request":{const O=Uy(b.webauthn.credential_options.publicKey,_?.request),{data:R,error:z}=await zy(Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:O,signal:T}));return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:z}}}}catch(b){return pt(b)?{data:null,error:b}:{data:null,error:new Ss("Unexpected error in challenge",b)}}}async _verify({challengeId:a,factorId:l,webauthn:u}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:u})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},_){if(!l)return{data:null,error:new Go("rpId is required for WebAuthn authentication")};try{if(!D_())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:u},signal:f},{request:_});if(!p)return{data:null,error:b};const{webauthn:y}=p;return this._verify({factorId:a,challengeId:p.challengeId,webauthn:{type:y.type,rpId:l,rpOrigins:u,credential_response:y.credential_response}})}catch(p){return pt(p)?{data:null,error:p}:{data:null,error:new Ss("Unexpected error in authenticate",p)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},_){if(!l)return{data:null,error:new Go("rpId is required for WebAuthn registration")};try{if(!D_())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this._enroll({friendlyName:a});if(!p)return await this.client.mfa.listFactors().then(O=>{var R;return(R=O.data)===null||R===void 0?void 0:R.all.find(z=>z.factor_type==="webauthn"&&z.friendly_name===a&&z.status!=="unverified")}).then(O=>O?this.client.mfa.unenroll({factorId:O?.id}):void 0),{data:null,error:b};const{data:y,error:T}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:l,rpOrigins:u},signal:f},{create:_});return y?this._verify({factorId:p.id,challengeId:y.challengeId,webauthn:{rpId:l,rpOrigins:u,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:T}}catch(p){return pt(p)?{data:null,error:p}:{data:null,error:new Ss("Unexpected error in register",p)}}}}wy();const Hy={url:Dg,storageKey:Bg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ug,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function B_(o,a,l){return await l()}const br={};class Vo{get jwks(){var a,l;return(l=(a=br[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=br[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{cachedAt:a})}constructor(a){var l,u,f;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const _=Object.assign(Object.assign({},Hy),a);if(this.storageKey=_.storageKey,this.instanceID=(l=Vo.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Vo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!_.debug,typeof _.debug=="function"&&(this.logger=_.debug),this.instanceID>0&&qe()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=_.persistSession,this.autoRefreshToken=_.autoRefreshToken,this.admin=new gy({url:_.url,headers:_.headers,fetch:_.fetch}),this.url=_.url,this.headers=_.headers,this.fetch=ep(_.fetch),this.lock=_.lock||B_,this.detectSessionInUrl=_.detectSessionInUrl,this.flowType=_.flowType,this.hasCustomAuthorizationHeader=_.hasCustomAuthorizationHeader,this.throwOnError=_.throwOnError,this.lockAcquireTimeout=_.lockAcquireTimeout,_.lock?this.lock=_.lock:this.persistSession&&qe()&&(!((u=globalThis?.navigator)===null||u===void 0)&&u.locks)?this.lock=by:this.lock=B_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Py(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(_.storage?this.storage=_.storage:tp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M_(this.memoryStorage)),_.userStorage&&(this.userStorage=_.userStorage)):(this.memoryStorage={},this.storage=M_(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(f=this.broadcastChannel)===null||f===void 0||f.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p);try{await this._notifyAllSubscribers(p.data.event,p.data.session,!1)}catch(b){this._debug("#broadcastChannel","error",b)}})}this.initialize().catch(p=>{this._debug("#initialize()","error",p)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Q_}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},u="none";if(qe()&&(l=Wg(window.location.href),this._isImplicitGrantCallback(l)?u="implicit":await this._isPKCECallback(l)&&(u="pkce")),qe()&&this.detectSessionInUrl&&u!=="none"){const{data:f,error:_}=await this._getSessionFromURL(l,u);if(_){if(this._debug("#_initialize()","error detecting session from URL",_),Ig(_)){const y=(a=_.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:_}}return{error:_}}const{session:p,redirectType:b}=f;return this._debug("#_initialize()","detected session in URL",p,"redirect type",b),await this._saveSession(p),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return pt(l)?this._returnResult({error:l}):this._returnResult({error:new Ss("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,u,f;try{const _=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(l=a?.options)===null||l===void 0?void 0:l.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(f=a?.options)===null||f===void 0?void 0:f.captchaToken}},xform:Yn}),{data:p,error:b}=_;if(b||!p)return this._returnResult({data:{user:null,session:null},error:b});const y=p.session,T=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:T,session:y},error:null})}catch(_){if(pt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signUp(a){var l,u,f;try{let _;if("email"in a){const{email:O,password:R,options:z}=a;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await vr(this.storage,this.storageKey)),_=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:z?.emailRedirectTo,body:{email:O,password:R,data:(l=z?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:z?.captchaToken},code_challenge:E,code_challenge_method:k},xform:Yn})}else if("phone"in a){const{phone:O,password:R,options:z}=a;_=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:O,password:R,data:(u=z?.data)!==null&&u!==void 0?u:{},channel:(f=z?.channel)!==null&&f!==void 0?f:"sms",gotrue_meta_security:{captcha_token:z?.captchaToken}},xform:Yn})}else throw new Ou("You must provide either an email or phone number and a password");const{data:p,error:b}=_;if(b||!p)return await He(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:b});const y=p.session,T=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:T,session:y},error:null})}catch(_){if(await He(this.storage,`${this.storageKey}-code-verifier`),pt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithPassword(a){try{let l;if("email"in a){const{email:_,password:p,options:b}=a;l=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:_,password:p,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:k_})}else if("phone"in a){const{phone:_,password:p,options:b}=a;l=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:_,password:p,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:k_})}else throw new Ou("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const _=new pr;return this._returnResult({data:{user:null,session:null},error:_})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:f})}catch(l){if(pt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,u,f,_;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=a.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=a.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:(_=a.options)===null||_===void 0?void 0:_.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,u,f,_,p,b,y,T,O,R,z;let E,k;if("message"in a)E=a.message,k=a.signature;else{const{chain:B,wallet:Y,statement:Q,options:tt}=a;let $;if(qe())if(typeof Y=="object")$=Y;else{const At=window;if("ethereum"in At&&typeof At.ethereum=="object"&&"request"in At.ethereum&&typeof At.ethereum.request=="function")$=At.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!tt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=Y}const ct=new URL((l=tt?.url)!==null&&l!==void 0?l:window.location.href),at=await $.request({method:"eth_requestAccounts"}).then(At=>At).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!at||at.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ut=ip(at[0]);let lt=(u=tt?.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!lt){const At=await $.request({method:"eth_chainId"});lt=Sy(At)}const gt={domain:ct.host,address:ut,statement:Q,uri:ct.href,version:"1",chainId:lt,nonce:(f=tt?.signInWithEthereum)===null||f===void 0?void 0:f.nonce,issuedAt:(p=(_=tt?.signInWithEthereum)===null||_===void 0?void 0:_.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(b=tt?.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(y=tt?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(T=tt?.signInWithEthereum)===null||T===void 0?void 0:T.requestId,resources:(O=tt?.signInWithEthereum)===null||O===void 0?void 0:O.resources};E=xy(gt),k=await $.request({method:"personal_sign",params:[Ty(E),ut]})}try{const{data:B,error:Y}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(z=a.options)===null||z===void 0?void 0:z.captchaToken}}:null),xform:Yn});if(Y)throw Y;if(!B||!B.session||!B.user){const Q=new pr;return this._returnResult({data:{user:null,session:null},error:Q})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:Y})}catch(B){if(pt(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async signInWithSolana(a){var l,u,f,_,p,b,y,T,O,R,z,E;let k,B;if("message"in a)k=a.message,B=a.signature;else{const{chain:Y,wallet:Q,statement:tt,options:$}=a;let ct;if(qe())if(typeof Q=="object")ct=Q;else{const ut=window;if("solana"in ut&&typeof ut.solana=="object"&&("signIn"in ut.solana&&typeof ut.solana.signIn=="function"||"signMessage"in ut.solana&&typeof ut.solana.signMessage=="function"))ct=ut.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ct=Q}const at=new URL((l=$?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in ct&&ct.signIn){const ut=await ct.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:at.host,uri:at.href}),tt?{statement:tt}:null));let lt;if(Array.isArray(ut)&&ut[0]&&typeof ut[0]=="object")lt=ut[0];else if(ut&&typeof ut=="object"&&"signedMessage"in ut&&"signature"in ut)lt=ut;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in lt&&"signature"in lt&&(typeof lt.signedMessage=="string"||lt.signedMessage instanceof Uint8Array)&&lt.signature instanceof Uint8Array)k=typeof lt.signedMessage=="string"?lt.signedMessage:new TextDecoder().decode(lt.signedMessage),B=lt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ct)||typeof ct.signMessage!="function"||!("publicKey"in ct)||typeof ct!="object"||!ct.publicKey||!("toBase58"in ct.publicKey)||typeof ct.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${at.host} wants you to sign in with your Solana account:`,ct.publicKey.toBase58(),...tt?["",tt,""]:[""],"Version: 1",`URI: ${at.href}`,`Issued At: ${(f=(u=$?.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date().toISOString()}`,...!((_=$?.signInWithSolana)===null||_===void 0)&&_.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((b=$?.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((y=$?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((T=$?.signInWithSolana)===null||T===void 0)&&T.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((R=(O=$?.signInWithSolana)===null||O===void 0?void 0:O.resources)===null||R===void 0)&&R.length?["Resources",...$.signInWithSolana.resources.map(lt=>`- ${lt}`)]:[]].join(`
`);const ut=await ct.signMessage(new TextEncoder().encode(k),"utf8");if(!ut||!(ut instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=ut}}try{const{data:Y,error:Q}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Ts(B)},!((z=a.options)===null||z===void 0)&&z.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Yn});if(Q)throw Q;if(!Y||!Y.session||!Y.user){const tt=new pr;return this._returnResult({data:{user:null,session:null},error:tt})}return Y.session&&(await this._saveSession(Y.session),await this._notifyAllSubscribers("SIGNED_IN",Y.session)),this._returnResult({data:Object.assign({},Y),error:Q})}catch(Y){if(pt(Y))return this._returnResult({data:{user:null,session:null},error:Y});throw Y}}async _exchangeCodeForSession(a){const l=await ys(this.storage,`${this.storageKey}-code-verifier`),[u,f]=(l??"").split("/");try{if(!u&&this.flowType==="pkce")throw new Gg;const{data:_,error:p}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:u},xform:Yn});if(await He(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!_||!_.session||!_.user){const b=new pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign(Object.assign({},_),{redirectType:f??null}),error:p})}catch(_){if(await He(this.storage,`${this.storageKey}-code-verifier`),pt(_))return this._returnResult({data:{user:null,session:null,redirectType:null},error:_});throw _}}async signInWithIdToken(a){try{const{options:l,provider:u,token:f,access_token:_,nonce:p}=a,b=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:f,access_token:_,nonce:p,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Yn}),{data:y,error:T}=b;if(T)return this._returnResult({data:{user:null,session:null},error:T});if(!y||!y.session||!y.user){const O=new pr;return this._returnResult({data:{user:null,session:null},error:O})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:T})}catch(l){if(pt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,u,f,_,p;try{if("email"in a){const{email:b,options:y}=a;let T=null,O=null;this.flowType==="pkce"&&([T,O]=await vr(this.storage,this.storageKey));const{error:R}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(l=y?.data)!==null&&l!==void 0?l:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:T,code_challenge_method:O},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in a){const{phone:b,options:y}=a,{data:T,error:O}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(f=y?.data)!==null&&f!==void 0?f:{},create_user:(_=y?.shouldCreateUser)!==null&&_!==void 0?_:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(p=y?.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:T?.message_id},error:O})}throw new Ou("You must provide either an email or phone number.")}catch(b){if(await He(this.storage,`${this.storageKey}-code-verifier`),pt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async verifyOtp(a){var l,u;try{let f,_;"options"in a&&(f=(l=a.options)===null||l===void 0?void 0:l.redirectTo,_=(u=a.options)===null||u===void 0?void 0:u.captchaToken);const{data:p,error:b}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:_}}),redirectTo:f,xform:Yn});if(b)throw b;if(!p)throw new Error("An error occurred on token verification.");const y=p.session,T=p.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:T,session:y},error:null})}catch(f){if(pt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSSO(a){var l,u,f,_,p;try{let b=null,y=null;this.flowType==="pkce"&&([b,y]=await vr(this.storage,this.storageKey));const T=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(u=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&u!==void 0?u:void 0}),!((f=a?.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:b,code_challenge_method:y}),headers:this.headers,xform:_y});return!((_=T.data)===null||_===void 0)&&_.url&&qe()&&!(!((p=a.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(T.data.url),this._returnResult(T)}catch(b){if(await He(this.storage,`${this.storageKey}-code-verifier`),pt(b))return this._returnResult({data:null,error:b});throw b}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)throw u;if(!l)throw new wn;const{error:f}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:f})})}catch(a){if(pt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:u,type:f,options:_}=a,{error:p}=await bt(this.fetch,"POST",l,{headers:this.headers,body:{email:u,type:f,gotrue_meta_security:{captcha_token:_?.captchaToken}},redirectTo:_?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in a){const{phone:u,type:f,options:_}=a,{data:p,error:b}=await bt(this.fetch,"POST",l,{headers:this.headers,body:{phone:u,type:f,gotrue_meta_security:{captcha_token:_?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:b})}throw new Ou("You must provide either an email or phone number and a type")}catch(l){if(pt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),f=(async()=>(await u,await l()))();return this.pendingInLock.push((async()=>{try{await f}catch{}})()),f}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=l();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const f=[...this.pendingInLock];await Promise.all(f),this.pendingInLock.splice(0,f.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const u=a.expires_at?a.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",a.expires_at),!u){if(this.userStorage){const p=await ys(this.userStorage,this.storageKey+"-user");p?.user?a.user=p.user:a.user=Yh()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};a.user=hy(a.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:f,error:_}=await this._callRefreshToken(a.refresh_token);return _?this._returnResult({data:{session:null},error:_}):this._returnResult({data:{session:f},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ca}):await this._useSession(async l=>{var u,f,_;const{data:p,error:b}=l;if(b)throw b;return!(!((u=p.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(_=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&_!==void 0?_:void 0,xform:Ca})})}catch(l){if(pt(l))return Vh(l)&&(await this._removeSession(),await He(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async u=>{const{data:f,error:_}=u;if(_)throw _;if(!f.session)throw new wn;const p=f.session;let b=null,y=null;this.flowType==="pkce"&&a.email!=null&&([b,y]=await vr(this.storage,this.storageKey));const{data:T,error:O}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:b,code_challenge_method:y}),jwt:p.access_token,xform:Ca});if(O)throw O;return p.user=T.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(u){if(await He(this.storage,`${this.storageKey}-code-verifier`),pt(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new wn;const l=Date.now()/1e3;let u=l,f=!0,_=null;const{payload:p}=Nu(a.access_token);if(p.exp&&(u=p.exp,f=u<=l),f){const{data:b,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!b)return{data:{user:null,session:null},error:null};_=b}else{const{data:b,error:y}=await this._getUser(a.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});_={access_token:a.access_token,refresh_token:a.refresh_token,user:b.user,token_type:"bearer",expires_in:u-l,expires_at:u},await this._saveSession(_),await this._notifyAllSubscribers("SIGNED_IN",_)}return this._returnResult({data:{user:_.user,session:_},error:null})}catch(l){if(pt(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var u;if(!a){const{data:p,error:b}=l;if(b)throw b;a=(u=p.session)!==null&&u!==void 0?u:void 0}if(!a?.refresh_token)throw new wn;const{data:f,error:_}=await this._callRefreshToken(a.refresh_token);return _?this._returnResult({data:{user:null,session:null},error:_}):f?this._returnResult({data:{user:f.user,session:f},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(pt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!qe())throw new Cu("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Cu(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new A_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new A_("No code detected.");const{data:tt,error:$}=await this._exchangeCodeForSession(a.code);if($)throw $;const ct=new URL(window.location.href);return ct.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ct.toString()),{data:{session:tt.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:f,access_token:_,refresh_token:p,expires_in:b,expires_at:y,token_type:T}=a;if(!_||!b||!p||!T)throw new Cu("No session defined in URL");const O=Math.round(Date.now()/1e3),R=parseInt(b);let z=O+R;y&&(z=parseInt(y));const E=z-O;E*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${R}s`);const k=z-R;O-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,z,O):O-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,z,O);const{data:B,error:Y}=await this._getUser(_);if(Y)throw Y;const Q={provider_token:u,provider_refresh_token:f,access_token:_,expires_in:R,expires_at:z,refresh_token:p,token_type:T,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Q,redirectType:a.type},error:null})}catch(u){if(pt(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var u;const{data:f,error:_}=l;if(_&&!Vh(_))return this._returnResult({error:_});const p=(u=f.session)===null||u===void 0?void 0:u.access_token;if(p){const{error:b}=await this.admin.signOut(p,a);if(b&&!(Zg(b)&&(b.status===404||b.status===401||b.status===403)||Vh(b)))return this._returnResult({error:b})}return a!=="others"&&(await this._removeSession(),await He(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=Qg(),u={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:u}}}async _emitInitialSession(a){return await this._useSession(async l=>{var u,f;try{const{data:{session:_},error:p}=l;if(p)throw p;await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",_)),this._debug("INITIAL_SESSION","callback id",a,"session",_)}catch(_){await((f=this.stateChangeEmitters.get(a))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",_),console.error(_)}})}async resetPasswordForEmail(a,l={}){let u=null,f=null;this.flowType==="pkce"&&([u,f]=await vr(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:u,code_challenge_method:f,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(_){if(await He(this.storage,`${this.storageKey}-code-verifier`),pt(_))return this._returnResult({data:null,error:_});throw _}}async getUserIdentities(){var a;try{const{data:l,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:u,error:f}=await this._useSession(async _=>{var p,b,y,T,O;const{data:R,error:z}=_;if(z)throw z;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(p=a.options)===null||p===void 0?void 0:p.redirectTo,scopes:(b=a.options)===null||b===void 0?void 0:b.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",E,{headers:this.headers,jwt:(O=(T=R.session)===null||T===void 0?void 0:T.access_token)!==null&&O!==void 0?O:void 0})});if(f)throw f;return qe()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u?.url),this._returnResult({data:{provider:a.provider,url:u?.url},error:null})}catch(u){if(pt(u))return this._returnResult({data:{provider:a.provider,url:null},error:u});throw u}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var u;try{const{error:f,data:{session:_}}=l;if(f)throw f;const{options:p,provider:b,token:y,access_token:T,nonce:O}=a,R=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=_?.access_token)!==null&&u!==void 0?u:void 0,body:{provider:b,id_token:y,access_token:T,nonce:O,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Yn}),{data:z,error:E}=R;return E?this._returnResult({data:{user:null,session:null},error:E}):!z||!z.session||!z.user?this._returnResult({data:{user:null,session:null},error:new pr}):(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("USER_UPDATED",z.session)),this._returnResult({data:z,error:E}))}catch(f){if(await He(this.storage,`${this.storageKey}-code-verifier`),pt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var u,f;const{data:_,error:p}=l;if(p)throw p;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(f=(u=_.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const u=Date.now();return await ey(async f=>(f>0&&await ty(200*Math.pow(2,f-1)),this._debug(l,"refreshing attempt",f),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Yn})),(f,_)=>{const p=200*Math.pow(2,f);return _&&Kh(_)&&Date.now()+p-u<Sr})}catch(u){if(this._debug(l,"error",u),pt(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const u=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",u),qe()&&!l.skipBrowserRedirect&&window.location.assign(u),{data:{provider:a,url:u},error:null}}async _recoverAndRefresh(){var a,l;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const f=await ys(this.storage,this.storageKey);if(f&&this.userStorage){let p=await ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:f.user},await Tr(this.userStorage,this.storageKey+"-user",p)),f.user=(a=p?.user)!==null&&a!==void 0?a:Yh()}else if(f&&!f.user&&!f.user){const p=await ys(this.storage,this.storageKey+"-user");p&&p?.user?(f.user=p.user,await He(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,f)):f.user=Yh()}if(this._debug(u,"session from storage",f),!this._isValidSession(f)){this._debug(u,"session is not valid"),f!==null&&await this._removeSession();return}const _=((l=f.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Gh;if(this._debug(u,`session has${_?"":" not"} expired with margin of ${Gh}s`),_){if(this.autoRefreshToken&&f.refresh_token){const{error:p}=await this._callRefreshToken(f.refresh_token);p&&(console.error(p),Kh(p)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(f.user&&f.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:b}=await this._getUser(f.access_token);!b&&p?.user?(f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(u,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",f)}catch(f){this._debug(u,"error",f),console.error(f);return}finally{this._debug(u,"end")}}async _callRefreshToken(a){var l,u;if(!a)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const f=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(f,"begin");try{this.refreshingDeferred=new Du;const{data:_,error:p}=await this._refreshAccessToken(a);if(p)throw p;if(!_.session)throw new wn;await this._saveSession(_.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",_.session);const b={data:_.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(_){if(this._debug(f,"error",_),pt(_)){const p={data:null,error:_};return Kh(_)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(p),p}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(_),_}finally{this.refreshingDeferred=null,this._debug(f,"end")}}async _notifyAllSubscribers(a,l,u=!0){const f=`#_notifyAllSubscribers(${a})`;this._debug(f,"begin",l,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:a,session:l});const _=[],p=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(a,l)}catch(y){_.push(y)}});if(await Promise.all(p),_.length>0){for(let b=0;b<_.length;b+=1)console.error(_[b]);throw _[0]}}finally{this._debug(f,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await He(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),u=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&l.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:l.user});const f=Object.assign({},l);delete f.user;const _=L_(f);await Tr(this.storage,this.storageKey,_)}else{const f=L_(l);await Tr(this.storage,this.storageKey,f)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await He(this.storage,this.storageKey),await He(this.storage,this.storageKey+"-code-verifier"),await He(this.storage,this.storageKey+"-user"),this.userStorage&&await He(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:u}}=l;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const f=Math.floor((u.expires_at*1e3-a)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${f} ticks, a tick lasts ${Sr}ms, refresh threshold is ${ad} ticks`),f<=ad&&await this._callRefreshToken(u.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof np)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,u){const f=[`provider=${encodeURIComponent(l)}`];if(u?.redirectTo&&f.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&f.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[_,p]=await vr(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(_)}`,code_challenge_method:`${encodeURIComponent(p)}`});f.push(b.toString())}if(u?.queryParams){const _=new URLSearchParams(u.queryParams);f.push(_.toString())}return u?.skipBrowserRedirect&&f.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${a}?${f.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var u;const{data:f,error:_}=l;return _?this._returnResult({data:null,error:_}):await bt(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(u=f?.session)===null||u===void 0?void 0:u.access_token})})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var u,f;const{data:_,error:p}=l;if(p)return this._returnResult({data:null,error:p});const b=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:T}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(u=_?.session)===null||u===void 0?void 0:u.access_token});return T?this._returnResult({data:null,error:T}):(a.factorType==="totp"&&y.type==="totp"&&(!((f=y?.totp)===null||f===void 0)&&f.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var u;const{data:f,error:_}=l;if(_)return this._returnResult({data:null,error:_});const p=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Ly(a.webauthn.credential_response):jy(a.webauthn.credential_response)})}:{code:a.code}),{data:b,error:y}=await bt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:p,headers:this.headers,jwt:(u=f?.session)===null||u===void 0?void 0:u.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),this._returnResult({data:b,error:y}))})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var u;const{data:f,error:_}=l;if(_)return this._returnResult({data:null,error:_});const p=await bt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(u=f?.session)===null||u===void 0?void 0:u.access_token});if(p.error)return p;const{data:b}=p;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:Ny(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:Ry(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:u}=await this._challenge({factorId:a.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:u}=await this.getUser();if(u)return{data:null,error:u};const f={all:[],phone:[],totp:[],webauthn:[]};for(const _ of(a=l?.factors)!==null&&a!==void 0?a:[])f.all.push(_),_.status==="verified"&&f[_.factor_type].push(_);return{data:f,error:null}}async _getAuthenticatorAssuranceLevel(a){var l,u,f,_;if(a)try{const{payload:E}=Nu(a);let k=null;E.aal&&(k=E.aal);let B=k;const{data:{user:Y},error:Q}=await this.getUser(a);if(Q)return this._returnResult({data:null,error:Q});((u=(l=Y?.factors)===null||l===void 0?void 0:l.filter(ct=>ct.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(B="aal2");const $=E.amr||[];return{data:{currentLevel:k,nextLevel:B,currentAuthenticationMethods:$},error:null}}catch(E){if(pt(E))return this._returnResult({data:null,error:E});throw E}const{data:{session:p},error:b}=await this.getSession();if(b)return this._returnResult({data:null,error:b});if(!p)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Nu(p.access_token);let T=null;y.aal&&(T=y.aal);let O=T;((_=(f=p.user.factors)===null||f===void 0?void 0:f.filter(E=>E.status==="verified"))!==null&&_!==void 0?_:[]).length>0&&(O="aal2");const z=y.amr||[];return{data:{currentLevel:T,nextLevel:O,currentAuthenticationMethods:z},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:u},error:f}=l;return f?this._returnResult({data:null,error:f}):u?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:u.access_token,xform:_=>({data:_,error:null})}):this._returnResult({data:null,error:new wn})})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async u=>{const{data:{session:f},error:_}=u;if(_)return this._returnResult({data:null,error:_});if(!f)return this._returnResult({data:null,error:new wn});const p=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&qe()&&!l?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(u){if(pt(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(a,l){try{return await this._useSession(async u=>{const{data:{session:f},error:_}=u;if(_)return this._returnResult({data:null,error:_});if(!f)return this._returnResult({data:null,error:new wn});const p=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&qe()&&!l?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(u){if(pt(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;return u?this._returnResult({data:null,error:u}):l?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new wn})})}catch(a){if(pt(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:u},error:f}=l;return f?this._returnResult({data:null,error:f}):u?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(l){if(pt(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let u=l.keys.find(b=>b.kid===a);if(u)return u;const f=Date.now();if(u=this.jwks.keys.find(b=>b.kid===a),u&&this.jwks_cached_at+Hg>f)return u;const{data:_,error:p}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!_.keys||_.keys.length===0||(this.jwks=_,this.jwks_cached_at=f,u=_.keys.find(b=>b.kid===a),!u)?null:u}async getClaims(a,l={}){try{let u=a;if(!u){const{data:E,error:k}=await this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});u=E.session.access_token}const{header:f,payload:_,signature:p,raw:{header:b,payload:y}}=Nu(u);l?.allowExpired||ly(_.exp);const T=!f.alg||f.alg.startsWith("HS")||!f.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(f.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!T){const{error:E}=await this.getUser(u);if(E)throw E;return{data:{claims:_,header:f,signature:p},error:null}}const O=uy(f.alg),R=await crypto.subtle.importKey("jwk",T,O,!0,["verify"]);if(!await crypto.subtle.verify(O,R,p,Xg(`${b}.${y}`)))throw new od("Invalid JWT signature");return{data:{claims:_,header:f,signature:p},error:null}}catch(u){if(pt(u))return this._returnResult({data:null,error:u});throw u}}}Vo.nextInstanceID={};const qy=Vo,Zy="2.93.3";let Bo="";typeof Deno<"u"?Bo="deno":typeof document<"u"?Bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bo="react-native":Bo="node";const Iy={"X-Client-Info":`supabase-js-${Bo}/${Zy}`},Gy={headers:Iy},Vy={schema:"public"},Ky={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yy={};function Ko(o){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ko(o)}function $y(o,a){if(Ko(o)!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var u=l.call(o,a);if(Ko(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function Xy(o){var a=$y(o,"string");return Ko(a)=="symbol"?a:a+""}function Jy(o,a,l){return(a=Xy(a))in o?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o}function U_(o,a){var l=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);a&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(o,f).enumerable})),l.push.apply(l,u)}return l}function fe(o){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?U_(Object(l),!0).forEach(function(u){Jy(o,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):U_(Object(l)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(l,u))})}return o}const Qy=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),Wy=()=>Headers,Fy=(o,a,l)=>{const u=Qy(l),f=Wy();return async(_,p)=>{var b;const y=(b=await a())!==null&&b!==void 0?b:o;let T=new f(p?.headers);return T.has("apikey")||T.set("apikey",o),T.has("Authorization")||T.set("Authorization",`Bearer ${y}`),u(_,fe(fe({},p),{},{headers:T}))}};function t0(o){return o.endsWith("/")?o:o+"/"}function e0(o,a){var l,u;const{db:f,auth:_,realtime:p,global:b}=o,{db:y,auth:T,realtime:O,global:R}=a,z={db:fe(fe({},y),f),auth:fe(fe({},T),_),realtime:fe(fe({},O),p),storage:{},global:fe(fe(fe({},R),b),{},{headers:fe(fe({},(l=R?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return o.accessToken?z.accessToken=o.accessToken:delete z.accessToken,z}function n0(o){const a=o?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var i0=class extends qy{constructor(o){super(o)}},a0=class{constructor(o,a,l){var u,f;this.supabaseUrl=o,this.supabaseKey=a;const _=n0(o);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const p=`sb-${_.hostname.split(".")[0]}-auth-token`,b={db:Vy,realtime:Yy,auth:fe(fe({},Ky),{},{storageKey:p}),global:Gy},y=e0(l??{},b);if(this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(f=y.global.headers)!==null&&f!==void 0?f:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(O,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var T;this.auth=this._initSupabaseAuthClient((T=y.auth)!==null&&T!==void 0?T:{},this.headers,y.global.fetch)}this.fetch=Fy(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(O=>this.realtime.setAuth(O)).catch(O=>console.warn("Failed to set initial Realtime auth token:",O)),this.rest=new Zv(new URL("rest/v1",_).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Mg(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Bv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(o){return this.rest.from(o)}schema(o){return this.rest.schema(o)}rpc(o,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(o,a,l)}channel(o,a={config:{}}){return this.realtime.channel(o,a)}getChannels(){return this.realtime.getChannels()}removeChannel(o){return this.realtime.removeChannel(o)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var o=this,a,l;if(o.accessToken)return await o.accessToken();const{data:u}=await o.auth.getSession();return(a=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:o.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:o,persistSession:a,detectSessionInUrl:l,storage:u,userStorage:f,storageKey:_,flowType:p,lock:b,debug:y,throwOnError:T},O,R){const z={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i0({url:this.authUrl.href,headers:fe(fe({},z),O),storageKey:_,autoRefreshToken:o,persistSession:a,detectSessionInUrl:l,storage:u,userStorage:f,flowType:p,lock:b,debug:y,throwOnError:T,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(o){return new sg(this.realtimeUrl.href,fe(fe({},o),{},{params:fe(fe({},{apikey:this.supabaseKey}),o?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,a)=>{this._handleTokenChanged(o,"CLIENT",a?.access_token)})}_handleTokenChanged(o,a,l){(o==="TOKEN_REFRESHED"||o==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):o==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const s0=(o,a,l)=>new a0(o,a,l);function r0(){if(typeof window<"u")return!1;const o=globalThis.process;if(!o)return!1;const a=o.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}r0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const o0="https://dscarhmmqxsonsxrtinx.supabase.co",l0="sb_publishable_InpeXzcHjEBfN3N6gxnxjA_NPuwIlM_",Do=s0(o0,l0),u0=()=>{const[o,a]=Nt.useState([]),[l,u]=Nt.useState([]),[f,_]=Nt.useState([]),[p,b]=Nt.useState([]),[y,T]=Nt.useState([]),[O,R]=Nt.useState(!0),[z,E]=Nt.useState(null);return Nt.useEffect(()=>{(async()=>{try{R(!0);const[{data:B,error:Y},{data:Q,error:tt},{data:$,error:ct},{data:at,error:ut},{data:lt,error:gt}]=await Promise.all([Do.from("bars").select("*").eq("is_active",!0).eq("state","FL").order("name"),Do.from("events").select("*, event_categories(*)").eq("is_active",!0).order("name"),Do.from("deals").select("*").eq("is_active",!0).order("name"),Do.from("event_categories").select("*").order("name"),Do.from("bar_hours").select("*")]);if(Y)throw Y;if(tt)throw tt;if(ct)throw ct;if(ut)throw ut;if(gt)throw gt;a(B||[]),u(Q||[]),_($||[]),b(at||[]),T(lt||[]),E(null)}catch(B){console.error("Error fetching data:",B),E(B instanceof Error?B.message:"Failed to load data")}finally{R(!1)}})()},[]),{bars:o,events:l,deals:f,categories:p,barHours:y,loading:O,error:z}},xe=(o,a)=>{typeof window.plausible<"u"&&window.plausible(o,a?{props:a}:void 0)},sp=Nt.createContext(void 0),c0=({children:o})=>{const{bars:a,events:l,deals:u,categories:f,barHours:_,loading:p,error:b}=u0(),[y,T]=Nt.useState(()=>{if(typeof window<"u"){const mt=localStorage.getItem("favoriteBars");return mt?JSON.parse(mt):[]}return[]});Nt.useEffect(()=>{localStorage.setItem("favoriteBars",JSON.stringify(y))},[y]);const O=mt=>{T(mt)},R=mt=>{const hn=y.includes(mt)?y.filter(_i=>_i!==mt):[...y,mt];T(hn);const Tn=a.find(_i=>_i.id===mt);xe("Toggle Favorite",{bar_name:Tn?.name||"Unknown",action:hn.includes(mt)?"add":"remove"})},[z,E]=Nt.useState("unified"),[k,B]=Nt.useState("events"),[Y,Q]=Nt.useState(""),[tt,$]=Nt.useState(["All"]),[ct,at]=Nt.useState(["All"]),[ut,lt]=Nt.useState("All"),[gt,At]=Nt.useState(!1),[Re,Tt]=Nt.useState(!1),[Ot,Ee]=Nt.useState(null),[me,Ve]=Nt.useState(null),[I,nt]=Nt.useState(null),[W,Ht]=Nt.useState(!1),[st,N]=Nt.useState(!1),Zi={bars:a,events:l,deals:u,categories:f,barHours:_,loading:p,error:b,favorites:y,setFavorites:O,toggleFavorite:R,showFavoritesOnly:gt,setShowFavoritesOnly:At,showOnboarding:Re,setShowOnboarding:Tt,viewMode:z,setViewMode:mt=>{E(mt),xe("View Mode Switch",{mode:mt})},activeTab:k,setActiveTab:mt=>{B(mt),xe("Tab Switch",{tab:mt})},searchQuery:Y,setSearchQuery:mt=>{Q(mt),mt.length>2&&xe("Search",{query_length:mt.length})},categoryFilter:tt,setCategoryFilter:mt=>{$(mt),xe("Filter: Category",{categories:mt.join(", ")})},locationFilter:ct,setLocationFilter:mt=>{at(mt),xe("Filter: Location",{locations:mt.join(", ")})},dayFilter:ut,setDayFilter:mt=>{lt(mt),xe("Filter: Day",{day:mt})},selectedEvent:Ot,setSelectedEvent:mt=>{if(Ee(mt),mt){const hn=a.find(Tn=>Tn.id===mt.bar_id);xe("Event Click",{event_name:mt.name,bar_name:hn?.name||"Unknown"})}},selectedDeal:me,setSelectedDeal:mt=>{if(Ve(mt),mt){const hn=a.find(Tn=>Tn.id===mt.bar_id);xe("Deal Click",{deal_name:mt.name,bar_name:hn?.name||"Unknown"})}},selectedBar:I,setSelectedBar:mt=>{nt(mt),mt&&xe("Bar Click",{bar_name:mt.name})},showAboutModal:W,setShowAboutModal:mt=>{Ht(mt),mt&&xe("Modal Open",{modal:"About"})},showForBarsModal:st,setShowForBarsModal:mt=>{N(mt),mt&&xe("Modal Open",{modal:"For Bars"})}};return w.jsx(sp.Provider,{value:Zi,children:o})},cn=()=>{const o=Nt.useContext(sp);if(!o)throw new Error("useApp must be used within AppProvider");return o},Xh=()=>{const{setShowAboutModal:o,favorites:a,showFavoritesOnly:l,setShowFavoritesOnly:u,setShowOnboarding:f}=cn();return w.jsx("header",{className:"header",children:w.jsxs("div",{className:"header-content",children:[w.jsxs("div",{className:"logo",children:[w.jsx("div",{className:"logo-icon",children:""}),w.jsx("h1",{children:"Bula Board"})]}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[a.length>0&&w.jsx("button",{className:`nav-btn small ${l?"active":""}`,onClick:()=>u(!l),style:{minWidth:"auto",padding:"0.5rem 0.75rem",background:l?"#fef3f0":void 0},"aria-label":"Favorites Only",title:l?"Show all bars":"Show only favorites",children:l?"":""}),w.jsx("button",{className:"nav-btn small",onClick:()=>f(!0),style:{minWidth:"auto",padding:"0.5rem 0.75rem"},"aria-label":"Favorites",children:""}),w.jsx("button",{className:"nav-btn small",onClick:()=>o(!0),"aria-label":"About",children:"?"})]})]})})},h0=()=>w.jsxs("div",{className:"hero-section",children:[w.jsxs("div",{className:"hero-content",children:[w.jsxs("h2",{className:"hero-title",children:[w.jsx("em",{children:"Kava Bar"}),w.jsx("br",{}),"Companion"]}),w.jsx("p",{className:"hero-subtitle",children:"Weekly events, exclusive deals, and hidden gems across the best kava bars in town."})]}),w.jsxs("div",{className:"hero-decoration",children:[w.jsx("span",{className:"hero-emoji hero-emoji-1",children:""}),w.jsx("span",{className:"hero-emoji hero-emoji-2",children:""}),w.jsx("span",{className:"hero-emoji hero-emoji-3",children:""})]})]}),d0=()=>{const{searchQuery:o,setSearchQuery:a,activeTab:l}=cn(),u=f=>{a(f),f.length>=2&&xe("Search",{query:f.substring(0,50),tab:l})};return w.jsx("div",{className:"search-container",children:w.jsxs("div",{className:"search-box",children:[w.jsx("span",{className:"search-icon",children:""}),w.jsx("input",{type:"text",placeholder:"Search events, bars, deals...",value:o,onChange:f=>u(f.target.value)})]})})},P_=({chips:o,activeValue:a,onChange:l,label:u,multiSelect:f=!1})=>{const _=b=>Array.isArray(a)?a.includes(b):a===b,p=b=>{if(f&&Array.isArray(a))if(b==="All")l(["All"]);else{let y;a.includes(b)?(y=a.filter(T=>T!==b),y.length===0&&(y=["All"])):y=[...a.filter(T=>T!=="All"),b],l(y)}else l(b)};return w.jsxs("div",{className:"filter-chips",children:[u&&w.jsx("span",{className:"filter-chips-label",children:u}),w.jsx("div",{className:"filter-chips-container",children:o.map(b=>w.jsxs("button",{className:`filter-chip ${_(b.value)?"active":""}`,onClick:()=>p(b.value),children:[b.icon&&w.jsx("span",{className:"filter-chip-icon",children:b.icon}),b.label]},b.value))})]})},f0=()=>w.jsxs("div",{className:"loading-container",children:[w.jsx("div",{className:"loading-spinner"}),w.jsx("p",{children:"Loading kava scene..."})]}),m0=()=>{const[o,a]=Nt.useState(""),l=u=>{u.preventDefault(),xe("Newsletter Signup",{source:"homepage"}),alert(`Thanks for subscribing! You'll receive our weekly digest at ${o}`),a("")};return w.jsxs("section",{className:"newsletter",children:[w.jsxs("div",{className:"newsletter-content",children:[w.jsx("span",{className:"newsletter-icon",children:""}),w.jsxs("div",{children:[w.jsx("h3",{children:"Weekly Digest"}),w.jsx("p",{children:"Curated events, every Saturday"})]})]}),w.jsxs("form",{className:"newsletter-form",onSubmit:l,children:[w.jsx("input",{type:"email",placeholder:"your@email.com",value:o,onChange:u=>a(u.target.value),required:!0}),w.jsx("button",{type:"submit",children:"Join"})]})]})},Es=({isOpen:o,onClose:a,children:l})=>o?w.jsx("div",{className:"modal",style:{display:"flex"},onClick:a,children:w.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[w.jsx("button",{className:"modal-close",onClick:a,children:""}),l]})}):null,_0=()=>{const{showAboutModal:o,setShowAboutModal:a}=cn();return w.jsx(Es,{isOpen:o,onClose:()=>a(!1),children:w.jsxs("div",{className:"modal-body about-content",children:[w.jsx("h2",{children:"What is Kava?"}),w.jsxs("p",{children:["Kava is a traditional South Pacific beverage made from the roots of the ",w.jsx("em",{children:"Piper methysticum"})," plant. For centuries, Pacific Island cultures have used kava in ceremonial and social settings."]}),w.jsxs("p",{children:["When consumed, kava has a ",w.jsx("strong",{children:"relaxing effect on the body"}),", eases tension, and alleviates stress while enhancing mental clarity, creativity, and sociability. It's similar to alcohol's calming effects but without the hangover."]}),w.jsx("h3",{children:"Popular Drinks"}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Kava Shell"})," - Traditional preparation, served in coconut shells"]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Kava Flight"})," - Sample multiple varieties"]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Botanical Elixirs"})," - Kava mixed with herbs and flavors"]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Kava Tea"})," - Relaxing herbal tea blend"]})]}),w.jsx("h3",{children:"About Bula Board"}),w.jsx("p",{children:"We curate the best kava bars, events, and deals in St. Petersburg and Clearwater. Whether you're a kava connoisseur or trying it for the first time, we've got you covered."}),w.jsx("p",{className:"about-note",children:"Please drink responsibly. Kava may cause drowsiness. Do not operate heavy machinery after consuming."})]})})},p0=()=>{const{showForBarsModal:o,setShowForBarsModal:a}=cn();return w.jsx(Es,{isOpen:o,onClose:()=>a(!1),children:w.jsxs("div",{className:"modal-body about-content",children:[w.jsx("h2",{children:"List Your Bar on Bula Board"}),w.jsx("p",{children:"Reach thousands of kava enthusiasts in the St. Petersburg and Clearwater area."}),w.jsx("h3",{children:"What's Included"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Free listing with hours, address, and description"}),w.jsx("li",{children:"Promote your events and specials"}),w.jsx("li",{children:"Reach a targeted local audience"})]}),w.jsx("h3",{children:"Get Started"}),w.jsxs("p",{children:["Email us at ",w.jsx("strong",{children:"hello@bulaboard.com"})," to add your bar to our directory."]})]})})},xs=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Mn=o=>{if(!o)return"TBD";const a=o.split(":");if(a.length!==2)return"TBD";const[l,u]=a.map(Number);if(isNaN(l)||isNaN(u))return"TBD";const f=l%12||12,_=l<12?"AM":"PM";return`${f}:${u.toString().padStart(2,"0")} ${_}`},Xo=(o,a)=>{const l=Mn(o),u=Mn(a);return l==="TBD"&&u==="TBD"?"Hours vary":l==="TBD"?`Until ${u}`:u==="TBD"?`After ${l}`:`${l} - ${u}`},v0=o=>xs[o]||"TBD",g0=o=>o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"TBD",H_=o=>{const a=new Date;return o.toDateString()===a.toDateString()},q_=o=>{const a=new Date;return a.setDate(a.getDate()+1),o.toDateString()===a.toDateString()},Yo=o=>{if(!o.event_date&&!o.start_time)return null;const a=new Date,l=o.event_date?new Date(o.event_date):a;if(o.start_time){const u=o.start_time.split(":");if(u.length===2){const[f,_]=u.map(Number);!isNaN(f)&&!isNaN(_)&&l.setHours(f,_,0,0)}}return l},rp=o=>{const a=new Date,l=Yo(o);if(!l)return!1;let u=new Date(l);if(o.end_time){const f=o.end_time.split(":");if(f.length===2){const[_,p]=f.map(Number);!isNaN(_)&&!isNaN(p)?u.setHours(_,p,0,0):u.setHours(23,59,59,999)}else u.setHours(23,59,59,999)}else u.setHours(23,59,59,999);return a>=l&&a<=u},y0=o=>{const a=new Date,l=Yo(o);if(!l)return!1;const u=new Date(a.getTime()+7200*1e3);return l>a&&l<=u},b0=o=>{const a=Yo(o);if(!a)return"";const l=new Date,u=a.getTime()-l.getTime();if(u<0)return"Started";const f=Math.floor(u/6e4),_=Math.floor(f/60);return _<1?`Starts in ${f}m`:_<24?`Starts in ${_}h`:`Starts in ${Math.floor(_/24)}d`},w0=o=>{const a=new Date,l=a.getDay(),u=`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`,f=o.find(_=>_.day_of_week===l);return!f||f.is_closed||!f.open_time||!f.close_time?!1:u>=f.open_time&&u<=f.close_time},S0=o=>{const l=new Date().getDay(),u=o.find(_=>_.day_of_week===l);if(!u||u.is_closed)return{isOpen:!1,message:"Closed today"};const f=w0(o);return f&&u.close_time?{isOpen:!0,message:`Open until ${Mn(u.close_time)}`}:!f&&u.open_time?{isOpen:!1,message:`Opens at ${Mn(u.open_time)}`}:{isOpen:!1,message:"Hours unavailable"}},T0=(o,a)=>{const l=new Date,u=l.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";let f,_;if(o.event_date)f=new Date(o.event_date);else if(o.day_of_week!==null&&o.day_of_week!==void 0){const O=l.getDay(),R=(o.day_of_week-O+7)%7||7;f=new Date(l),f.setDate(l.getDate()+R)}else f=l;if(o.start_time){const O=o.start_time.split(":");if(O.length===2){const[R,z]=O.map(Number);!isNaN(R)&&!isNaN(z)?f.setHours(R,z,0,0):f.setHours(0,0,0,0)}else f.setHours(0,0,0,0)}else f.setHours(0,0,0,0);if(_=new Date(f),o.end_time){const O=o.end_time.split(":");if(O.length===2){const[R,z]=O.map(Number);!isNaN(R)&&!isNaN(z)?_.setHours(R,z,0,0):_.setHours(f.getHours()+2,f.getMinutes(),0,0)}else _.setHours(f.getHours()+2,f.getMinutes(),0,0)}else _.setHours(f.getHours()+2,f.getMinutes(),0,0);const p=O=>O.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",b=a?.address_line1?`${a.address_line1}, ${a.city||""}`:a?.name||"",y=o.description||`Event at ${a?.name||"venue"}`;return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Bula Board//Event//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${u}@bulaboard.com`,`DTSTAMP:${u}`,`DTSTART:${p(f)}`,`DTEND:${p(_)}`,`SUMMARY:${o.name}`,`DESCRIPTION:${y}`,b?`LOCATION:${b}`:"","STATUS:CONFIRMED","SEQUENCE:0","END:VEVENT","END:VCALENDAR"].filter(O=>O).join(`\r
`)},x0=(o,a)=>{const l=T0(o,a),u=new Blob([l],{type:"text/calendar;charset=utf-8"});if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){const _=new FileReader;_.onload=()=>{const p=_.result,b=window.open();b&&b.document.write(`
          <!DOCTYPE html>
          <html>
          <head>
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Add to Calendar</title>
            <style>
              body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                padding: 20px;
                text-align: center;
              }
              a {
                display: inline-block;
                background: #007aff;
                color: white;
                padding: 12px 24px;
                border-radius: 8px;
                text-decoration: none;
                margin-top: 20px;
              }
            </style>
          </head>
          <body>
            <h2> ${o.name}</h2>
            <p>Tap the link below to add this event to your calendar</p>
            <a href="${p}" download="${o.name.replace(/[^a-z0-9]/gi,"-")}.ics">Download Calendar Event</a>
          </body>
          </html>
        `)},_.readAsDataURL(u)}else{const _=URL.createObjectURL(u),p=document.createElement("a");p.href=_,p.download=`${o.name.replace(/[^a-z0-9]/gi,"-")}.ics`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(_)}},E0=o=>{const a=new Date;if(!o.is_recurring&&o.valid_start_date){const l=new Date(o.valid_start_date);if(o.valid_start_time){const u=o.valid_start_time.split(":");if(u.length===2){const[f,_]=u.map(Number);!isNaN(f)&&!isNaN(_)&&l.setHours(f,_,0,0)}}return l}if(o.is_recurring&&o.recurrence_days&&o.recurrence_days.length>0){const l=a.getDay(),u=`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`;if(o.recurrence_days.includes(l)){const f=new Date(a);if(o.valid_start_time){const _=o.valid_start_time.split(":");if(_.length===2){const[p,b]=_.map(Number);if(!isNaN(p)&&!isNaN(b)&&(f.setHours(p,b,0,0),u<o.valid_start_time))return f}}else return f}for(let f=1;f<=7;f++){const _=(l+f)%7;if(o.recurrence_days.includes(_)){const p=new Date(a);if(p.setDate(a.getDate()+f),o.valid_start_time){const b=o.valid_start_time.split(":");if(b.length===2){const[y,T]=b.map(Number);!isNaN(y)&&!isNaN(T)?p.setHours(y,T,0,0):p.setHours(0,0,0,0)}else p.setHours(0,0,0,0)}else p.setHours(0,0,0,0);return p}}}return a},A0=()=>{const{selectedEvent:o,setSelectedEvent:a,bars:l}=cn(),[u,f]=Nt.useState(!1);if(!o)return null;const _=l.find(y=>y.id===o.bar_id),p=()=>o.event_date?g0(o.event_date):o.day_of_week!==null&&o.day_of_week!==void 0?`Every ${xs[o.day_of_week]}`:"Date TBD",b=()=>Xo(o.start_time,o.end_time);return w.jsxs(Es,{isOpen:!0,onClose:()=>a(null),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("span",{className:"modal-icon",children:o.event_categories?.icon||""}),o.event_categories&&w.jsx("span",{className:"modal-type",children:o.event_categories.name})]}),w.jsxs("div",{className:"modal-body",children:[w.jsx("h3",{children:o.name}),_&&w.jsx("p",{className:"modal-bar",children:_.name}),o.description&&w.jsx("p",{className:"modal-desc",children:o.description}),w.jsxs("div",{className:"modal-details",children:[w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",p()]})}),w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",b()]})}),_?.address_line1&&w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",_.address_line1,", ",_.city]})})]}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{className:"calendar-btn",onClick:y=>{y.stopPropagation(),x0(o,_),xe("Add to Calendar",{event_name:o.name,bar_name:_?.name||"Unknown"})},children:" Add to Calendar"}),w.jsx("button",{className:"btn-secondary",onClick:y=>{y.stopPropagation();const T=JSON.parse(localStorage.getItem("eventReminders")||"[]");T.includes(o.id)||(T.push(o.id),localStorage.setItem("eventReminders",JSON.stringify(T)),f(!0),xe("Remind Me",{event_name:o.name,bar_name:_?.name||"Unknown"}))},disabled:u,children:u?" Reminder Set":" Remind Me"})]})]})]})},O0=()=>{const{selectedDeal:o,setSelectedDeal:a,bars:l}=cn();if(!o)return null;const u=l.find(p=>p.id===o.bar_id),f=()=>!o.is_recurring||!o.recurrence_days?"Limited time":o.recurrence_days.map(p=>xs[p]).join(", "),_=()=>Xo(o.valid_start_time,o.valid_end_time);return w.jsxs(Es,{isOpen:!0,onClose:()=>a(null),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("span",{className:"modal-icon",children:""}),w.jsx("span",{className:"modal-type",children:"Deal"})]}),w.jsxs("div",{className:"modal-body",children:[w.jsx("h3",{children:o.name}),u&&w.jsx("p",{className:"modal-bar",children:u.name}),o.description&&w.jsx("p",{className:"modal-desc",children:o.description}),w.jsxs("div",{className:"modal-details",children:[w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",f()]})}),w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",_()]})}),u?.address_line1&&w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",u.address_line1,", ",u.city]})}),o.discount_type&&o.discount_value&&w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",o.discount_type==="percentage"?`${o.discount_value}% off`:`$${o.discount_value} off`]})})]})]})]})},C0=()=>{const{selectedBar:o,setSelectedBar:a,barHours:l}=cn();if(!o)return null;const u=()=>{const f=new Date().getDay(),_=l.filter(b=>b.bar_id===o.id&&b.day_of_week===f);if(_.length===0)return"Hours vary";const p=_[0];return p.is_closed?"Closed today":`${Mn(p.open_time)} - ${Mn(p.close_time)}`};return w.jsxs(Es,{isOpen:!0,onClose:()=>a(null),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("span",{className:"modal-icon",children:""}),w.jsx("span",{className:"modal-type",children:"Bar"})]}),w.jsxs("div",{className:"modal-body",children:[w.jsx("h3",{children:o.name}),w.jsx("p",{className:"modal-bar",children:o.city||"St. Pete"}),o.description&&w.jsx("p",{className:"modal-desc",children:o.description}),w.jsxs("div",{className:"modal-details",children:[o.address_line1&&w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",o.address_line1,", ",o.city,", ",o.state]})}),o.phone&&w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" ",w.jsx("a",{href:`tel:${o.phone}`,children:o.phone})]})}),w.jsx("div",{children:w.jsxs("span",{className:"detail-label",children:[" Today: ",u()]})})]}),w.jsx("div",{className:"modal-actions",children:o.website_url&&w.jsx("a",{href:o.website_url,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary",style:{flex:1,textAlign:"center",textDecoration:"none"},children:" Website"})})]})]})},N0=()=>{const{favorites:o,setFavorites:a,bars:l,setShowFavoritesOnly:u,showOnboarding:f,setShowOnboarding:_}=cn(),[p,b]=Nt.useState("");if(!f)return null;const y=()=>{_(!1),o.length>0&&u(!0),Jh("Onboarding Complete",{favorites_count:o.length})},T=()=>{_(!1),Jh("Onboarding Skipped")},O=z=>{const E=o.includes(z)?o.filter(B=>B!==z):[...o,z];a(E),localStorage.setItem("favoriteBars",JSON.stringify(E));const k=l.find(B=>B.id===z);Jh("Toggle Favorite",{bar_name:k?.name||"Unknown",action:E.includes(z)?"add":"remove"})},R=Nt.useMemo(()=>{const z=l.map(k=>({bar:k,isFavorite:o.includes(k.id)}));return(p?z.filter(({bar:k})=>k.name.toLowerCase().includes(p.toLowerCase())||k.city?.toLowerCase().includes(p.toLowerCase())):z).sort((k,B)=>k.isFavorite&&!B.isFavorite?-1:!k.isFavorite&&B.isFavorite?1:k.bar.name.localeCompare(B.bar.name))},[l,o,p]);return f?w.jsx("div",{className:"onboarding-overlay",children:w.jsxs("div",{className:"onboarding-modal",children:[w.jsxs("div",{className:"onboarding-header",children:[w.jsx("h2",{style:{fontFamily:"Playfair Display",fontSize:"1.75rem",marginBottom:"0.5rem"},children:"Bula Board"}),w.jsx("p",{style:{color:"#888",marginBottom:"1rem"},children:"Select your favorite bars to get started"}),w.jsx("div",{className:"search-bar",style:{marginBottom:"0.5rem"},children:w.jsx("input",{type:"text",placeholder:"Search bars...",value:p,onChange:z=>b(z.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"12px",border:"1px solid #e5e5e5",fontSize:"0.875rem",fontFamily:"Inter, sans-serif"}})})]}),w.jsx("div",{className:"onboarding-list",style:{flex:1,overflowY:"auto",padding:"0 1.5rem",maxHeight:"50vh"},children:R.length===0?w.jsx("p",{style:{textAlign:"center",color:"#888",padding:"2rem"},children:"No bars found"}):R.map(({bar:z,isFavorite:E})=>w.jsxs("div",{className:`bar-select-item ${E?"favorite":""}`,onClick:()=>O(z.id),style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"12px",marginBottom:"0.5rem",cursor:"pointer",background:E?"#fef3f0":"transparent",border:`1px solid ${E?"#c45a47":"#f0e6e3"}`},children:[w.jsx("div",{className:"bar-marker",style:{width:"32px",height:"32px",borderRadius:"50%",background:E?"#c45a47":"#888",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.875rem",flexShrink:0},children:E?"":""}),w.jsxs("div",{style:{flex:1},children:[w.jsx("h4",{style:{fontFamily:"Playfair Display",fontWeight:600,marginBottom:"0.125rem",fontSize:"0.9375rem"},children:z.name}),w.jsxs("p",{style:{fontSize:"0.8125rem",color:"#888"},children:[z.city||"St. Pete","  ",z.address_line1||""]})]}),w.jsx("div",{className:"select-indicator",style:{width:"24px",height:"24px",borderRadius:"50%",border:`2px solid ${E?"#c45a47":"#ddd"}`,background:E?"#c45a47":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:E&&w.jsx("span",{style:{color:"white",fontSize:"0.75rem"},children:""})})]},z.id))}),w.jsxs("div",{className:"onboarding-footer",children:[w.jsxs("p",{style:{fontSize:"0.875rem",color:"#888",marginBottom:"1rem",textAlign:"center"},children:[o.length," bar",o.length!==1?"s":""," selected"]}),w.jsx("button",{className:"btn-primary",onClick:y,style:{width:"100%",padding:"1rem",background:"#c45a47",color:"white",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:600,cursor:"pointer"},children:"Continue to Your Board "}),w.jsx("button",{onClick:T,style:{width:"100%",marginTop:"0.75rem",padding:"0.75rem",background:"transparent",color:"#888",border:"none",fontSize:"0.875rem",cursor:"pointer"},children:"Skip for now"})]})]})}):null},Jh=(o,a)=>{typeof window.plausible<"u"&&window.plausible(o,a?{props:a}:void 0)},Bu=({icon:o,message:a})=>w.jsxs("div",{className:"empty-state",children:[w.jsx("span",{children:o}),w.jsx("p",{children:a})]}),R0=()=>{const{events:o,bars:a,categories:l,searchQuery:u,categoryFilter:f,setCategoryFilter:_,selectedEvent:p,setSelectedEvent:b}=cn(),y=Nt.useMemo(()=>o.filter(k=>{const B=f.includes("All")||k.event_category_id&&f.includes(k.event_category_id),Y=a.find(tt=>tt.id===k.bar_id),Q=u===""||k.name.toLowerCase().includes(u.toLowerCase())||(Y?.name.toLowerCase().includes(u.toLowerCase())??!1);return B&&Q}),[o,f,u,a]),T=k=>{const B=a.find(Q=>Q.id===k.bar_id),Y=l.find(Q=>Q.id===k.event_category_id);xe("Event Click",{event:k.name,bar:B?.name||"Unknown",category:Y?.name||"Unknown"}),b(k)},O=k=>Mn(k.start_time)||Mn(k.end_time)||"TBD",R=k=>k.is_recurring&&k.day_of_week!==null?v0(k.day_of_week):k.event_date||"TBD",z=y.length>0?y[0]:null,E=y.length>0?y.slice(1):[];return w.jsxs("div",{id:"eventsTab",children:[w.jsx("div",{className:"filter-bar",children:w.jsxs("select",{value:f[0]||"All",onChange:k=>_([k.target.value]),children:[w.jsx("option",{value:"All",children:"All Categories"}),l.map(k=>w.jsxs("option",{value:k.id,children:[k.icon||""," ",k.name]},k.id))]})}),z&&f.includes("All")&&!u&&w.jsxs("div",{className:"featured-card",onClick:()=>T(z),style:{cursor:"pointer"},children:[w.jsx("span",{className:"featured-badge",children:" Featured"}),w.jsx("span",{className:"featured-icon",children:l.find(k=>k.id===z.event_category_id)?.icon||""}),w.jsx("h3",{children:z.name}),w.jsx("p",{children:a.find(k=>k.id===z.bar_id)?.name||"Unknown Bar"}),w.jsxs("div",{className:"featured-meta",children:[w.jsxs("span",{children:[" ",R(z)," @ ",O(z)]}),w.jsx("span",{children:" St. Pete"})]})]}),w.jsx("div",{className:"event-list",children:E.length===0?w.jsx(Bu,{icon:"",message:"No events found"}):E.map(k=>{const B=a.find(Q=>Q.id===k.bar_id),Y=l.find(Q=>Q.id===k.event_category_id);return w.jsxs("div",{className:"event-card",onClick:()=>T(k),children:[w.jsxs("div",{className:"event-date",children:[w.jsx("span",{className:"event-icon",children:Y?.icon||""}),w.jsx("span",{children:R(k)})]}),w.jsxs("div",{className:"event-info",children:[w.jsx("span",{className:"event-type",children:Y?.name||"Event"}),w.jsx("span",{className:"event-time",children:O(k)}),w.jsx("h4",{children:k.name}),w.jsx("p",{children:B?.name||"Unknown Bar"})]})]},k.id)})}),p&&w.jsxs(Es,{isOpen:!!p,onClose:()=>b(null),children:[w.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #f4a999 0%, #e88f7d 100%)"},children:[w.jsx("span",{className:"modal-icon",children:l.find(k=>k.id===p.event_category_id)?.icon||""}),w.jsx("span",{className:"modal-type",children:l.find(k=>k.id===p.event_category_id)?.name||"Event"})]}),w.jsxs("div",{className:"modal-body",children:[w.jsx("h3",{children:p.name}),w.jsx("p",{className:"modal-bar",children:a.find(k=>k.id===p.bar_id)?.name||"Unknown Bar"}),p.description&&w.jsx("p",{className:"modal-desc",children:p.description}),w.jsxs("div",{className:"modal-details",children:[w.jsxs("div",{children:[w.jsx("p",{className:"detail-label",children:R(p)}),w.jsx("p",{className:"detail-time",children:O(p)})]}),w.jsxs("div",{children:[w.jsx("p",{children:""}),w.jsx("p",{children:a.find(k=>k.id===p.bar_id)?.address_line1||a.find(k=>k.id===p.bar_id)?.city||"St. Pete"})]})]})]})]})]})},L0=()=>{const{bars:o,barHours:a,searchQuery:l,locationFilter:u,setLocationFilter:f,selectedBar:_,setSelectedBar:p}=cn(),b=Nt.useMemo(()=>o.filter(E=>{const k=u.includes("All")||u.includes(E.city),B=l===""||E.name.toLowerCase().includes(l.toLowerCase())||(E.address_line1?.toLowerCase().includes(l.toLowerCase())??!1);return k&&B}),[o,u,l]),y=E=>a.filter(k=>k.bar_id===E),T=E=>{const k=y(E);if(k.length===0)return"Hours vary";const B=new Date().getDay(),Y=k.find(Q=>Q.day_of_week===B);if(Y&&!Y.is_closed){const Q=Mn(Y.open_time),tt=Mn(Y.close_time);return Q==="TBD"&&tt==="TBD"?"Hours vary":`${Q}-${tt}`}return"Check hours"},O=E=>{xe("Bar Click",{bar:E.name,city:E.city||"Unknown"}),p(E)},R=b.length>0?b[0]:null,z=b.length>0?b.slice(1):[];return w.jsxs("div",{id:"barsTab",children:[w.jsx("div",{className:"filter-bar",children:w.jsxs("select",{value:u[0]||"All",onChange:E=>f([E.target.value]),children:[w.jsx("option",{value:"All",children:"All Locations"}),w.jsx("option",{value:"St. Pete",children:"St. Pete"}),w.jsx("option",{value:"Clearwater",children:"Clearwater"}),w.jsx("option",{value:"Largo",children:"Largo"})]})}),R&&u.includes("All")&&!l&&w.jsxs("div",{className:"bar-card featured-bar",onClick:()=>O(R),style:{cursor:"pointer"},children:[w.jsx("span",{className:"featured-badge",children:" Best of the Bay"}),w.jsx("span",{className:"featured-icon",children:""}),w.jsx("h3",{children:R.name}),w.jsxs("p",{children:[R.address_line1||"",", ",R.city||""]}),w.jsxs("div",{className:"bar-meta",children:[w.jsxs("span",{children:[" ",T(R.id)]}),w.jsxs("span",{children:[" ",R.city||"St. Pete"]})]})]}),w.jsx("div",{className:"bar-list",children:z.length===0?w.jsx(Bu,{icon:"",message:"No bars found"}):z.map(E=>w.jsxs("div",{className:"bar-card-mini",onClick:()=>O(E),children:[w.jsx("div",{className:"bar-icon",children:""}),w.jsxs("div",{className:"bar-info",children:[w.jsx("h4",{children:E.name}),w.jsx("p",{className:"bar-address",children:E.address_line1?.split(",")[0]||E.city||"St. Pete"}),w.jsx("div",{className:"bar-hours",children:w.jsxs("span",{children:[" ",T(E.id)]})})]})]},E.id))}),_&&w.jsxs(Es,{isOpen:!!_,onClose:()=>p(null),children:[w.jsx("div",{className:"modal-header bar-modal-header",style:{background:"linear-gradient(135deg, #6b8e6b 0%, #5a7a5a 100%)"},children:w.jsx("span",{className:"modal-icon",children:""})}),w.jsxs("div",{className:"modal-body",children:[w.jsx("h3",{children:_.name}),w.jsx("p",{className:"modal-bar",children:_.city||"St. Pete"}),_.description&&w.jsx("p",{className:"modal-desc",children:_.description}),w.jsxs("div",{className:"modal-details",children:[w.jsxs("div",{children:[w.jsx("p",{children:""}),w.jsx("p",{children:[_.address_line1,_.city,_.state,_.zip_code].filter(Boolean).join(", ")})]}),_.phone&&w.jsxs("div",{children:[w.jsx("p",{children:""}),w.jsx("p",{children:w.jsx("a",{href:`tel:${_.phone}`,children:_.phone})})]}),w.jsxs("div",{children:[w.jsx("p",{children:""}),w.jsx("p",{children:y(_.id).length>0?y(_.id).map(E=>{const k=Mn(E.open_time),B=Mn(E.close_time);return`${xs[E.day_of_week].slice(0,3)}: ${E.is_closed?"Closed":k==="TBD"&&B==="TBD"?"Hours vary":`${k}-${B}`}`}).join(" | "):"Hours vary"})]})]}),_.website_url&&w.jsx("div",{className:"modal-actions",children:w.jsx("a",{href:_.website_url,target:"_blank",rel:"noopener noreferrer",className:"map-btn",children:" Website"})})]})]})]})},j0=()=>{const{deals:o,bars:a,searchQuery:l,dayFilter:u,setDayFilter:f}=cn(),_=Nt.useMemo(()=>o.filter(y=>{const T=u==="All"||y.recurrence_days&&y.recurrence_days.includes(parseInt(u)),O=a.find(z=>z.id===y.bar_id),R=l===""||y.name.toLowerCase().includes(l.toLowerCase())||(O?.name.toLowerCase().includes(l.toLowerCase())??!1);return T&&R}),[o,u,l,a]),p=_.length>0?_[0]:null,b=_.length>0?_.slice(1):[];return w.jsxs("div",{id:"dealsTab",children:[w.jsx("div",{className:"filter-bar",children:w.jsxs("select",{value:u,onChange:y=>f(y.target.value),children:[w.jsx("option",{value:"All",children:"All Days"}),xs.map((y,T)=>w.jsx("option",{value:T.toString(),children:y},T))]})}),p&&u==="All"&&!l&&w.jsxs("div",{className:"deal-card featured-deal has-deal-badge",children:[w.jsx("span",{className:"badge badge-deal",children:" HOT DEAL"}),w.jsx("h3",{children:"Featured Deal"}),w.jsx("h4",{children:p.name}),w.jsx("span",{className:"deal-location",children:a.find(y=>y.id===p.bar_id)?.name||"Unknown Bar"}),w.jsx("span",{className:"deal-time",children:p.is_recurring&&p.recurrence_days?`Valid: ${p.recurrence_days.map(y=>xs[y].slice(0,3)).join(", ")}`:"Limited time"})]}),w.jsx("div",{className:"deal-list",children:b.length===0?w.jsx(Bu,{icon:"",message:"No deals found"}):b.map(y=>{const T=a.find(O=>O.id===y.bar_id);return w.jsxs("div",{className:"deal-card-mini has-deal-badge",children:[w.jsx("span",{className:"badge badge-deal",children:" DEAL"}),w.jsx("div",{className:"deal-header",children:w.jsx("span",{className:"deal-bar",children:T?.name||"Unknown"})}),w.jsx("h4",{children:y.name}),y.description&&w.jsx("p",{className:"deal-desc",children:y.description}),w.jsxs("div",{className:"deal-meta",children:[w.jsxs("span",{children:[" ",T?.city||"St. Pete"]}),w.jsxs("span",{children:[" ",Xo(y.valid_start_time,y.valid_end_time)]})]})]},y.id)})})]})},Qh={"the-muddy-root-kava-cafe":{lat:27.7703,lng:-82.6478},"speakeasy-central-kava-bar":{lat:27.7703,lng:-82.6478},"cozy-kava":{lat:27.7699,lng:-82.6478},"kava-house-brand-54th-ave":{lat:27.8125,lng:-82.6792},"grassroots-kava-house":{lat:27.7714,lng:-82.644},"mad-hatters-kava-bar":{lat:27.7985,lng:-82.709},"muddy-water-kava-tea":{lat:27.9658,lng:-82.8004},"speakeasy-kava-largo":{lat:27.91,lng:-82.7888},"default-st-pete":{lat:27.7731,lng:-82.64}},k0=(o,a="St. Petersburg")=>Qh[o]?Qh[o]:a.toLowerCase().includes("clearwater")?{lat:27.9658,lng:-82.8004}:a.toLowerCase().includes("largo")?{lat:27.91,lng:-82.7888}:Qh["default-st-pete"];var Uo={exports:{}};var z0=Uo.exports,Z_;function M0(){return Z_||(Z_=1,(function(o,a){(function(l,u){u(a)})(z0,(function(l){var u="1.9.4";function f(n){var s,c,m,v;for(c=1,m=arguments.length;c<m;c++){v=arguments[c];for(s in v)n[s]=v[s]}return n}var _=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function p(n,s){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(c.call(arguments)):arguments)}}var b=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function T(n,s,c){var m,v,S,A;return A=function(){m=!1,v&&(S.apply(c,v),v=!1)},S=function(){m?v=arguments:(n.apply(c,arguments),setTimeout(A,s),m=!0)},S}function O(n,s,c){var m=s[1],v=s[0],S=m-v;return n===m&&c?n:((n-v)%S+S)%S+v}function R(){return!1}function z(n,s){if(s===!1)return n;var c=Math.pow(10,s===void 0?6:s);return Math.round(n*c)/c}function E(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function k(n){return E(n).split(/\s+/)}function B(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?_(n.options):{});for(var c in s)n.options[c]=s[c];return n.options}function Y(n,s,c){var m=[];for(var v in n)m.push(encodeURIComponent(c?v.toUpperCase():v)+"="+encodeURIComponent(n[v]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var Q=/\{ *([\w_ -]+) *\}/g;function tt(n,s){return n.replace(Q,function(c,m){var v=s[m];if(v===void 0)throw new Error("No value provided for variable "+c);return typeof v=="function"&&(v=v(s)),v})}var $=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function ct(n,s){for(var c=0;c<n.length;c++)if(n[c]===s)return c;return-1}var at="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ut(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var lt=0;function gt(n){var s=+new Date,c=Math.max(0,16-(s-lt));return lt=s+c,window.setTimeout(n,c)}var At=window.requestAnimationFrame||ut("RequestAnimationFrame")||gt,Re=window.cancelAnimationFrame||ut("CancelAnimationFrame")||ut("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Tt(n,s,c){if(c&&At===gt)n.call(s);else return At.call(window,p(n,s))}function Ot(n){n&&Re.call(window,n)}var Ee={__proto__:null,extend:f,create:_,bind:p,get lastId(){return b},stamp:y,throttle:T,wrapNum:O,falseFn:R,formatNum:z,trim:E,splitWords:k,setOptions:B,getParamString:Y,template:tt,isArray:$,indexOf:ct,emptyImageUrl:at,requestFn:At,cancelFn:Re,requestAnimFrame:Tt,cancelAnimFrame:Ot};function me(){}me.extend=function(n){var s=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,m=_(c);m.constructor=s,s.prototype=m;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(s[v]=this[v]);return n.statics&&f(s,n.statics),n.includes&&(Ve(n.includes),f.apply(null,[m].concat(n.includes))),f(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?_(c.options):{},f(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,A=m._initHooks.length;S<A;S++)m._initHooks[S].call(this)}},s},me.include=function(n){var s=this.prototype.options;return f(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},me.mergeOptions=function(n){return f(this.prototype.options,n),this},me.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Ve(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=$(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=k(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],s,c)}return this},off:function(n,s,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=k(n);for(var v=arguments.length===1,S=0,A=n.length;S<A;S++)v?this._off(n[S]):this._off(n[S],s,c)}return this},_on:function(n,s,c,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,c)===!1){c===this&&(c=void 0);var v={fn:s,ctx:c};m&&(v.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(v)}},_off:function(n,s,c){var m,v,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(v=0,S=m.length;v<S;v++)m[v].fn=R;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var A=this._listens(n,s,c);if(A!==!1){var D=m[A];this._firingCount&&(D.fn=R,this._events[n]=m=m.slice()),m.splice(A,1)}}},fire:function(n,s,c){if(!this.listens(n,c))return this;var m=f({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var v=this._events[n];if(v){this._firingCount=this._firingCount+1||1;for(var S=0,A=v.length;S<A;S++){var D=v[S],H=D.fn;D.once&&this.off(n,H,D.ctx),H.call(D.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,s,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var v=s;typeof s!="function"&&(m=!!s,v=void 0,c=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,v,c)!==!1)return!0;if(m){for(var A in this._eventParents)if(this._eventParents[A].listens(n,s,c,m))return!0}return!1},_listens:function(n,s,c){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;c===this&&(c=void 0);for(var v=0,S=m.length;v<S;v++)if(m[v].fn===s&&m[v].ctx===c)return v;return!1},once:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=k(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],s,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,f({layer:n.target,propagatedFrom:n.target},n),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var nt=me.extend(I);function W(n,s,c){this.x=c?Math.round(n):n,this.y=c?Math.round(s):s}var Ht=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(n){return this.clone()._add(st(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(st(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new W(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new W(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ht(this.x),this.y=Ht(this.y),this},distanceTo:function(n){n=st(n);var s=n.x-this.x,c=n.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(n){return n=st(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=st(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+z(this.x)+", "+z(this.y)+")"}};function st(n,s,c){return n instanceof W?n:$(n)?new W(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new W(n.x,n.y):new W(n,s,c)}function N(n,s){if(n)for(var c=s?[n,s]:n,m=0,v=c.length;m<v;m++)this.extend(c[m])}N.prototype={extend:function(n){var s,c;if(!n)return this;if(n instanceof W||typeof n[0]=="number"||"x"in n)s=c=st(n);else if(n=G(n),s=n.min,c=n.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return st((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return st(this.min.x,this.max.y)},getTopRight:function(){return st(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,c;return typeof n[0]=="number"||n instanceof W?n=st(n):n=G(n),n instanceof N?(s=n.min,c=n.max):s=c=n,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=G(n);var s=this.min,c=this.max,m=n.min,v=n.max,S=v.x>=s.x&&m.x<=c.x,A=v.y>=s.y&&m.y<=c.y;return S&&A},overlaps:function(n){n=G(n);var s=this.min,c=this.max,m=n.min,v=n.max,S=v.x>s.x&&m.x<c.x,A=v.y>s.y&&m.y<c.y;return S&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,c=this.max,m=Math.abs(s.x-c.x)*n,v=Math.abs(s.y-c.y)*n;return G(st(s.x-m,s.y-v),st(c.x+m,c.y+v))},equals:function(n){return n?(n=G(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function G(n,s){return!n||n instanceof N?n:new N(n,s)}function F(n,s){if(n)for(var c=s?[n,s]:n,m=0,v=c.length;m<v;m++)this.extend(c[m])}F.prototype={extend:function(n){var s=this._southWest,c=this._northEast,m,v;if(n instanceof ot)m=n,v=n;else if(n instanceof F){if(m=n._southWest,v=n._northEast,!m||!v)return this}else return n?this.extend(rt(n)||et(n)):this;return!s&&!c?(this._southWest=new ot(m.lat,m.lng),this._northEast=new ot(v.lat,v.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),c.lat=Math.max(v.lat,c.lat),c.lng=Math.max(v.lng,c.lng)),this},pad:function(n){var s=this._southWest,c=this._northEast,m=Math.abs(s.lat-c.lat)*n,v=Math.abs(s.lng-c.lng)*n;return new F(new ot(s.lat-m,s.lng-v),new ot(c.lat+m,c.lng+v))},getCenter:function(){return new ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ot||"lat"in n?n=rt(n):n=et(n);var s=this._southWest,c=this._northEast,m,v;return n instanceof F?(m=n.getSouthWest(),v=n.getNorthEast()):m=v=n,m.lat>=s.lat&&v.lat<=c.lat&&m.lng>=s.lng&&v.lng<=c.lng},intersects:function(n){n=et(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>=s.lat&&m.lat<=c.lat,A=v.lng>=s.lng&&m.lng<=c.lng;return S&&A},overlaps:function(n){n=et(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>s.lat&&m.lat<c.lat,A=v.lng>s.lng&&m.lng<c.lng;return S&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=et(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(n,s){return n instanceof F?n:new F(n,s)}function ot(n,s,c){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,c!==void 0&&(this.alt=+c)}ot.prototype={equals:function(n,s){if(!n)return!1;n=rt(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+z(this.lat,n)+", "+z(this.lng,n)+")"},distanceTo:function(n){return ne.distance(this,rt(n))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,c=s/Math.cos(Math.PI/180*this.lat);return et([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new ot(this.lat,this.lng,this.alt)}};function rt(n,s,c){return n instanceof ot?n:$(n)&&typeof n[0]!="object"?n.length===3?new ot(n[0],n[1],n[2]):n.length===2?new ot(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ot(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new ot(n,s,c)}var Rt={latLngToPoint:function(n,s){var c=this.projection.project(n),m=this.scale(s);return this.transformation._transform(c,m)},pointToLatLng:function(n,s){var c=this.scale(s),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(s.min,c),v=this.transformation.transform(s.max,c);return new N(m,v)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?O(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?O(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ot(c,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),c=this.wrapLatLng(s),m=s.lat-c.lat,v=s.lng-c.lng;if(m===0&&v===0)return n;var S=n.getSouthWest(),A=n.getNorthEast(),D=new ot(S.lat-m,S.lng-v),H=new ot(A.lat-m,A.lng-v);return new F(D,H)}},ne=f({},Rt,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var c=Math.PI/180,m=n.lat*c,v=s.lat*c,S=Math.sin((s.lat-n.lat)*c/2),A=Math.sin((s.lng-n.lng)*c/2),D=S*S+Math.cos(m)*Math.cos(v)*A*A,H=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*H}}),ie=6378137,Jn={R:ie,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),v=Math.sin(m*s);return new W(this.R*n.lng*s,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(n){var s=180/Math.PI;return new ot((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=ie*Math.PI;return new N([-n,-n],[n,n])})()};function mi(n,s,c,m){if($(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=c,this._d=m}mi.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new W((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function Qn(n,s,c,m){return new mi(n,s,c,m)}var Zi=f({},ne,{code:"EPSG:3857",projection:Jn,transformation:(function(){var n=.5/(Math.PI*Jn.R);return Qn(n,.5,-n,.5)})()}),mt=f({},Zi,{code:"EPSG:900913"});function hn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Tn(n,s){var c="",m,v,S,A,D,H;for(m=0,S=n.length;m<S;m++){for(D=n[m],v=0,A=D.length;v<A;v++)H=D[v],c+=(v?"L":"M")+H.x+" "+H.y;c+=s?ft.svg?"z":"x":""}return c||"M0 0"}var _i=document.documentElement.style,Na="ActiveXObject"in window,Or=Na&&!document.addEventListener,As="msLaunchUri"in navigator&&!("documentMode"in document),Ra=Qe("webkit"),Jo=Qe("android"),Qo=Qe("android 2")||Qe("android 3"),Ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Uu=Jo&&Qe("Google")&&Ke<537&&!("AudioNode"in window),Os=!!window.opera,Cr=!As&&Qe("chrome"),La=Qe("gecko")&&!Ra&&!Os&&!Na,Pu=!Cr&&Qe("safari"),Nr=Qe("phantom"),Wo="OTransition"in _i,Hu=navigator.platform.indexOf("Win")===0,Ii=Na&&"transition"in _i,Me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qo,Dn="MozPerspective"in _i,Ye=!window.L_DISABLE_3D&&(Ii||Me||Dn)&&!Wo&&!Nr,ja=typeof orientation<"u"||Qe("mobile"),qu=ja&&Ra,Zu=ja&&Me,ka=!window.PointerEvent&&window.MSPointerEvent,za=!!(window.PointerEvent||ka),Ma="ontouchstart"in window||!!window.TouchEvent,pi=!window.L_NO_TOUCH&&(Ma||za),Cs=ja&&Os,Da=ja&&La,Iu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fo=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",R,s),window.removeEventListener("testPassiveEventSupport",R,s)}catch{}return n})(),Rr=(function(){return!!document.createElement("canvas").getContext})(),vi=!!(document.createElementNS&&hn("svg").createSVGRect),Gu=!!vi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),tl=!vi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),el=navigator.platform.indexOf("Mac")===0,nl=navigator.platform.indexOf("Linux")===0;function Qe(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ft={ie:Na,ielt9:Or,edge:As,webkit:Ra,android:Jo,android23:Qo,androidStock:Uu,opera:Os,chrome:Cr,gecko:La,safari:Pu,phantom:Nr,opera12:Wo,win:Hu,ie3d:Ii,webkit3d:Me,gecko3d:Dn,any3d:Ye,mobile:ja,mobileWebkit:qu,mobileWebkit3d:Zu,msPointer:ka,pointer:za,touch:pi,touchNative:Ma,mobileOpera:Cs,mobileGecko:Da,retina:Iu,passiveEvents:Fo,canvas:Rr,svg:vi,vml:tl,inlineSvg:Gu,mac:el,linux:nl},Lr=ft.msPointer?"MSPointerDown":"pointerdown",jr=ft.msPointer?"MSPointerMove":"pointermove",Bn=ft.msPointer?"MSPointerUp":"pointerup",ve=ft.msPointer?"MSPointerCancel":"pointercancel",Le={touchstart:Lr,touchmove:jr,touchend:Bn,touchcancel:ve},gi={touchstart:Vi,touchmove:Fn,touchend:Fn,touchcancel:Fn},Wn={},il=!1;function Vu(n,s,c){return s==="touchstart"&&Gi(),gi[s]?(c=gi[s].bind(this,c),n.addEventListener(Le[s],c,!1),c):(console.warn("wrong event specified:",s),R)}function al(n,s,c){if(!Le[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Le[s],c,!1)}function Ba(n){Wn[n.pointerId]=n}function kr(n){Wn[n.pointerId]&&(Wn[n.pointerId]=n)}function yi(n){delete Wn[n.pointerId]}function Gi(){il||(document.addEventListener(Lr,Ba,!0),document.addEventListener(jr,kr,!0),document.addEventListener(Bn,yi,!0),document.addEventListener(ve,yi,!0),il=!0)}function Fn(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in Wn)s.touches.push(Wn[c]);s.changedTouches=[s],n(s)}}function Vi(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ue(s),Fn(n,s)}function ge(n){var s={},c,m;for(m in n)c=n[m],s[m]=c&&c.bind?c.bind(n):c;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var sl=200;function rl(n,s){n.addEventListener("dblclick",s);var c=0,m;function v(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var A=Ga(S);if(!(A.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!A.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var D=Date.now();D-c<=sl?(m++,m===2&&s(ge(S))):m=1,c=D}}}return n.addEventListener("click",v),{dblclick:s,simDblclick:v}}function bi(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var ti=Ha(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ua=Ha(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zr=Ua==="webkitTransition"||Ua==="OTransition"?Ua+"End":"transitionend";function Mr(n){return typeof n=="string"?document.getElementById(n):n}function Pa(n,s){var c=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[s]:null}return c==="auto"?null:c}function kt(n,s,c){var m=document.createElement(n);return m.className=s||"",c&&c.appendChild(m),m}function Xt(n){var s=n.parentNode;s&&s.removeChild(n)}function We(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ae(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function wi(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Dr(n,s){if(n.classList!==void 0)return n.classList.contains(s);var c=Ns(n);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function xt(n,s){if(n.classList!==void 0)for(var c=k(s),m=0,v=c.length;m<v;m++)n.classList.add(c[m]);else if(!Dr(n,s)){var S=Ns(n);Ki(n,(S?S+" ":"")+s)}}function re(n,s){n.classList!==void 0?n.classList.remove(s):Ki(n,E((" "+Ns(n)+" ").replace(" "+s+" "," ")))}function Ki(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Ns(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ae(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Br(n,s)}function Br(n,s){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function Ha(n){for(var s=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in s)return n[c];return!1}function Un(n,s,c){var m=s||new W(0,0);n.style[ti]=(ft.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function Ft(n,s){n._leaflet_pos=s,ft.any3d?Un(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function ei(n){return n._leaflet_pos||new W(0,0)}var Yi,xn,Ur;if("onselectstart"in document)Yi=function(){wt(window,"selectstart",ue)},xn=function(){Kt(window,"selectstart",ue)};else{var $i=Ha(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yi=function(){if($i){var n=document.documentElement.style;Ur=n[$i],n[$i]="none"}},xn=function(){$i&&(document.documentElement.style[$i]=Ur,Ur=void 0)}}function Rs(){wt(window,"dragstart",ue)}function qa(){Kt(window,"dragstart",ue)}var Ls,Pr;function Xi(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Fe(),Ls=n,Pr=n.style.outlineStyle,n.style.outlineStyle="none",wt(window,"keydown",Fe))}function Fe(){Ls&&(Ls.style.outlineStyle=Pr,Ls=void 0,Pr=void 0,Kt(window,"keydown",Fe))}function js(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Za(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var Ji={__proto__:null,TRANSFORM:ti,TRANSITION:Ua,TRANSITION_END:zr,get:Mr,getStyle:Pa,create:kt,remove:Xt,empty:We,toFront:Ae,toBack:wi,hasClass:Dr,addClass:xt,removeClass:re,setClass:Ki,getClass:Ns,setOpacity:ae,testProp:Ha,setTransform:Un,setPosition:Ft,getPosition:ei,get disableTextSelection(){return Yi},get enableTextSelection(){return xn},disableImageDrag:Rs,enableImageDrag:qa,preventOutline:Xi,restoreOutline:Fe,getSizedParentNode:js,getScale:Za};function wt(n,s,c,m){if(s&&typeof s=="object")for(var v in s)fn(n,v,s[v],c);else{s=k(s);for(var S=0,A=s.length;S<A;S++)fn(n,s[S],c,m)}return this}var dn="_leaflet_events";function Kt(n,s,c,m){if(arguments.length===1)Hr(n),delete n[dn];else if(s&&typeof s=="object")for(var v in s)Ia(n,v,s[v],c);else if(s=k(s),arguments.length===2)Hr(n,function(D){return ct(s,D)!==-1});else for(var S=0,A=s.length;S<A;S++)Ia(n,s[S],c,m);return this}function Hr(n,s){for(var c in n[dn]){var m=c.split(/\d/)[0];(!s||s(m))&&Ia(n,m,null,null,c)}}var Si={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fn(n,s,c,m){var v=s+y(c)+(m?"_"+y(m):"");if(n[dn]&&n[dn][v])return this;var S=function(D){return c.call(m||n,D||window.event)},A=S;!ft.touchNative&&ft.pointer&&s.indexOf("touch")===0?S=Vu(n,s,S):ft.touch&&s==="dblclick"?S=rl(n,S):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Si[s]||s,S,ft.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(S=function(D){D=D||window.event,Pn(n,D)&&A(D)},n.addEventListener(Si[s],S,!1)):n.addEventListener(s,A,!1):n.attachEvent("on"+s,S),n[dn]=n[dn]||{},n[dn][v]=S}function Ia(n,s,c,m,v){v=v||s+y(c)+(m?"_"+y(m):"");var S=n[dn]&&n[dn][v];if(!S)return this;!ft.touchNative&&ft.pointer&&s.indexOf("touch")===0?al(n,s,S):ft.touch&&s==="dblclick"?bi(n,S):"removeEventListener"in n?n.removeEventListener(Si[s]||s,S,!1):n.detachEvent("on"+s,S),n[dn][v]=null}function mn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function En(n){return fn(n,"wheel",mn),this}function Ti(n){return wt(n,"mousedown touchstart dblclick contextmenu",mn),n._leaflet_disable_click=!0,this}function ue(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ni(n){return ue(n),mn(n),this}function Ga(n){if(n.composedPath)return n.composedPath();for(var s=[],c=n.target;c;)s.push(c),c=c.parentNode;return s}function Va(n,s){if(!s)return new W(n.clientX,n.clientY);var c=Za(s),m=c.boundingClientRect;return new W((n.clientX-m.left)/c.x-s.clientLeft,(n.clientY-m.top)/c.y-s.clientTop)}var ol=ft.linux&&ft.chrome?window.devicePixelRatio:ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function De(n){return ft.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/ol:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Pn(n,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var ks={__proto__:null,on:wt,off:Kt,stopPropagation:mn,disableScrollPropagation:En,disableClickPropagation:Ti,preventDefault:ue,stop:ni,getPropagationPath:Ga,getMousePosition:Va,getWheelDelta:De,isExternalTarget:Pn,addListener:wt,removeListener:Kt},Qi=nt.extend({run:function(n,s,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ei(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Tt(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var c=this._startPos.add(this._offset.multiplyBy(n));s&&c._round(),Ft(this._el,c),this.fire("step")},_complete:function(){Ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Bt=nt.extend({options:{crs:Zi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=B(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(rt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ua&&ft.any3d&&!ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),wt(this._proxy,zr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(rt(n),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=f({animate:c.animate},c.zoom),c.pan=f({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,c){var m=this.getZoomScale(s),v=this.getSize().divideBy(2),S=n instanceof W?n:this.latLngToContainerPoint(n),A=S.subtract(v).multiplyBy(1-1/m),D=this.containerPointToLatLng(v.add(A));return this.setView(D,s,{zoom:c})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():et(n);var c=st(s.paddingTopLeft||s.padding||[0,0]),m=st(s.paddingBottomRight||s.padding||[0,0]),v=this.getBoundsZoom(n,!1,c.add(m));if(v=typeof s.maxZoom=="number"?Math.min(s.maxZoom,v):v,v===1/0)return{center:n.getCenter(),zoom:v};var S=m.subtract(c).divideBy(2),A=this.project(n.getSouthWest(),v),D=this.project(n.getNorthEast(),v),H=this.unproject(A.add(D).divideBy(2).add(S),v);return{center:H,zoom:v}},fitBounds:function(n,s){if(n=et(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=st(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,c){if(c=c||{},c.animate===!1||!ft.any3d)return this.setView(n,s,c);this._stop();var m=this.project(this.getCenter()),v=this.project(n),S=this.getSize(),A=this._zoom;n=rt(n),s=s===void 0?A:s;var D=Math.max(S.x,S.y),H=D*this.getZoomScale(A,s),X=v.distanceTo(m)||1,it=1.42,_t=it*it;function Lt(le){var In=le?-1:1,Oi=le?H:D,eo=H*H-D*D+In*_t*_t*X*X,os=2*Oi*_t*X,ls=eo/os,hi=Math.sqrt(ls*ls+1)-ls,Gn=hi<1e-9?-18:Math.log(hi);return Gn}function Oe(le){return(Math.exp(le)-Math.exp(-le))/2}function ce(le){return(Math.exp(le)+Math.exp(-le))/2}function Xe(le){return Oe(le)/ce(le)}var qt=Lt(0);function Zt(le){return D*(ce(qt)/ce(qt+it*le))}function zt(le){return D*(ce(qt)*Xe(qt+it*le)-Oe(qt))/_t}function ui(le){return 1-Math.pow(1-le,1.5)}var an=Date.now(),Ys=(Lt(1)-qt)/it,ci=c.duration?1e3*c.duration:1e3*Ys*.8;function to(){var le=(Date.now()-an)/ci,In=ui(le)*Ys;le<=1?(this._flyToFrame=Tt(to,this),this._move(this.unproject(m.add(v.subtract(m).multiplyBy(zt(In)/X)),A),this.getScaleZoom(D/Zt(In),A),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),to.call(this),this},flyToBounds:function(n,s){var c=this._getBoundsCenterZoom(n,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(n){return n=et(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,et(n));return c.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var c=st(s.paddingTopLeft||s.padding||[0,0]),m=st(s.paddingBottomRight||s.padding||[0,0]),v=this.project(this.getCenter()),S=this.project(n),A=this.getPixelBounds(),D=G([A.min.add(c),A.max.subtract(m)]),H=D.getSize();if(!D.contains(S)){this._enforcingBounds=!0;var X=S.subtract(D.getCenter()),it=D.extend(S).getSize().subtract(H);v.x+=X.x<0?-it.x:it.x,v.y+=X.y<0?-it.y:it.y,this.panTo(this.unproject(v),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=f({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=s.divideBy(2).round(),v=c.divideBy(2).round(),S=m.subtract(v);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=f({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=p(this._handleGeolocationResponse,this),c=p(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,n):navigator.geolocation.getCurrentPosition(s,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,c=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,c=n.coords.longitude,m=new ot(s,c),v=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var A=this.getBoundsZoom(v);this.setView(m,S.maxZoom?Math.min(A,S.maxZoom):A)}var D={latlng:m,bounds:v,timestamp:n.timestamp};for(var H in n.coords)typeof n.coords[H]=="number"&&(D[H]=n.coords[H]);this.fire("locationfound",D)}},addHandler:function(n,s){if(!s)return this;var c=this[n]=new s(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Xt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=kt("div",c,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new F(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,c){n=et(n),c=st(c||[0,0]);var m=this.getZoom()||0,v=this.getMinZoom(),S=this.getMaxZoom(),A=n.getNorthWest(),D=n.getSouthEast(),H=this.getSize().subtract(c),X=G(this.project(D,m),this.project(A,m)).getSize(),it=ft.any3d?this.options.zoomSnap:1,_t=H.x/X.x,Lt=H.y/X.y,Oe=s?Math.max(_t,Lt):Math.min(_t,Lt);return m=this.getScaleZoom(Oe,m),it&&(m=Math.round(m/(it/100))*(it/100),m=s?Math.ceil(m/it)*it:Math.floor(m/it)*it),Math.max(v,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var c=this._getTopLeftPoint(n,s);return new N(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(n)/c.scale(s)},getScaleZoom:function(n,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var m=c.zoom(n*c.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(rt(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(st(n),s)},layerPointToLatLng:function(n){var s=st(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(rt(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(rt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(et(n))},distance:function(n,s){return this.options.crs.distance(rt(n),rt(s))},containerPointToLayerPoint:function(n){return st(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return st(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(st(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(rt(n)))},mouseEventToContainerPoint:function(n){return Va(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Mr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");wt(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ft.any3d,xt(n,"leaflet-container"+(ft.touch?" leaflet-touch":"")+(ft.retina?" leaflet-retina":"")+(ft.ielt9?" leaflet-oldie":"")+(ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Pa(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(n.markerPane,"leaflet-zoom-hide"),xt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,c){Ft(this._mapPane,new W(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var v=this._zoom!==s;this._moveStart(v,c)._move(n,s)._moveEnd(v),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,c,m){s===void 0&&(s=this._zoom);var v=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((v||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ft(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var s=n?Kt:wt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ft.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ot(this._resizeRequest),this._resizeRequest=Tt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var c=[],m,v=s==="mouseout"||s==="mouseover",S=n.target||n.srcElement,A=!1;S;){if(m=this._targets[y(S)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){A=!0;break}if(m&&m.listens(s,!0)&&(v&&!Pn(S,n)||(c.push(m),v))||S===this._container)break;S=S.parentNode}return!c.length&&!A&&!v&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var c=n.type;c==="mousedown"&&Xi(s),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,c){if(n.type==="click"){var m=f({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var v=this._findEventTargets(n,s);if(c){for(var S=[],A=0;A<c.length;A++)c[A].listens(s,!0)&&S.push(c[A]);v=S.concat(v)}if(v.length){s==="contextmenu"&&ue(n);var D=v[0],H={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var X=D.getLatLng&&(!D._radius||D._radius<=10);H.containerPoint=X?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(n),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=X?D.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(A=0;A<v.length;A++)if(v[A].fire(s,H,!0),H.originalEvent._stopped||v[A].options.bubblingMouseEvents===!1&&ct(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return ei(this._mapPane)||new W(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var c=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var c=this.getSize()._divideBy(2);return this.project(n,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return G([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,c){if(!c)return n;var m=this.project(n,s),v=this.getSize().divideBy(2),S=new N(m.subtract(v),m.add(v)),A=this._getBoundsOffset(S,c,s);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?n:this.unproject(m.add(A),s)},_limitOffset:function(n,s){if(!s)return n;var c=this.getPixelBounds(),m=new N(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,c){var m=G(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),v=m.min.subtract(n.min),S=m.max.subtract(n.max),A=this._rebound(v.x,-S.x),D=this._rebound(v.y,-S.y);return new W(A,D)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),c=this.getMaxZoom(),m=ft.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var c=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var n=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var c=ti,m=this._proxy.style[c];Un(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Un(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),v=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(v)?!1:(Tt(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qr(n,s){return new Bt(n,s)}var $e=me.extend({options:{position:"topright"},initialize:function(n){B(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return xt(s,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Hn=function(n){return new $e(n)};Bt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",c=this._controlContainer=kt("div",s+"control-container",this._container);function m(v,S){var A=s+v+" "+s+S;n[v+S]=kt("div",A,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Xt(this._controlCorners[n]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ka=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,s,c){B(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return $e.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=kt("div",n),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Ti(s),En(s);var m=this._section=kt("section",n+"-list");c&&(this._map.on("click",this.collapse,this),wt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=kt("a",n+"-toggle",s);v.href="#",v.title="Layers",v.setAttribute("role","button"),wt(v,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){ue(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=kt("div",n+"-base",m),this._separator=kt("div",n+"-separator",m),this._overlaysList=kt("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(p(function(m,v){return this.options.sortFunction(m.layer,v.layer,m.name,v.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var n,s,c,m,v=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,v+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&v>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(y(n.target)),c=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(n,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var s=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(n.layer),wt(m,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+n.name;var S=document.createElement("span");s.appendChild(S),S.appendChild(m),S.appendChild(v);var A=n.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,c,m=[],v=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)s=n[S],c=this._getLayer(s.layerId).layer,s.checked?m.push(c):s.checked||v.push(c);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])&&this._map.removeLayer(v[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,c,m=this._map.getZoom(),v=n.length-1;v>=0;v--)s=n[v],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,wt(n,"click",ue),this.expand();var s=this;setTimeout(function(){Kt(n,"click",ue),s._preventClick=!1})}}),ll=function(n,s,c){return new Ka(n,s,c)},Zr=$e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",c=kt("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,c,m,v){var S=kt("a",c,m);return S.innerHTML=n,S.href="#",S.title=s,S.setAttribute("role","button"),S.setAttribute("aria-label",s),Ti(S),wt(S,"click",ni),wt(S,"click",v,this),wt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";re(this._zoomInButton,s),re(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(xt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(xt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zr,this.addControl(this.zoomControl))});var Ku=function(n){return new Zr(n)},ul=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",c=kt("div",s),m=this.options;return this._addScales(m,s+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,c){n.metric&&(this._mScale=kt("div",s,c)),n.imperial&&(this._iScale=kt("div",s,c))},_update:function(){var n=this._map,s=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/n)},_updateImperial:function(n){var s=n*3.2808399,c,m,v;s>5280?(c=s/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(v=this._getRoundNum(s),this._updateScale(this._iScale,v+" ft",v/s))},_updateScale:function(n,s,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),c=n/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),Ir=function(n){return new ul(n)},Yu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gr=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ft.inlineSvg?Yu+" ":"")+"Leaflet</a>"},initialize:function(n){B(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Ti(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new Gr().addTo(this)});var $u=function(n){return new Gr(n)};$e.Layers=Ka,$e.Zoom=Zr,$e.Scale=ul,$e.Attribution=Gr,Hn.layers=ll,Hn.zoom=Ku,Hn.scale=Ir,Hn.attribution=$u;var An=me.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});An.addTo=function(n,s){return n.addHandler(s,this),this};var Xu={Events:I},Vr=ft.touch?"touchstart mousedown":"mousedown",ii=nt.extend({options:{clickTolerance:3},initialize:function(n,s,c,m){B(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=c},enable:function(){this._enabled||(wt(this._dragStartTarget,Vr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(!0),Kt(this._dragStartTarget,Vr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Dr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){ii._dragging===this&&this.finishDrag();return}if(!(ii._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(ii._dragging=this,this._preventOutline&&Xi(this._element),Rs(),Yi(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,c=js(this._element);this._startPoint=new W(s.clientX,s.clientY),this._startPos=ei(this._element),this._parentScale=Za(c);var m=n.type==="mousedown";wt(document,m?"mousemove":"touchmove",this._onMove,this),wt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,c=new W(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ue(n),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ft(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){re(document.body,"leaflet-dragging"),this._lastTarget&&(re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Kt(document,"mousemove touchmove",this._onMove,this),Kt(document,"mouseup touchend touchcancel",this._onUp,this),qa(),xn();var s=this._moved&&this._moving;this._moving=!1,ii._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function cl(n,s,c){var m,v=[1,4,2,8],S,A,D,H,X,it,_t,Lt;for(S=0,it=n.length;S<it;S++)n[S]._code=xi(n[S],s);for(D=0;D<4;D++){for(_t=v[D],m=[],S=0,it=n.length,A=it-1;S<it;A=S++)H=n[S],X=n[A],H._code&_t?X._code&_t||(Lt=zs(X,H,_t,s,c),Lt._code=xi(Lt,s),m.push(Lt)):(X._code&_t&&(Lt=zs(X,H,_t,s,c),Lt._code=xi(Lt,s),m.push(Lt)),m.push(H));n=m}return n}function hl(n,s){var c,m,v,S,A,D,H,X,it;if(!n||n.length===0)throw new Error("latlngs not passed");tn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var _t=rt([0,0]),Lt=et(n),Oe=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Oe<1700&&(_t=Kr(n));var ce=n.length,Xe=[];for(c=0;c<ce;c++){var qt=rt(n[c]);Xe.push(s.project(rt([qt.lat-_t.lat,qt.lng-_t.lng])))}for(D=H=X=0,c=0,m=ce-1;c<ce;m=c++)v=Xe[c],S=Xe[m],A=v.y*S.x-S.y*v.x,H+=(v.x+S.x)*A,X+=(v.y+S.y)*A,D+=A*3;D===0?it=Xe[0]:it=[H/D,X/D];var Zt=s.unproject(st(it));return rt([Zt.lat+_t.lat,Zt.lng+_t.lng])}function Kr(n){for(var s=0,c=0,m=0,v=0;v<n.length;v++){var S=rt(n[v]);s+=S.lat,c+=S.lng,m++}return rt([s/m,c/m])}var Yr={__proto__:null,clipPolygon:cl,polygonCenter:hl,centroid:Kr};function dl(n,s){if(!s||!n.length)return n.slice();var c=s*s;return n=Qu(n,c),n=ml(n,c),n}function fl(n,s,c){return Math.sqrt(Ya(n,s,c,!0))}function Ju(n,s,c){return Ya(n,s,c)}function ml(n,s){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,v=new m(c);v[0]=v[c-1]=1,$r(n,v,s,0,c-1);var S,A=[];for(S=0;S<c;S++)v[S]&&A.push(n[S]);return A}function $r(n,s,c,m,v){var S=0,A,D,H;for(D=m+1;D<=v-1;D++)H=Ya(n[D],n[m],n[v],!0),H>S&&(A=D,S=H);S>c&&(s[A]=1,$r(n,s,c,m,A),$r(n,s,c,A,v))}function Qu(n,s){for(var c=[n[0]],m=1,v=0,S=n.length;m<S;m++)Wu(n[m],n[v])>s&&(c.push(n[m]),v=m);return v<S-1&&c.push(n[S-1]),c}var _l;function pl(n,s,c,m,v){var S=m?_l:xi(n,c),A=xi(s,c),D,H,X;for(_l=A;;){if(!(S|A))return[n,s];if(S&A)return!1;D=S||A,H=zs(n,s,D,c,v),X=xi(H,c),D===S?(n=H,S=X):(s=H,A=X)}}function zs(n,s,c,m,v){var S=s.x-n.x,A=s.y-n.y,D=m.min,H=m.max,X,it;return c&8?(X=n.x+S*(H.y-n.y)/A,it=H.y):c&4?(X=n.x+S*(D.y-n.y)/A,it=D.y):c&2?(X=H.x,it=n.y+A*(H.x-n.x)/S):c&1&&(X=D.x,it=n.y+A*(D.x-n.x)/S),new W(X,it,v)}function xi(n,s){var c=0;return n.x<s.min.x?c|=1:n.x>s.max.x&&(c|=2),n.y<s.min.y?c|=4:n.y>s.max.y&&(c|=8),c}function Wu(n,s){var c=s.x-n.x,m=s.y-n.y;return c*c+m*m}function Ya(n,s,c,m){var v=s.x,S=s.y,A=c.x-v,D=c.y-S,H=A*A+D*D,X;return H>0&&(X=((n.x-v)*A+(n.y-S)*D)/H,X>1?(v=c.x,S=c.y):X>0&&(v+=A*X,S+=D*X)),A=n.x-v,D=n.y-S,m?A*A+D*D:new W(v,S)}function tn(n){return!$(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ms(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),tn(n)}function Wi(n,s){var c,m,v,S,A,D,H,X;if(!n||n.length===0)throw new Error("latlngs not passed");tn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var it=rt([0,0]),_t=et(n),Lt=_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest());Lt<1700&&(it=Kr(n));var Oe=n.length,ce=[];for(c=0;c<Oe;c++){var Xe=rt(n[c]);ce.push(s.project(rt([Xe.lat-it.lat,Xe.lng-it.lng])))}for(c=0,m=0;c<Oe-1;c++)m+=ce[c].distanceTo(ce[c+1])/2;if(m===0)X=ce[0];else for(c=0,S=0;c<Oe-1;c++)if(A=ce[c],D=ce[c+1],v=A.distanceTo(D),S+=v,S>m){H=(S-m)/v,X=[D.x-H*(D.x-A.x),D.y-H*(D.y-A.y)];break}var qt=s.unproject(st(X));return rt([qt.lat+it.lat,qt.lng+it.lng])}var Fu={__proto__:null,simplify:dl,pointToSegmentDistance:fl,closestPointOnSegment:Ju,clipSegment:pl,_getEdgeIntersection:zs,_getBitCode:xi,_sqClosestPointOnSegment:Ya,isFlat:tn,_flat:Ms,polylineCenter:Wi},Ds={project:function(n){return new W(n.lng,n.lat)},unproject:function(n){return new ot(n.y,n.x)},bounds:new N([-180,-90],[180,90])},Bs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new N([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,c=this.R,m=n.lat*s,v=this.R_MINOR/c,S=Math.sqrt(1-v*v),A=S*Math.sin(m),D=Math.tan(Math.PI/4-m/2)/Math.pow((1-A)/(1+A),S/2);return m=-c*Math.log(Math.max(D,1e-10)),new W(n.lng*s*c,m)},unproject:function(n){for(var s=180/Math.PI,c=this.R,m=this.R_MINOR/c,v=Math.sqrt(1-m*m),S=Math.exp(-n.y/c),A=Math.PI/2-2*Math.atan(S),D=0,H=.1,X;D<15&&Math.abs(H)>1e-7;D++)X=v*Math.sin(A),X=Math.pow((1-X)/(1+X),v/2),H=Math.PI/2-2*Math.atan(S*X)-A,A+=H;return new ot(A*s,n.x*s/c)}},vl={__proto__:null,LonLat:Ds,Mercator:Bs,SphericalMercator:Jn},gl=f({},ne,{code:"EPSG:3395",projection:Bs,transformation:(function(){var n=.5/(Math.PI*Bs.R);return Qn(n,.5,-n,.5)})()}),Xr=f({},ne,{code:"EPSG:4326",projection:Ds,transformation:Qn(1/180,1,-1/180,.5)}),Fi=f({},Rt,{projection:Ds,transformation:Qn(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var c=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});Rt.Earth=ne,Rt.EPSG3395=gl,Rt.EPSG3857=Zi,Rt.EPSG900913=mt,Rt.EPSG4326=Xr,Rt.Simple=Fi;var _n=nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=y(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},_addLayers:function(n){n=n?$(n)?n:[n]:[];for(var s=0,c=n.length;s<c;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=y(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var v=this._zoomBoundLayers[m].options;n=v.minZoom===void 0?n:Math.min(n,v.minZoom),s=v.maxZoom===void 0?s:Math.max(s,v.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ta=_n.extend({initialize:function(n,s){B(this,s),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),tc=function(n,s){return new ta(n,s)},On=ta.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ta.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ta.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new F;for(var s in this._layers){var c=this._layers[s];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),yl=function(n,s){return new On(n,s)},Cn=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){B(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var c=this.options,m=c[s+"Size"];typeof m=="number"&&(m=[m,m]);var v=st(m),S=st(s==="shadow"&&c.shadowAnchor||c.iconAnchor||v&&v.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(c.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),v&&(n.style.width=v.x+"px",n.style.height=v.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return ft.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function $a(n){return new Cn(n)}var Xa=Cn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Xa.imagePath!="string"&&(Xa.imagePath=this._detectIconPath()),(this.options.imagePath||Xa.imagePath)+Cn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(c,m,v){var S=m.exec(c);return S&&S[v]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=kt("div","leaflet-default-icon-path",document.body),s=Pa(n,"background-image")||Pa(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ja=An.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new ii(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,c=s._map,m=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,S=ei(s._icon),A=c.getPixelBounds(),D=c.getPixelOrigin(),H=G(A.min._subtract(D).add(v),A.max._subtract(D).subtract(v));if(!H.contains(S)){var X=st((Math.max(H.max.x,S.x)-H.max.x)/(A.max.x-H.max.x)-(Math.min(H.min.x,S.x)-H.min.x)/(A.min.x-H.min.x),(Math.max(H.max.y,S.y)-H.max.y)/(A.max.y-H.max.y)-(Math.min(H.min.y,S.y)-H.min.y)/(A.min.y-H.min.y)).multiplyBy(m);c.panBy(X,{animate:!1}),this._draggable._newPos._add(X),this._draggable._startPos._add(X),Ft(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Tt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Ot(this._panRequest),this._panRequest=Tt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,c=s._shadow,m=ei(s._icon),v=s._map.layerPointToLatLng(m);c&&Ft(c,m),s._latlng=v,n.latlng=v,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Qa=_n.extend({options:{icon:new Xa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){B(this,s),this._latlng=rt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=rt(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),xt(c,s),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(c,"focus",this._panOnFocus,this);var v=n.icon.createShadow(this._shadow),S=!1;v!==this._shadow&&(this._removeShadow(),S=!0),v&&(xt(v,s),v.alt=""),this._shadow=v,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ft(this._icon,n),this._shadow&&Ft(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ja)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ja(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ae(this._icon,n),this._shadow&&ae(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,c=s.iconSize?st(s.iconSize):st(0,0),m=s.iconAnchor?st(s.iconAnchor):st(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bl(n,s){return new Qa(n,s)}var Nn=_n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return B(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ea=Nn.extend({options:{fill:!0,radius:10},initialize:function(n,s){B(this,s),this._latlng=rt(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=rt(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Nn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,c=this._clickTolerance(),m=[n+c,s+c];this._pxBounds=new N(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wl(n,s){return new ea(n,s)}var Us=ea.extend({initialize:function(n,s,c){if(typeof s=="number"&&(s=f({},c,{radius:s})),B(this,s),this._latlng=rt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Nn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===ne.distance){var v=Math.PI/180,S=this._mRadius/ne.R/v,A=c.project([s+S,n]),D=c.project([s-S,n]),H=A.add(D).divideBy(2),X=c.unproject(H).lat,it=Math.acos((Math.cos(S*v)-Math.sin(s*v)*Math.sin(X*v))/(Math.cos(s*v)*Math.cos(X*v)))/v;(isNaN(it)||it===0)&&(it=S/Math.cos(Math.PI/180*s)),this._point=H.subtract(c.getPixelOrigin()),this._radius=isNaN(it)?0:H.x-c.project([X,n-it]).x,this._radiusY=H.y-A.y}else{var _t=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(_t).x}this._updateBounds()}});function Sl(n,s,c){return new Us(n,s,c)}var qn=Nn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){B(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,c=null,m=Ya,v,S,A=0,D=this._parts.length;A<D;A++)for(var H=this._parts[A],X=1,it=H.length;X<it;X++){v=H[X-1],S=H[X];var _t=m(n,v,S,!0);_t<s&&(s=_t,c=m(n,v,S))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=rt(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new F,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],c=tn(n),m=0,v=n.length;m<v;m++)c?(s[m]=rt(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new W(n,n);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,c){var m=n[0]instanceof ot,v=n.length,S,A;if(m){for(A=[],S=0;S<v;S++)A[S]=this._map.latLngToLayerPoint(n[S]),c.extend(A[S]);s.push(A)}else for(S=0;S<v;S++)this._projectLatlngs(n[S],s,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,m,v,S,A,D,H;for(c=0,v=0,S=this._rings.length;c<S;c++)for(H=this._rings[c],m=0,A=H.length;m<A-1;m++)D=pl(H[m],H[m+1],n,m,!0),D&&(s[v]=s[v]||[],s[v].push(D[0]),(D[1]!==H[m+1]||m===A-2)&&(s[v].push(D[1]),v++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=dl(n[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var c,m,v,S,A,D,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,S=this._parts.length;c<S;c++)for(D=this._parts[c],m=0,A=D.length,v=A-1;m<A;v=m++)if(!(!s&&m===0)&&fl(n,D[v],D[m])<=H)return!0;return!1}});function ec(n,s){return new qn(n,s)}qn._flat=Ms;var na=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=qn.prototype._convertLatLngs.call(this,n),c=s.length;return c>=2&&s[0]instanceof ot&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(n){qn.prototype._setLatLngs.call(this,n),tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,c=new W(s,s);if(n=new N(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,v=this._rings.length,S;m<v;m++)S=cl(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,c,m,v,S,A,D,H,X;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,H=this._parts.length;S<H;S++)for(c=this._parts[S],A=0,X=c.length,D=X-1;A<X;D=A++)m=c[A],v=c[D],m.y>n.y!=v.y>n.y&&n.x<(v.x-m.x)*(n.y-m.y)/(v.y-m.y)+m.x&&(s=!s);return s||qn.prototype._containsPoint.call(this,n,!0)}});function nc(n,s){return new na(n,s)}var Zn=On.extend({initialize:function(n,s){B(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=$(n)?n:n.features,c,m,v;if(s){for(c=0,m=s.length;c<m;c++)v=s[c],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var A=je(n,S);return A?(A.feature=qs(n),A.defaultOptions=A.options,this.resetStyle(A),S.onEachFeature&&S.onEachFeature(n,A),this.addLayer(A)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=f({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function je(n,s){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,v=[],S=s&&s.pointToLayer,A=s&&s.coordsToLatLng||Ps,D,H,X,it;if(!m&&!c)return null;switch(c.type){case"Point":return D=A(m),ia(S,n,D,s);case"MultiPoint":for(X=0,it=m.length;X<it;X++)D=A(m[X]),v.push(ia(S,n,D,s));return new On(v);case"LineString":case"MultiLineString":return H=Wa(m,c.type==="LineString"?0:1,A),new qn(H,s);case"Polygon":case"MultiPolygon":return H=Wa(m,c.type==="Polygon"?1:2,A),new na(H,s);case"GeometryCollection":for(X=0,it=c.geometries.length;X<it;X++){var _t=je({geometry:c.geometries[X],type:"Feature",properties:n.properties},s);_t&&v.push(_t)}return new On(v);case"FeatureCollection":for(X=0,it=c.features.length;X<it;X++){var Lt=je(c.features[X],s);Lt&&v.push(Lt)}return new On(v);default:throw new Error("Invalid GeoJSON object.")}}function ia(n,s,c,m){return n?n(s,c):new Qa(c,m&&m.markersInheritOptions&&m)}function Ps(n){return new ot(n[1],n[0],n[2])}function Wa(n,s,c){for(var m=[],v=0,S=n.length,A;v<S;v++)A=s?Wa(n[v],s-1,c):(c||Ps)(n[v]),m.push(A);return m}function Hs(n,s){return n=rt(n),n.alt!==void 0?[z(n.lng,s),z(n.lat,s),z(n.alt,s)]:[z(n.lng,s),z(n.lat,s)]}function Fa(n,s,c,m){for(var v=[],S=0,A=n.length;S<A;S++)v.push(s?Fa(n[S],tn(n[S])?0:s-1,c,m):Hs(n[S],m));return!s&&c&&v.length>0&&v.push(v[0].slice()),v}function ai(n,s){return n.feature?f({},n.feature,{geometry:s}):qs(s)}function qs(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var si={toGeoJSON:function(n){return ai(this,{type:"Point",coordinates:Hs(this.getLatLng(),n)})}};Qa.include(si),Us.include(si),ea.include(si),qn.include({toGeoJSON:function(n){var s=!tn(this._latlngs),c=Fa(this._latlngs,s?1:0,!1,n);return ai(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),na.include({toGeoJSON:function(n){var s=!tn(this._latlngs),c=s&&!tn(this._latlngs[0]),m=Fa(this._latlngs,c?2:s?1:0,!0,n);return s||(m=[m]),ai(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),ta.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(n).geometry.coordinates)}),ai(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var c=s==="GeometryCollection",m=[];return this.eachLayer(function(v){if(v.toGeoJSON){var S=v.toGeoJSON(n);if(c)m.push(S.geometry);else{var A=qs(S);A.type==="FeatureCollection"?m.push.apply(m,A.features):m.push(A)}}}),c?ai(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Zs(n,s){return new Zn(n,s)}var ts=Zs,aa=_n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,c){this._url=n,this._bounds=et(s),B(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ae(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=et(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:kt("img");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onload=p(this.fire,this,"load"),s.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Un(this._image,c,s)},_reset:function(){var n=this._image,s=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();Ft(n,s.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Tl=function(n,s,c){return new aa(n,s,c)},ri=aa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:kt("video");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onloadeddata=p(this.fire,this,"load"),n){for(var c=s.getElementsByTagName("source"),m=[],v=0;v<c.length;v++)m.push(c[v].src);this._url=c.length>0?m:[s.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var A=kt("source");A.src=this._url[S],s.appendChild(A)}}});function sa(n,s,c){return new ri(n,s,c)}var Is=aa.extend({_initImage:function(){var n=this._image=this._url;xt(n,"leaflet-image-layer"),this._zoomAnimated&&xt(n,"leaflet-zoom-animated"),this.options.className&&xt(n,this.options.className),n.onselectstart=R,n.onmousemove=R}});function xl(n,s,c){return new Is(n,s,c)}var ke=_n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof ot||$(n))?(this._latlng=rt(n),B(this,s)):(B(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ae(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ae(this._container,0),this._removeTimeout=setTimeout(p(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=rt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ae(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof On){s=null;var c=this._source._layers;for(var m in c)if(c[m]._map){s=c[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=st(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ft(this._container,n.add(c)):s=s.add(n).add(c);var m=this._containerBottom=-s.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(n,s,c,m){var v=s;return v instanceof n||(v=new n(m).setContent(s)),c&&v.setLatLng(c),v}}),_n.include({_initOverlay:function(n,s,c,m){var v=c;return v instanceof n?(B(v,m),v._source=this):(v=s&&!m?s:new n(m,this),v.setContent(c)),v}});var es=ke.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ke.prototype.openOn.call(this,n)},onAdd:function(n){ke.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Nn||this._source.on("preclick",mn))},onRemove:function(n){ke.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Nn||this._source.off("preclick",mn))},getEvents:function(){var n=ke.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=kt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=kt("div",n+"-content-wrapper",s);if(this._contentNode=kt("div",n+"-content",c),Ti(s),En(this._contentNode),wt(s,"contextmenu",mn),this._tipContainer=kt("div",n+"-tip-container",s),this._tip=kt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=kt("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',wt(m,"click",function(v){ue(v),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,v=this.options.maxHeight,S="leaflet-popup-scrolled";v&&m>v?(s.height=v+"px",xt(n,S)):re(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();Ft(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(Pa(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,m=this._containerWidth,v=new W(this._containerLeft,-c-this._containerBottom);v._add(ei(this._container));var S=n.layerPointToContainerPoint(v),A=st(this.options.autoPanPadding),D=st(this.options.autoPanPaddingTopLeft||A),H=st(this.options.autoPanPaddingBottomRight||A),X=n.getSize(),it=0,_t=0;S.x+m+H.x>X.x&&(it=S.x+m-X.x+H.x),S.x-it-D.x<0&&(it=S.x-D.x),S.y+c+H.y>X.y&&(_t=S.y+c-X.y+H.y),S.y-_t-D.y<0&&(_t=S.y-D.y),(it||_t)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([it,_t]))}},_getAnchor:function(){return st(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),El=function(n,s){return new es(n,s)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(n,s,c){return this._initOverlay(es,n,s,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),_n.include({bindPopup:function(n,s){return this._popup=this._initOverlay(es,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof On||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ni(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Nn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ns=ke.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ke.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ke.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ke.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,c,m=this._map,v=this._container,S=m.latLngToContainerPoint(m.getCenter()),A=m.layerPointToContainerPoint(n),D=this.options.direction,H=v.offsetWidth,X=v.offsetHeight,it=st(this.options.offset),_t=this._getAnchor();D==="top"?(s=H/2,c=X):D==="bottom"?(s=H/2,c=0):D==="center"?(s=H/2,c=X/2):D==="right"?(s=0,c=X/2):D==="left"?(s=H,c=X/2):A.x<S.x?(D="right",s=0,c=X/2):(D="left",s=H+(it.x+_t.x)*2,c=X/2),n=n.subtract(st(s,c,!0)).add(it).add(_t),re(v,"leaflet-tooltip-right"),re(v,"leaflet-tooltip-left"),re(v,"leaflet-tooltip-top"),re(v,"leaflet-tooltip-bottom"),xt(v,"leaflet-tooltip-"+D),Ft(v,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ae(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return st(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ic=function(n,s){return new ns(n,s)};Bt.include({openTooltip:function(n,s,c){return this._initOverlay(ns,n,s,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),_n.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ns,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof On||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(wt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),wt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Al=Cn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(We(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=st(c.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function ac(n){return new Al(n)}Cn.Default=Xa;var ra=_n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){B(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Xt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof W?n:new W(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,c=-n(-1/0,1/0),m=0,v=s.length,S;m<v;m++)S=s[m].style.zIndex,s[m]!==this._container&&S&&(c=n(c,+S));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ft.ielt9){ae(this._container,this.options.opacity);var n=+new Date,s=!1,c=!1;for(var m in this._tiles){var v=this._tiles[m];if(!(!v.current||!v.loaded)){var S=Math.min(1,(n-v.loaded)/200);ae(v.el,S),S<1?s=!0:(v.active?c=!0:this._onOpaqueTile(v),v.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(Ot(this._fadeFrame),this._fadeFrame=Tt(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=s-Math.abs(n-c),this._onUpdateLevel(c)):(Xt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],v=this._map;return m||(m=this._levels[n]={},m.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=v.project(v.unproject(v.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,v.getCenter(),v.getZoom()),R(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var n,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Xt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,c,m){var v=Math.floor(n/2),S=Math.floor(s/2),A=c-1,D=new W(+v,+S);D.z=+A;var H=this._tileCoordsToKey(D),X=this._tiles[H];return X&&X.active?(X.retain=!0,!0):(X&&X.loaded&&(X.retain=!0),A>m?this._retainParent(v,S,A,m):!1)},_retainChildren:function(n,s,c,m){for(var v=2*n;v<2*n+2;v++)for(var S=2*s;S<2*s+2;S++){var A=new W(v,S);A.z=c+1;var D=this._tileCoordsToKey(A),H=this._tiles[D];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);c+1<m&&this._retainChildren(v,S,c+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,c,m){var v=Math.round(s);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var S=this.options.updateWhenZooming&&v!==this._tileZoom;(!m||S)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,s)},_setZoomTransform:function(n,s,c){var m=this._map.getZoomScale(c,n.zoom),v=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,c)).round();ft.any3d?Un(n.el,v,m):Ft(n.el,v)},_resetGrid:function(){var n=this._map,s=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(c,this._tileZoom),v=s.project(n,this._tileZoom).floor(),S=s.getSize().divideBy(m*2);return new N(v.subtract(S),v.add(S))},_update:function(n){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),v=this._pxBoundsToTileRange(m),S=v.getCenter(),A=[],D=this.options.keepBuffer,H=new N(v.getBottomLeft().subtract([D,-D]),v.getTopRight().add([D,-D]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var X in this._tiles){var it=this._tiles[X].coords;(it.z!==this._tileZoom||!H.contains(new W(it.x,it.y)))&&(this._tiles[X].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var _t=v.min.y;_t<=v.max.y;_t++)for(var Lt=v.min.x;Lt<=v.max.x;Lt++){var Oe=new W(Lt,_t);if(Oe.z=this._tileZoom,!!this._isValidTile(Oe)){var ce=this._tiles[this._tileCoordsToKey(Oe)];ce?ce.current=!0:A.push(Oe)}}if(A.sort(function(qt,Zt){return qt.distanceTo(S)-Zt.distanceTo(S)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xe=document.createDocumentFragment();for(Lt=0;Lt<A.length;Lt++)this._addTile(A[Lt],Xe);this._level.el.appendChild(Xe)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!s.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return et(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,c=this.getTileSize(),m=n.scaleBy(c),v=m.add(c),S=s.unproject(m,n.z),A=s.unproject(v,n.z);return[S,A]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),c=new F(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),c=new W(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(n){var s=this._tiles[n];s&&(Xt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){xt(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=R,n.onmousemove=R,ft.ielt9&&this.options.opacity<1&&ae(n,this.options.opacity)},_addTile:function(n,s){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),v=this.createTile(this._wrapCoords(n),p(this._tileReady,this,n));this._initTile(v),this.createTile.length<2&&Tt(p(this._tileReady,this,n,null,v)),Ft(v,c),this._tiles[m]={el:v,coords:n,current:!0},s.appendChild(v),this.fire("tileloadstart",{tile:v,coords:n})},_tileReady:function(n,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ae(c.el,0),Ot(this._fadeFrame),this._fadeFrame=Tt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(xt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ft.ielt9||!this._map._fadeAnimated?Tt(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new W(this._wrapX?O(n.x,this._wrapX):n.x,this._wrapY?O(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new N(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ol(n){return new ra(n)}var oi=ra.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=B(this,s),s.detectRetina&&ft.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var c=document.createElement("img");return wt(c,"load",p(this._tileOnLoad,this,s,c)),wt(c,"error",p(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var s={r:ft.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=c),s["-y"]=c}return tt(this._url,f(s,this.options))},_tileOnLoad:function(n,s){ft.ielt9?setTimeout(p(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,c){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(c,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=R,s.onerror=R,!s.complete)){s.src=at;var c=this._tiles[n].coords;Xt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",at),ra.prototype._removeTile.call(this,n)},_tileReady:function(n,s,c){if(!(!this._map||c&&c.getAttribute("src")===at))return ra.prototype._tileReady.call(this,n,s,c)}});function en(n,s){return new oi(n,s)}var is=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var c=f({},this.defaultWmsParams);for(var m in s)m in this.options||(c[m]=s[m]);s=B(this,s);var v=s.detectRetina&&ft.retina?2:1,S=this.getTileSize();c.width=S.x*v,c.height=S.y*v,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,oi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),c=this._crs,m=G(c.project(s[0]),c.project(s[1])),v=m.min,S=m.max,A=(this._wmsVersion>=1.3&&this._crs===Xr?[v.y,v.x,S.y,S.x]:[v.x,v.y,S.x,S.y]).join(","),D=oi.prototype.getTileUrl.call(this,n);return D+Y(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(n,s){return f(this.wmsParams,n),s||this.redraw(),this}});function nn(n,s){return new is(n,s)}oi.WMS=is,en.wms=nn;var Ze=_n.extend({options:{padding:.1},initialize:function(n){B(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var c=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,s),S=m.multiplyBy(-c).add(v).subtract(this._map._getNewPixelOrigin(n,s));ft.any3d?Un(this._container,S,c):Ft(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new N(c,c.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gs=Ze.extend({options:{tolerance:0},getEvents:function(){var n=Ze.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ze.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");wt(n,"mousemove",this._onMouseMove,this),wt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),wt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Ot(this._redrawRequest),delete this._ctx,Xt(this._container),Kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ze.prototype._update.call(this);var n=this._bounds,s=this._container,c=n.getSize(),m=ft.retina?2:1;Ft(s,n.min),s.width=m*c.x,s.height=m*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ze.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,c=s.next,m=s.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),c=[],m,v;for(v=0;v<s.length;v++){if(m=Number(s[v]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Tt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var c,m,v,S,A=n._parts,D=A.length,H=this._ctx;if(D){for(H.beginPath(),c=0;c<D;c++){for(m=0,v=A[c].length;m<v;m++)S=A[c][m],H[m?"lineTo":"moveTo"](S.x,S.y);s&&H.closePath()}this._fillStroke(H,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),v=(Math.max(Math.round(n._radiusY),1)||m)/m;v!==1&&(c.save(),c.scale(1,v)),c.beginPath(),c.arc(s.x,s.y/v,m,0,Math.PI*2,!1),v!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,s){var c=s.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),c,m,v=this._drawFirst;v;v=v.next)c=v.layer,c.options.interactive&&c._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(re(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var c,m,v=this._drawFirst;v;v=v.next)c=v.layer,c.options.interactive&&c._containsPoint(s)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(xt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,c){this._map._fireDOMEvent(s,c||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function as(n){return ft.canvas?new Gs(n):null}var li=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Jr={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ze.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=li("shape");xt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=li("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Xt(s),n.removeInteractiveTarget(s),delete this._layers[y(n)]},_updateStyle:function(n){var s=n._stroke,c=n._fill,m=n.options,v=n._container;v.stroked=!!m.stroke,v.filled=!!m.fill,m.stroke?(s||(s=n._stroke=li("stroke")),v.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=$(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(v.removeChild(s),n._stroke=null),m.fill?(c||(c=n._fill=li("fill")),v.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(v.removeChild(c),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Ae(n._container)},_bringToBack:function(n){wi(n._container)}},Rn=ft.vml?li:hn,oa=Ze.extend({_initContainer:function(){this._container=Rn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Rn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),Kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ze.prototype._update.call(this);var n=this._bounds,s=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),Ft(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Rn("path");n.options.className&&xt(s,n.options.className),n.options.interactive&&xt(s,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Xt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,c=n.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Tn(n._parts,s))},_updateCircle:function(n){var s=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,v="a"+c+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(s.x-c)+","+s.y+v+c*2+",0 "+v+-c*2+",0 ";this._setPath(n,S)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Ae(n._path)},_bringToBack:function(n){wi(n._path)}});ft.vml&&oa.include(Jr);function ss(n){return ft.svg||ft.vml?new oa(n):null}Bt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&as(n)||ss(n)}});var Ei=na.extend({initialize:function(n,s){na.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=et(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function sc(n,s){return new Ei(n,s)}oa.create=Rn,oa.pointsToPath=Tn,Zn.geometryToLayer=je,Zn.coordsToLatLng=Ps,Zn.coordsToLatLngs=Wa,Zn.latLngToCoords=Hs,Zn.latLngsToCoords=Fa,Zn.getFeature=ai,Zn.asFeature=qs,Bt.mergeOptions({boxZoom:!0});var Ie=An.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yi(),Rs(),this._startPoint=this._map.mouseEventToContainerPoint(n),wt(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new N(this._point,this._startPoint),c=s.getSize();Ft(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Xt(this._box),re(this._container,"leaflet-crosshair")),xn(),qa(),Kt(document,{contextmenu:ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var s=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",Ie),Bt.mergeOptions({doubleClickZoom:!0});var Vs=An.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,c=s.getZoom(),m=s.options.zoomDelta,v=n.originalEvent.shiftKey?c-m:c+m;s.options.doubleClickZoom==="center"?s.setZoom(v):s.setZoomAround(n.containerPoint,v)}});Bt.addInitHook("addHandler","doubleClickZoom",Vs),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ln=An.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new ii(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){re(this._map._container,"leaflet-grab"),re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=et(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,v=(m-s+c)%n+s-c,S=(m+s+c)%n-s-c,A=Math.abs(v+c)<Math.abs(S+c)?v:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(n){var s=this._map,c=s.options,m=!c.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,A=c.easeLinearity,D=v.multiplyBy(A/S),H=D.distanceTo([0,0]),X=Math.min(c.inertiaMaxSpeed,H),it=D.multiplyBy(X/H),_t=X/(c.inertiaDeceleration*A),Lt=it.multiplyBy(-_t/2).round();!Lt.x&&!Lt.y?s.fire("moveend"):(Lt=s._limitOffset(Lt,s.options.maxBounds),Tt(function(){s.panBy(Lt,{duration:_t,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",Ln),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qr=An.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),wt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,c=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},c=this.keyCodes,m,v;for(m=0,v=c.left.length;m<v;m++)s[c.left[m]]=[-1*n,0];for(m=0,v=c.right.length;m<v;m++)s[c.right[m]]=[n,0];for(m=0,v=c.down.length;m<v;m++)s[c.down[m]]=[0,n];for(m=0,v=c.up.length;m<v;m++)s[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},c=this.keyCodes,m,v;for(m=0,v=c.zoomIn.length;m<v;m++)s[c.zoomIn[m]]=n;for(m=0,v=c.zoomOut.length;m<v;m++)s[c.zoomOut[m]]=-n},_addHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,c=this._map,m;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=st(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(st(m),c.options.maxBounds)),c.options.worldCopyJump){var v=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(v)}else c.panBy(m)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;ni(n)}}});Bt.addInitHook("addHandler","keyboard",Qr),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rs=An.extend({addHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=De(n),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),ni(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=c?Math.ceil(v/c)*c:v,A=n._limitZoom(s+(this._delta>0?S:-S))-s;this._delta=0,this._startTime=null,A&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+A):n.setZoomAround(this._lastMousePos,s+A))}});Bt.addInitHook("addHandler","scrollWheelZoom",rs);var Ai=600;Bt.mergeOptions({tapHold:ft.touchNative&&ft.safari&&ft.mobile,tapTolerance:15});var Ks=An.extend({addHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new W(s.clientX,s.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(wt(document,"touchend",ue),wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Ai),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Kt(document,"touchend",ue),Kt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new W(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});Bt.addInitHook("addHandler","tapHold",Ks),Bt.mergeOptions({touchZoom:ft.touch,bounceAtZoomLimits:!0});var Wr=An.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){re(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),ue(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),v=c.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(v,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&v<1||this._zoom>s.getMaxZoom()&&v>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var S=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(v===1&&S.x===0&&S.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Ot(this._animRequest);var A=p(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Tt(A,this,!0),ue(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ot(this._animRequest),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",Wr),Bt.BoxZoom=Ie,Bt.DoubleClickZoom=Vs,Bt.Drag=Ln,Bt.Keyboard=Qr,Bt.ScrollWheelZoom=rs,Bt.TapHold=Ks,Bt.TouchZoom=Wr,l.Bounds=N,l.Browser=ft,l.CRS=Rt,l.Canvas=Gs,l.Circle=Us,l.CircleMarker=ea,l.Class=me,l.Control=$e,l.DivIcon=Al,l.DivOverlay=ke,l.DomEvent=ks,l.DomUtil=Ji,l.Draggable=ii,l.Evented=nt,l.FeatureGroup=On,l.GeoJSON=Zn,l.GridLayer=ra,l.Handler=An,l.Icon=Cn,l.ImageOverlay=aa,l.LatLng=ot,l.LatLngBounds=F,l.Layer=_n,l.LayerGroup=ta,l.LineUtil=Fu,l.Map=Bt,l.Marker=Qa,l.Mixin=Xu,l.Path=Nn,l.Point=W,l.PolyUtil=Yr,l.Polygon=na,l.Polyline=qn,l.Popup=es,l.PosAnimation=Qi,l.Projection=vl,l.Rectangle=Ei,l.Renderer=Ze,l.SVG=oa,l.SVGOverlay=Is,l.TileLayer=oi,l.Tooltip=ns,l.Transformation=mi,l.Util=Ee,l.VideoOverlay=ri,l.bind=p,l.bounds=G,l.canvas=as,l.circle=Sl,l.circleMarker=wl,l.control=Hn,l.divIcon=ac,l.extend=f,l.featureGroup=yl,l.geoJSON=Zs,l.geoJson=ts,l.gridLayer=Ol,l.icon=$a,l.imageOverlay=Tl,l.latLng=rt,l.latLngBounds=et,l.layerGroup=tc,l.map=qr,l.marker=bl,l.point=st,l.polygon=nc,l.polyline=ec,l.popup=El,l.rectangle=sc,l.setOptions=B,l.stamp=y,l.svg=ss,l.svgOverlay=xl,l.tileLayer=en,l.tooltip=ic,l.transformation=Qn,l.version=u,l.videoOverlay=sa;var Fr=window.L;l.noConflict=function(){return window.L=Fr,this},window.L=l}))})(Uo,Uo.exports)),Uo.exports}var D0=M0();const B0=Tv(D0),U0=()=>new Promise(o=>{setTimeout(()=>{o(B0)},100)}),P0=()=>{const{bars:o,setSelectedBar:a,favorites:l,setFavorites:u}=cn(),f=Nt.useRef(null),_=Nt.useRef(null),[p,b]=Nt.useState(!1),[y,T]=Nt.useState(null),O=[27.7731,-82.64];Nt.useEffect(()=>{if(!f.current||p)return;let E=null;return(async()=>{try{const B=await U0();if(!f.current)return;E=B.map(f.current,{center:O,zoom:13,zoomControl:!0,attributionControl:!0}),B.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(E),o.forEach(Y=>{const Q=k0(Y.slug,Y.city),tt=l.includes(Y.id),$=B.circleMarker([Q.lat,Q.lng],{radius:tt?14:10,fillColor:tt?"#c45a47":"#888",color:"#fff",weight:2,opacity:1,fillOpacity:.9}).addTo(E);$.bindPopup(`
            <div style="text-align: center; min-width: 150px; padding: 8px;">
              <strong>${Y.name}</strong><br/>
              <span style="color: #888;">${Y.city||"St. Pete"}</span><br/>
              <button 
                id="fav-${Y.id}"
                style="
                  margin-top: 8px;
                  padding: 6px 12px;
                  background: ${tt?"#c45a47":"#f0f0f0"};
                  color: ${tt?"#fff":"#333"};
                  border: none;
                  border-radius: 6px;
                  cursor: pointer;
                  font-size: 12px;
                  -webkit-tap-highlight-color: transparent;
                "
              >
                ${tt?" Following":" Follow"}
              </button>
            </div>
          `),$.on("popupopen",()=>{setTimeout(()=>{const ct=document.getElementById(`fav-${Y.id}`);ct&&ct.addEventListener("click",()=>R(Y.id),{once:!0})},100)})}),_.current=E,b(!0)}catch(B){console.error("Error initializing map:",B)}})(),()=>{E&&(E.remove(),E=null)}},[o,p]);const R=E=>{const k=l.includes(E)?l.filter(Y=>Y!==E):[...l,E];u(k),localStorage.setItem("favoriteBars",JSON.stringify(k));const B=o.find(Y=>Y.id===E);xe("Toggle Favorite",{bar_name:B?.name||"Unknown",action:k.includes(E)?"add":"remove"})},z=E=>{T(E.id),a(E),xe("Map: Bar Selected",{bar_name:E.name})};return w.jsxs("div",{className:"map-container map-full-width",children:[w.jsxs("div",{className:"map-sidebar",children:[w.jsx("h3",{style:{marginBottom:"1rem",fontFamily:"Playfair Display"},children:l.length>0?"Your Favorites":"All Bars"}),l.length===0&&w.jsx("p",{style:{fontSize:"0.875rem",color:"#888",marginBottom:"1rem"},children:"Tap bars on the map to follow them and see their events & deals here."}),w.jsx("div",{className:"bar-list",children:(l.length>0?o.filter(E=>l.includes(E.id)):o).map(E=>w.jsx("div",{className:`bar-card-mini ${y===E.id?"selected":""}`,onClick:()=>z(E),style:{cursor:"pointer"},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("div",{children:[w.jsx("h4",{style:{fontFamily:"Playfair Display",fontWeight:600,marginBottom:"0.25rem"},children:E.name}),w.jsx("p",{style:{fontSize:"0.8125rem",color:"#888"},children:E.city||"St. Pete"})]}),w.jsx("button",{onClick:k=>{k.stopPropagation(),R(E.id)},style:{background:"none",border:"none",fontSize:"1.25rem",cursor:"pointer",color:l.includes(E.id)?"#c45a47":"#ccc",padding:"0.25rem",WebkitTapHighlightColor:"transparent"},children:l.includes(E.id)?"":""})]})},E.id))})]}),w.jsx("div",{ref:f,className:"map-expand",style:{minHeight:"400px"}})]})},H0=({event:o,bar:a,onClick:l})=>{const u=rp(o),f=b0(o);return w.jsxs("div",{className:`feed-card event-card ${u?"has-live-badge":""}`,onClick:l,children:[u&&w.jsx("span",{className:"badge badge-live",children:" LIVE NOW"}),w.jsxs("div",{className:"feed-card-header",children:[w.jsx("span",{className:"feed-card-icon",children:o.event_categories?.icon||""}),w.jsxs("div",{className:"feed-card-title",children:[w.jsx("h4",{children:o.name}),w.jsx("span",{className:"feed-card-subtitle",children:a?.name||"Unknown Bar"})]})]}),w.jsxs("div",{className:"feed-card-details",children:[o.description&&w.jsx("p",{className:"feed-card-description",children:o.description}),w.jsxs("div",{className:"feed-card-meta",children:[o.start_time&&w.jsxs("span",{className:"meta-item",children:[" ",Xo(o.start_time,o.end_time)]}),a?.city&&w.jsxs("span",{className:"meta-item",children:[" ",a.city]}),f&&!u&&w.jsx("span",{className:"meta-item meta-time-until",children:f})]})]})]})},q0=({bar:o,barHours:a,onClick:l,eventCount:u,dealCount:f})=>{const _=a.filter(y=>y.bar_id===o.id),{isOpen:p,message:b}=S0(_);return w.jsxs("div",{className:"feed-card bar-card",onClick:l,children:[w.jsxs("div",{className:"feed-card-header",children:[w.jsx("span",{className:"feed-card-icon",children:""}),w.jsxs("div",{className:"feed-card-title",children:[w.jsx("h4",{children:o.name}),w.jsx("span",{className:"feed-card-subtitle",children:o.city})]}),w.jsx("span",{className:`badge badge-status ${p?"open":"closed"}`,children:p?" OPEN":" CLOSED"})]}),w.jsxs("div",{className:"feed-card-details",children:[o.description&&w.jsx("p",{className:"feed-card-description",children:o.description}),w.jsxs("div",{className:"feed-card-meta",children:[w.jsxs("span",{className:"meta-item",children:[" ",b]}),o.address_line1&&w.jsxs("span",{className:"meta-item",children:[" ",o.address_line1]}),(u!==void 0||f!==void 0)&&w.jsxs("span",{className:"meta-item meta-highlight",children:[u?`${u} events`:"",u&&f?"  ":"",f?`${f} deals`:""]})]})]}),w.jsxs("div",{className:"feed-card-actions",children:[o.website_url&&w.jsx("a",{href:o.website_url,target:"_blank",rel:"noopener noreferrer",className:"btn-action btn-sm",onClick:y=>y.stopPropagation(),children:" Website"}),o.phone&&w.jsx("a",{href:`tel:${o.phone}`,className:"btn-action btn-sm",onClick:y=>y.stopPropagation(),children:" Call"})]})]})},Z0=({deal:o,bar:a,onClick:l})=>{const u=()=>!o.is_recurring||!o.recurrence_days?"Limited time":o.recurrence_days.map(_=>xs[_].slice(0,3)).join(", "),f=()=>Xo(o.valid_start_time,o.valid_end_time);return w.jsxs("div",{className:"feed-card deal-card",onClick:l,children:[w.jsx("span",{className:"badge badge-deal",children:" DEAL"}),w.jsxs("div",{className:"feed-card-header",children:[w.jsx("span",{className:"feed-card-icon",children:""}),w.jsxs("div",{className:"feed-card-title",children:[w.jsx("h4",{children:o.name}),w.jsx("span",{className:"feed-card-subtitle",children:a?.name||"Unknown Bar"})]})]}),w.jsxs("div",{className:"feed-card-details",children:[o.description&&w.jsx("p",{className:"feed-card-description",children:o.description}),w.jsxs("div",{className:"feed-card-meta",children:[w.jsxs("span",{className:"meta-item",children:[" ",u()]}),w.jsxs("span",{className:"meta-item",children:[" ",f()]}),a?.city&&w.jsxs("span",{className:"meta-item",children:[" ",a.city]})]})]})]})},I0=()=>{const{events:o,bars:a,deals:l,barHours:u,searchQuery:f,setSelectedEvent:_,setSelectedDeal:p,setSelectedBar:b,categoryFilter:y,locationFilter:T,favorites:O,showFavoritesOnly:R}=cn(),[z,E]=Nt.useState(10),k=Nt.useMemo(()=>{const at=[],ut=!y.includes("Deals")||y.includes("All"),lt=y.includes("All")||y.includes("Deals");return(ut||y.some(gt=>gt!=="Deals"&&gt!=="All"))&&o.forEach(gt=>{const At=a.find(Ee=>Ee.id===gt.bar_id);if(R&&!O.includes(gt.bar_id))return;const Re=f===""||gt.name.toLowerCase().includes(f.toLowerCase())||(At?.name.toLowerCase().includes(f.toLowerCase())??!1),Tt=y.includes("All")||gt.event_category_id&&y.includes(gt.event_category_id),Ot=T.includes("All")||At?.city&&T.includes(At.city);if(Re&&Tt&&Ot){const Ee=Yo(gt);at.push({type:"event",data:{...gt,bar:At},sortTime:Ee?.getTime()||0})}}),lt&&l.forEach(gt=>{const At=a.find(Ot=>Ot.id===gt.bar_id);if(R&&!O.includes(gt.bar_id))return;const Re=f===""||gt.name.toLowerCase().includes(f.toLowerCase())||(At?.name.toLowerCase().includes(f.toLowerCase())??!1),Tt=T.includes("All")||At?.city&&T.includes(At.city);if(Re&&Tt){const Ot=E0(gt);at.push({type:"deal",data:{...gt,bar:At},sortTime:Ot?.getTime()||Date.now()})}}),at.sort((gt,At)=>gt.sortTime-At.sortTime)},[o,a,l,f,y,T,O,R]),B=Nt.useMemo(()=>{const at=[],ut=[],lt=[],gt=[],At=[],Re=[];return k.forEach(Tt=>{if(Tt.type==="bar")Re.push(Tt);else if(Tt.type==="event"){const Ot=Tt.data;if(rp(Ot))at.push(Tt);else if(y0(Ot))ut.push(Tt);else{const Ee=Yo(Ot);Ee&&(H_(Ee)?lt.push(Tt):q_(Ee)?gt.push(Tt):At.push(Tt))}}else if(Tt.type==="deal"){const Ot=new Date(Tt.sortTime);H_(Ot)?lt.push(Tt):q_(Ot)?gt.push(Tt):At.push(Tt)}}),{happeningNow:at,startingSoon:ut,laterToday:lt,tomorrow:gt,thisWeek:At,barsSection:Re}},[k]),Y=at=>at.type==="event"?w.jsx(H0,{event:at.data,bar:at.data.bar,onClick:()=>_(at.data)},at.data.id):at.type==="bar"?w.jsx(q0,{bar:at.data,barHours:u.filter(ut=>ut.bar_id===at.data.id),onClick:()=>b(at.data)},at.data.id):at.type==="deal"?w.jsx(Z0,{deal:at.data,bar:at.data.bar,onClick:()=>p(at.data)},at.data.id):null,tt=B.happeningNow.length+B.startingSoon.length+B.laterToday.length+B.tomorrow.length+B.thisWeek.length>z,$=Nt.useMemo(()=>{let at=z;const ut={happeningNow:B.happeningNow.slice(0,at),startingSoon:[],laterToday:[],tomorrow:[],thisWeek:[]};return at-=ut.happeningNow.length,at>0&&(ut.startingSoon=B.startingSoon.slice(0,at),at-=ut.startingSoon.length),at>0&&(ut.laterToday=B.laterToday.slice(0,at),at-=ut.laterToday.length),at>0&&(ut.tomorrow=B.tomorrow.slice(0,at),at-=ut.tomorrow.length),at>0&&(ut.thisWeek=B.thisWeek.slice(0,at)),ut},[B,z]);return Object.values(B).some(at=>at.length>0)?w.jsxs("div",{className:"unified-feed",children:[$.happeningNow.length>0&&w.jsx("div",{className:"feed-section",children:w.jsx("div",{className:"feed-section-content",children:$.happeningNow.map(Y)})}),$.startingSoon.length>0&&w.jsxs("div",{className:"feed-section",children:[w.jsxs("h2",{className:"feed-section-title",children:[w.jsx("span",{className:"title-icon",children:""}),"Starting Soon (Next 2 Hours)"]}),w.jsx("div",{className:"feed-section-content",children:$.startingSoon.map(Y)})]}),$.laterToday.length>0&&w.jsxs("div",{className:"feed-section",children:[w.jsxs("h2",{className:"feed-section-title",children:[w.jsx("span",{className:"title-icon",children:""}),"Later Today"]}),w.jsx("div",{className:"feed-section-content",children:$.laterToday.map(Y)})]}),$.tomorrow.length>0&&w.jsxs("div",{className:"feed-section",children:[w.jsxs("h2",{className:"feed-section-title",children:[w.jsx("span",{className:"title-icon",children:""}),"Tomorrow"]}),w.jsx("div",{className:"feed-section-content",children:$.tomorrow.map(Y)})]}),$.thisWeek.length>0&&w.jsxs("div",{className:"feed-section",children:[w.jsxs("h2",{className:"feed-section-title",children:[w.jsx("span",{className:"title-icon",children:""}),"This Week"]}),w.jsx("div",{className:"feed-section-content",children:$.thisWeek.map(Y)})]}),tt&&w.jsx("div",{className:"feed-show-more",children:w.jsx("button",{className:"btn-secondary btn-full",onClick:()=>E(at=>at+10),children:"Show More"})})]}):w.jsx(Bu,{icon:"",message:"No events, bars, or deals found"})},G0=()=>{const{loading:o,error:a,viewMode:l,activeTab:u,setShowForBarsModal:f,categories:_,bars:p,categoryFilter:b,setCategoryFilter:y,locationFilter:T,setLocationFilter:O}=cn();if(o)return w.jsxs("div",{className:"app",children:[w.jsx(Xh,{}),w.jsx("main",{className:"main",children:w.jsx(f0,{})})]});if(a)return w.jsxs("div",{className:"app",children:[w.jsx(Xh,{}),w.jsx("main",{className:"main",children:w.jsxs("div",{className:"empty-state",children:[w.jsx("span",{children:""}),w.jsx("p",{children:"Error loading data. Please refresh."})]})})]});const R=[{label:"All",value:"All"},{label:"Deals",value:"Deals",icon:""},..._.map(E=>({label:E.name,value:E.id,icon:E.icon||void 0}))],z=[{label:"All Locations",value:"All"},...Array.from(new Set(p.map(E=>E.city))).map(E=>({label:E,value:E}))];return w.jsxs("div",{className:"app",children:[w.jsx(Xh,{}),w.jsx(h0,{}),w.jsx(d0,{}),w.jsxs("div",{className:"filters-wrapper",children:[w.jsx("div",{className:"filter-row",children:w.jsx(P_,{chips:R,activeValue:b,onChange:E=>y(Array.isArray(E)?E:[E]),multiSelect:!0})}),w.jsx("div",{className:"filter-row",children:w.jsx(P_,{chips:z,activeValue:T,onChange:E=>O(Array.isArray(E)?E:[E]),multiSelect:!0})})]}),w.jsx("main",{className:"main",children:l==="map"?w.jsx(P0,{}):l==="unified"?w.jsx(I0,{}):w.jsxs(w.Fragment,{children:[u==="events"&&w.jsx(R0,{}),u==="bars"&&w.jsx(L0,{}),u==="deals"&&w.jsx(j0,{})]})}),w.jsx(m0,{}),w.jsxs("footer",{className:"footer",children:[w.jsx("p",{children:"Bula Board  St. Pete"}),w.jsx("div",{className:"footer-links",children:w.jsx("a",{href:"#",onClick:E=>{E.preventDefault(),f(!0)},children:"For Bars"})})]}),w.jsx(_0,{}),w.jsx(p0,{}),w.jsx(A0,{}),w.jsx(O0,{}),w.jsx(C0,{}),w.jsx(N0,{})]})};function V0(){return w.jsx(c0,{children:w.jsx(G0,{})})}kv.createRoot(document.getElementById("root")).render(w.jsx(Nt.StrictMode,{children:w.jsx(V0,{})}));
