(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const _ of f)if(_.type==="childList")for(const p of _.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function o(f){const _={};return f.integrity&&(_.integrity=f.integrity),f.referrerPolicy&&(_.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?_.credentials="include":f.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function u(f){if(f.ep)return;f.ep=!0;const _=o(f);fetch(f.href,_)}})();function xv(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Dh={exports:{}},ko={};var r_;function Av(){if(r_)return ko;r_=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(u,f,_){var p=null;if(_!==void 0&&(p=""+_),f.key!==void 0&&(p=""+f.key),"key"in f){_={};for(var b in f)b!=="key"&&(_[b]=f[b])}else _=f;return f=_.ref,{$$typeof:l,type:u,key:p,ref:f!==void 0?f:null,props:_}}return ko.Fragment=a,ko.jsx=o,ko.jsxs=o,ko}var o_;function Ov(){return o_||(o_=1,Dh.exports=Av()),Dh.exports}var S=Ov(),Bh={exports:{}},Tt={};var l_;function Cv(){if(l_)return Tt;l_=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,J={};function Q(N,V,F){this.props=N,this.context=V,this.refs=J,this.updater=F||k}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function it(){}it.prototype=Q.prototype;function Z(N,V,F){this.props=N,this.context=V,this.refs=J,this.updater=F||k}var at=Z.prototype=new it;at.constructor=Z,q(at,Q.prototype),at.isPureReactComponent=!0;var Et=Array.isArray;function ut(){}var st={H:null,A:null,T:null,S:null},Rt=Object.prototype.hasOwnProperty;function wt(N,V,F){var tt=F.ref;return{$$typeof:l,type:N,key:V,ref:tt!==void 0?tt:null,props:F}}function re(N,V){return wt(N.type,V,N.props)}function Ut(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function Kt(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(F){return V[F]})}var zn=/\/+/g;function _e(N,V){return typeof N=="object"&&N!==null&&N.key!=null?Kt(""+N.key):V.toString(36)}function Ge(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ut,ut):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,V,F,tt,lt){var ot=typeof N;(ot==="undefined"||ot==="boolean")&&(N=null);var At=!1;if(N===null)At=!0;else switch(ot){case"bigint":case"string":case"number":At=!0;break;case"object":switch(N.$$typeof){case l:case a:At=!0;break;case C:return At=N._init,G(At(N._payload),V,F,tt,lt)}}if(At)return lt=lt(N),At=tt===""?"."+_e(N,0):tt,Et(lt)?(F="",At!=null&&(F=At.replace(zn,"$&/")+"/"),G(lt,V,F,"",function(ft){return ft})):lt!=null&&(Ut(lt)&&(lt=re(lt,F+(lt.key==null||N&&N.key===lt.key?"":(""+lt.key).replace(zn,"$&/")+"/")+At)),V.push(lt)),1;At=0;var ie=tt===""?".":tt+":";if(Et(N))for(var ee=0;ee<N.length;ee++)tt=N[ee],ot=ie+_e(tt,ee),At+=G(tt,V,F,ot,lt);else if(ee=A(N),typeof ee=="function")for(N=ee.call(N),ee=0;!(tt=N.next()).done;)tt=tt.value,ot=ie+_e(tt,ee++),At+=G(tt,V,F,ot,lt);else if(ot==="object"){if(typeof N.then=="function")return G(Ge(N),V,F,tt,lt);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return At}function et(N,V,F){if(N==null)return N;var tt=[],lt=0;return G(N,tt,"","",function(ot){return V.call(F,ot,lt++)}),tt}function W(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(F){(N._status===0||N._status===-1)&&(N._status=1,N._result=F)},function(F){(N._status===0||N._status===-1)&&(N._status=2,N._result=F)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var Pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},rt={map:et,forEach:function(N,V,F){et(N,function(){V.apply(this,arguments)},F)},count:function(N){var V=0;return et(N,function(){V++}),V},toArray:function(N){return et(N,function(V){return V})||[]},only:function(N){if(!Ut(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Tt.Activity=R,Tt.Children=rt,Tt.Component=Q,Tt.Fragment=o,Tt.Profiler=f,Tt.PureComponent=Z,Tt.StrictMode=u,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return st.H.useMemoCache(N)}},Tt.cache=function(N){return function(){return N.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(N,V,F){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var tt=q({},N.props),lt=N.key;if(V!=null)for(ot in V.key!==void 0&&(lt=""+V.key),V)!Rt.call(V,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&V.ref===void 0||(tt[ot]=V[ot]);var ot=arguments.length-2;if(ot===1)tt.children=F;else if(1<ot){for(var At=Array(ot),ie=0;ie<ot;ie++)At[ie]=arguments[ie+2];tt.children=At}return wt(N.type,lt,tt)},Tt.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:_,_context:N},N},Tt.createElement=function(N,V,F){var tt,lt={},ot=null;if(V!=null)for(tt in V.key!==void 0&&(ot=""+V.key),V)Rt.call(V,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(lt[tt]=V[tt]);var At=arguments.length-2;if(At===1)lt.children=F;else if(1<At){for(var ie=Array(At),ee=0;ee<At;ee++)ie[ee]=arguments[ee+2];lt.children=ie}if(N&&N.defaultProps)for(tt in At=N.defaultProps,At)lt[tt]===void 0&&(lt[tt]=At[tt]);return wt(N,ot,lt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(N){return{$$typeof:b,render:N}},Tt.isValidElement=Ut,Tt.lazy=function(N){return{$$typeof:C,_payload:{_status:-1,_result:N},_init:W}},Tt.memo=function(N,V){return{$$typeof:T,type:N,compare:V===void 0?null:V}},Tt.startTransition=function(N){var V=st.T,F={};st.T=F;try{var tt=N(),lt=st.S;lt!==null&&lt(F,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(ut,Pt)}catch(ot){Pt(ot)}finally{V!==null&&F.types!==null&&(V.types=F.types),st.T=V}},Tt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Tt.use=function(N){return st.H.use(N)},Tt.useActionState=function(N,V,F){return st.H.useActionState(N,V,F)},Tt.useCallback=function(N,V){return st.H.useCallback(N,V)},Tt.useContext=function(N){return st.H.useContext(N)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(N,V){return st.H.useDeferredValue(N,V)},Tt.useEffect=function(N,V){return st.H.useEffect(N,V)},Tt.useEffectEvent=function(N){return st.H.useEffectEvent(N)},Tt.useId=function(){return st.H.useId()},Tt.useImperativeHandle=function(N,V,F){return st.H.useImperativeHandle(N,V,F)},Tt.useInsertionEffect=function(N,V){return st.H.useInsertionEffect(N,V)},Tt.useLayoutEffect=function(N,V){return st.H.useLayoutEffect(N,V)},Tt.useMemo=function(N,V){return st.H.useMemo(N,V)},Tt.useOptimistic=function(N,V){return st.H.useOptimistic(N,V)},Tt.useReducer=function(N,V,F){return st.H.useReducer(N,V,F)},Tt.useRef=function(N){return st.H.useRef(N)},Tt.useState=function(N){return st.H.useState(N)},Tt.useSyncExternalStore=function(N,V,F){return st.H.useSyncExternalStore(N,V,F)},Tt.useTransition=function(){return st.H.useTransition()},Tt.version="19.2.4",Tt}var u_;function ld(){return u_||(u_=1,Bh.exports=Cv()),Bh.exports}var Nt=ld(),Uh={exports:{}},Mo={},Ph={exports:{}},Hh={};var c_;function Nv(){return c_||(c_=1,(function(l){function a(G,et){var W=G.length;G.push(et);t:for(;0<W;){var Pt=W-1>>>1,rt=G[Pt];if(0<f(rt,et))G[Pt]=et,G[W]=rt,W=Pt;else break t}}function o(G){return G.length===0?null:G[0]}function u(G){if(G.length===0)return null;var et=G[0],W=G.pop();if(W!==et){G[0]=W;t:for(var Pt=0,rt=G.length,N=rt>>>1;Pt<N;){var V=2*(Pt+1)-1,F=G[V],tt=V+1,lt=G[tt];if(0>f(F,W))tt<rt&&0>f(lt,F)?(G[Pt]=lt,G[tt]=W,Pt=tt):(G[Pt]=F,G[V]=W,Pt=V);else if(tt<rt&&0>f(lt,W))G[Pt]=lt,G[tt]=W,Pt=tt;else break t}}return et}function f(G,et){var W=G.sortIndex-et.sortIndex;return W!==0?W:G.id-et.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;l.unstable_now=function(){return _.now()}}else{var p=Date,b=p.now();l.unstable_now=function(){return p.now()-b}}var y=[],T=[],C=1,R=null,M=3,A=!1,k=!1,q=!1,J=!1,Q=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function at(G){for(var et=o(T);et!==null;){if(et.callback===null)u(T);else if(et.startTime<=G)u(T),et.sortIndex=et.expirationTime,a(y,et);else break;et=o(T)}}function Et(G){if(q=!1,at(G),!k)if(o(y)!==null)k=!0,ut||(ut=!0,Kt());else{var et=o(T);et!==null&&Ge(Et,et.startTime-G)}}var ut=!1,st=-1,Rt=5,wt=-1;function re(){return J?!0:!(l.unstable_now()-wt<Rt)}function Ut(){if(J=!1,ut){var G=l.unstable_now();wt=G;var et=!0;try{t:{k=!1,q&&(q=!1,it(st),st=-1),A=!0;var W=M;try{e:{for(at(G),R=o(y);R!==null&&!(R.expirationTime>G&&re());){var Pt=R.callback;if(typeof Pt=="function"){R.callback=null,M=R.priorityLevel;var rt=Pt(R.expirationTime<=G);if(G=l.unstable_now(),typeof rt=="function"){R.callback=rt,at(G),et=!0;break e}R===o(y)&&u(y),at(G)}else u(y);R=o(y)}if(R!==null)et=!0;else{var N=o(T);N!==null&&Ge(Et,N.startTime-G),et=!1}}break t}finally{R=null,M=W,A=!1}et=void 0}}finally{et?Kt():ut=!1}}}var Kt;if(typeof Z=="function")Kt=function(){Z(Ut)};else if(typeof MessageChannel<"u"){var zn=new MessageChannel,_e=zn.port2;zn.port1.onmessage=Ut,Kt=function(){_e.postMessage(null)}}else Kt=function(){Q(Ut,0)};function Ge(G,et){st=Q(function(){G(l.unstable_now())},et)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(G){G.callback=null},l.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<G?Math.floor(1e3/G):5},l.unstable_getCurrentPriorityLevel=function(){return M},l.unstable_next=function(G){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var W=M;M=et;try{return G()}finally{M=W}},l.unstable_requestPaint=function(){J=!0},l.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=M;M=G;try{return et()}finally{M=W}},l.unstable_scheduleCallback=function(G,et,W){var Pt=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Pt+W:Pt):W=Pt,G){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=W+rt,G={id:C++,callback:et,priorityLevel:G,startTime:W,expirationTime:rt,sortIndex:-1},W>Pt?(G.sortIndex=W,a(T,G),o(y)===null&&G===o(T)&&(q?(it(st),st=-1):q=!0,Ge(Et,W-Pt))):(G.sortIndex=rt,a(y,G),k||A||(k=!0,ut||(ut=!0,Kt()))),G},l.unstable_shouldYield=re,l.unstable_wrapCallback=function(G){var et=M;return function(){var W=M;M=et;try{return G.apply(this,arguments)}finally{M=W}}}})(Hh)),Hh}var h_;function Rv(){return h_||(h_=1,Ph.exports=Nv()),Ph.exports}var qh={exports:{}},Ie={};var d_;function Lv(){if(d_)return Ie;d_=1;var l=ld();function a(y){var T="https://react.dev/errors/"+y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)T+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var u={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},f=Symbol.for("react.portal");function _(y,T,C){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:R==null?null:""+R,children:y,containerInfo:T,implementation:C}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,T){if(y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ie.createPortal=function(y,T){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(a(299));return _(y,T,null,C)},Ie.flushSync=function(y){var T=p.T,C=u.p;try{if(p.T=null,u.p=2,y)return y()}finally{p.T=T,u.p=C,u.d.f()}},Ie.preconnect=function(y,T){typeof y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,u.d.C(y,T))},Ie.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},Ie.preinit=function(y,T){if(typeof y=="string"&&T&&typeof T.as=="string"){var C=T.as,R=b(C,T.crossOrigin),M=typeof T.integrity=="string"?T.integrity:void 0,A=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;C==="style"?u.d.S(y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:R,integrity:M,fetchPriority:A}):C==="script"&&u.d.X(y,{crossOrigin:R,integrity:M,fetchPriority:A,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Ie.preinitModule=function(y,T){if(typeof y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var C=b(T.as,T.crossOrigin);u.d.M(y,{crossOrigin:C,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&u.d.M(y)},Ie.preload=function(y,T){if(typeof y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var C=T.as,R=b(C,T.crossOrigin);u.d.L(y,C,{crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Ie.preloadModule=function(y,T){if(typeof y=="string")if(T){var C=b(T.as,T.crossOrigin);u.d.m(y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:C,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else u.d.m(y)},Ie.requestFormReset=function(y){u.d.r(y)},Ie.unstable_batchedUpdates=function(y,T){return y(T)},Ie.useFormState=function(y,T,C){return p.H.useFormState(y,T,C)},Ie.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ie.version="19.2.4",Ie}var f_;function jv(){if(f_)return qh.exports;f_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),qh.exports=Lv(),qh.exports}var m_;function kv(){if(m_)return Mo;m_=1;var l=Rv(),a=ld(),o=jv();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(_(t)!==t)throw Error(u(188))}function T(t){var e=t.alternate;if(!e){if(e=_(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,r=e;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(r=h.return,r!==null){i=r;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return y(h),t;if(d===r)return y(h),e;d=d.sibling}throw Error(u(188))}if(i.return!==r.return)i=h,r=d;else{for(var g=!1,E=h.child;E;){if(E===i){g=!0,i=h,r=d;break}if(E===r){g=!0,r=h,i=d;break}E=E.sibling}if(!g){for(E=d.child;E;){if(E===i){g=!0,i=d,r=h;break}if(E===r){g=!0,r=d,i=h;break}E=E.sibling}if(!g)throw Error(u(189))}}if(i.alternate!==r)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function C(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=C(t),e!==null)return e;t=t.sibling}return null}var R=Object.assign,M=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),wt=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),Ut=Symbol.iterator;function Kt(t){return t===null||typeof t!="object"?null:(t=Ut&&t[Ut]||t["@@iterator"],typeof t=="function"?t:null)}var zn=Symbol.for("react.client.reference");function _e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===zn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case Q:return"Profiler";case J:return"StrictMode";case Et:return"Suspense";case ut:return"SuspenseList";case wt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case Z:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case at:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case st:return e=t.displayName||null,e!==null?e:_e(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return _e(t(e))}catch{}}return null}var Ge=Array.isArray,G=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Pt=[],rt=-1;function N(t){return{current:t}}function V(t){0>rt||(t.current=Pt[rt],Pt[rt]=null,rt--)}function F(t,e){rt++,Pt[rt]=t.current,t.current=e}var tt=N(null),lt=N(null),ot=N(null),At=N(null);function ie(t,e){switch(F(ot,e),F(lt,t),F(tt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Nm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Nm(e),t=Rm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(tt),F(tt,t)}function ee(){V(tt),V(lt),V(ot)}function ft(t){t.memoizedState!==null&&F(At,t);var e=tt.current,i=Rm(e,t.type);e!==i&&(F(lt,t),F(tt,i))}function Ve(t){lt.current===t&&(V(tt),V(lt)),At.current===t&&(V(At),No._currentValue=W)}var Ke,Jn;function fi(t){if(Ke===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Ke=e&&e[1]||"",Jn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+t+Jn}var Ts=!1;function Es(t,e){if(!t||Ts)return"";Ts=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(I){var H=I}Reflect.construct(t,[],X)}else{try{X.call()}catch(I){H=I}t.call(X.prototype)}}else{try{throw Error()}catch(I){H=I}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(I){if(I&&H&&typeof I.stack=="string")return[I.stack,H.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),g=d[0],E=d[1];if(g&&E){var O=g.split(`
`),U=E.split(`
`);for(h=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(r===O.length||h===U.length)for(r=O.length-1,h=U.length-1;1<=r&&0<=h&&O[r]!==U[h];)h--;for(;1<=r&&0<=h;r--,h--)if(O[r]!==U[h]){if(r!==1||h!==1)do if(r--,h--,0>h||O[r]!==U[h]){var K=`
`+O[r].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=r&&0<=h);break}}}finally{Ts=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?fi(i):""}function Ar(t,e){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==e&&e!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return fi("Activity");default:return""}}function Aa(t){try{var e="",i=null;do e+=Ar(t,i),i=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Or=Object.prototype.hasOwnProperty,xs=l.unstable_scheduleCallback,Oa=l.unstable_cancelCallback,Jo=l.unstable_shouldYield,Qo=l.unstable_requestPaint,Ye=l.unstable_now,Uu=l.unstable_getCurrentPriorityLevel,As=l.unstable_ImmediatePriority,Cr=l.unstable_UserBlockingPriority,Ca=l.unstable_NormalPriority,Pu=l.unstable_LowPriority,Nr=l.unstable_IdlePriority,Wo=l.log,Hu=l.unstable_setDisableYieldValue,Hi=null,Me=null;function Dn(t){if(typeof Wo=="function"&&Hu(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Hi,t)}catch{}}var $e=Math.clz32?Math.clz32:Zu,Na=Math.log,qu=Math.LN2;function Zu(t){return t>>>=0,t===0?32:31-(Na(t)/qu|0)|0}var Ra=256,La=262144,ja=4194304;function mi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Os(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var h=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~d,r!==0?h=mi(r):(g&=E,g!==0?h=mi(g):i||(i=E&~t,i!==0&&(h=mi(i))))):(E=r&~d,E!==0?h=mi(E):g!==0?h=mi(g):i||(i=r&~t,i!==0&&(h=mi(i)))),h===0?0:e!==0&&e!==h&&(e&d)===0&&(d=h&-h,i=e&-e,d>=i||d===32&&(i&4194048)!==0)?e:h}function ka(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Iu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var t=ja;return ja<<=1,(ja&62914560)===0&&(ja=4194304),t}function Rr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function _i(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gu(t,e,i,r,h,d){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,U=t.hiddenUpdates;for(i=g&~i;0<i;){var K=31-$e(i),X=1<<K;E[K]=0,O[K]=-1;var H=U[K];if(H!==null)for(U[K]=null,K=0;K<H.length;K++){var I=H[K];I!==null&&(I.lane&=-536870913)}i&=~X}r!==0&&tl(t,r,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~e))}function tl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-$e(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function el(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-$e(i),h=1<<r;h&e|t[r]&e&&(t[r]|=e),i&=~h}}function nl(t,e){var i=e&-e;return i=(i&42)!==0?1:We(i),(i&(t.suspendedLanes|e))!==0?0:i}function We(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function dt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lr(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Fm(t.type))}function jr(t,e){var i=et.p;try{return et.p=t,e()}finally{et.p=i}}var Bn=Math.random().toString(36).slice(2),ge="__reactFiber$"+Bn,Re="__reactProps$"+Bn,pi="__reactContainer$"+Bn,Qn="__reactEvents$"+Bn,il="__reactListeners$"+Bn,Vu="__reactHandles$"+Bn,al="__reactResources$"+Bn,Ma="__reactMarker$"+Bn;function kr(t){delete t[ge],delete t[Re],delete t[Qn],delete t[il],delete t[Vu]}function vi(t){var e=t[ge];if(e)return e;for(var i=t.parentNode;i;){if(e=i[pi]||i[ge]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Bm(t);t!==null;){if(i=t[ge])return i;t=Bm(t)}return e}t=i,i=t.parentNode}return null}function qi(t){if(t=t[ge]||t[pi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function Zi(t){var e=t[al];return e||(e=t[al]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[Ma]=!0}var sl=new Set,rl={};function gi(t,e){Fn(t,e),Fn(t+"Capture",e)}function Fn(t,e){for(rl[t]=e,t=0;t<e.length;t++)sl.add(e[t])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},zr={};function Da(t){return Or.call(zr,t)?!0:Or.call(Mr,t)?!1:za.test(t)?zr[t]=!0:(Mr[t]=!0,!1)}function Lt(t,e,i){if(Da(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Xt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Fe(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}function Ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dr(t,e,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,d=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function St(t){if(!t._valueTracker){var e=yi(t)?"checked":"value";t._valueTracker=Dr(t,e,""+t[e])}}function oe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=yi(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function ae(t){return t.replace(Cs,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Br(t,e,i,r,h,d,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ae(e)):t.value!==""+Ae(e)&&(t.value=""+Ae(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?Un(t,g,Ae(e)):i!=null?Un(t,g,Ae(i)):r!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ae(E):t.removeAttribute("name")}function Ba(t,e,i,r,h,d,g,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),e!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||e!=null)){St(t);return}i=i!=null?""+Ae(i):"",e=e!=null?""+Ae(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),St(t)}function Un(t,e,i){e==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ft(t,e,i,r){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Ae(i),e=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function ti(t,e,i){if(e!=null&&(e=""+Ae(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Ae(i):""}function Gi(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(u(92));if(Ge(r)){if(1<r.length)throw Error(u(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Ae(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),St(t)}function Tn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vi(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Ur.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Ns(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in e)r=e[h],e.hasOwnProperty(h)&&i[h]!==r&&Vi(t,h,r)}else for(var d in e)e.hasOwnProperty(d)&&Vi(t,d,e[d])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ki(t){return Pr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function tn(){}var Ls=null;function Pa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yi=null,yt=null;function dn(t){var e=qi(t);if(e&&(t=e.stateNode)){var i=t[Re]||null;t:switch(t=e.stateNode,e.type){case"input":if(Br(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ae(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var h=r[Re]||null;if(!h)throw Error(u(90));Br(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&oe(r)}break t;case"textarea":ti(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ft(t,!!i.multiple,e,!1)}}}var Vt=!1;function Hr(t,e,i){if(Vt)return t(e,i);Vt=!0;try{var r=t(e);return r}finally{if(Vt=!1,(Yi!==null||yt!==null)&&(nu(),Yi&&(e=Yi,t=yt,yt=Yi=null,dn(e),t)))for(e=0;e<t.length;e++)dn(t[e])}}function bi(t,e){var i=t.stateNode;if(i===null)return null;var r=i[Re]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(fn)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ha=!1}var En=null,wi=null,ce=null;function ei(){if(ce)return ce;var t,e=wi,i=e.length,r,h="value"in En?En.value:En.textContent,d=h.length;for(t=0;t<i&&e[t]===h[t];t++);var g=i-t;for(r=1;r<=g&&e[i-r]===h[d-r];r++);return ce=h.slice(t,1<r?1-r:void 0)}function qa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Za(){return!0}function ol(){return!1}function ze(t){function e(i,r,h,d,g){this._reactName=i,this._targetInst=h,this.type=r,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Za:ol,this.isPropagationStopped=ol,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),e}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=ze(Pn),$i=R({},Pn,{view:0,detail:0}),zt=ze($i),qr,Xe,Hn,Ia=R({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(qr=t.screenX-Hn.screenX,Xe=t.screenY-Hn.screenY):Xe=qr=0,Hn=t),qr)},movementY:function(t){return"movementY"in t?t.movementY:Xe}}),ll=ze(Ia),Zr=R({},Ia,{dataTransfer:0}),Ku=ze(Zr),ul=R({},$i,{relatedTarget:0}),Ir=ze(ul),Yu=R({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=ze(Yu),$u=R({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xn=ze($u),Xu=R({},Pn,{data:0}),Vr=ze(Xu),ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hl[t])?!!e[t]:!1}function Yr(){return Kr}var dl=R({},$i,{key:function(t){if(t.key){var e=ni[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fl=ze(dl),Ju=R({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=ze(Ju),$r=R({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Qu=ze($r),_l=R({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),pl=ze(_l),ks=R({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Si=ze(ks),Wu=R({},Pn,{newState:0,oldState:0}),Ga=ze(Wu),en=[9,13,27,32],Ms=fn&&"CompositionEvent"in window,Xi=null;fn&&"documentMode"in document&&(Xi=document.documentMode);var Fu=fn&&"TextEvent"in window&&!Xi,zs=fn&&(!Ms||Xi&&8<Xi&&11>=Xi),Ds=" ",vl=!1;function gl(t,e){switch(t){case"keyup":return en.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function _n(t,e){switch(t){case"compositionend":return Xr(e);case"keypress":return e.which!==32?null:(vl=!0,Ds);case"textInput":return t=e.data,t===Ds&&vl?null:t;default:return null}}function Qi(t,e){if(Ji)return t==="compositionend"||!Ms&&gl(t,e)?(t=ei(),ce=wi=En=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zs&&e.locale!=="ko"?null:e.data;default:return null}}var tc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tc[t.type]:e==="textarea"}function yl(t,e,i,r){Yi?yt?yt.push(r):yt=[r]:Yi=r,e=uu(e,"onChange"),0<e.length&&(i=new js("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var On=null,Va=null;function Ka(t){Tm(t,0)}function Ya(t){var e=Wn(t);if(oe(e))return t}function $a(t,e){if(t==="change")return e}var bl=!1;if(fn){var Cn;if(fn){var Wi="oninput"in document;if(!Wi){var wl=document.createElement("div");wl.setAttribute("oninput","return;"),Wi=typeof wl.oninput=="function"}Cn=Wi}else Cn=!1;bl=Cn&&(!document.documentMode||9<document.documentMode)}function Bs(){On&&(On.detachEvent("onpropertychange",Sl),Va=On=null)}function Sl(t){if(t.propertyName==="value"&&Ya(Va)){var e=[];yl(e,Va,t,Pa(t)),Hr(Ka,e)}}function qn(t,e,i){t==="focusin"?(Bs(),On=e,Va=i,On.attachEvent("onpropertychange",Sl)):t==="focusout"&&Bs()}function ec(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ya(Va)}function Fi(t,e){if(t==="click")return Ya(e)}function nc(t,e){if(t==="input"||t==="change")return Ya(e)}function Zn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Le=typeof Object.is=="function"?Object.is:Zn;function ta(t,e){if(Le(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var h=i[r];if(!Or.call(e,h)||!Le(t[h],e[h]))return!1}return!0}function Us(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xa(t,e){var i=Us(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Us(i)}}function Ps(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ps(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ja(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ii(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ii(t.document)}return e}function ii(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Hs=fn&&"documentMode"in document&&11>=document.documentMode,ai=null,qs=null,Qa=null,ea=!1;function Tl(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ea||ai==null||ai!==Ii(r)||(r=ai,"selectionStart"in r&&ii(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&ta(Qa,r)||(Qa=r,r=uu(qs,"onSelect"),0<r.length&&(e=new js("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=ai)))}function si(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var na={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},Zs={},El={};fn&&(El=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function je(t){if(Zs[t])return Zs[t];if(!na[t])return t;var e=na[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in El)return Zs[t]=e[i];return t}var Wa=je("animationend"),xl=je("animationiteration"),Fa=je("animationstart"),ic=je("transitionrun"),Al=je("transitionstart"),ac=je("transitioncancel"),ia=je("transitionend"),Ol=new Map,ri="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ri.push("scrollEnd");function nn(t,e){Ol.set(t,e),gi(e,[t])}var ts=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],qe=0,Is=0;function es(){for(var t=qe,e=Is=qe=0;e<t;){var i=an[e];an[e++]=null;var r=an[e];an[e++]=null;var h=an[e];an[e++]=null;var d=an[e];if(an[e++]=null,r!==null&&h!==null){var g=r.pending;g===null?h.next=h:(h.next=g.next,g.next=h),r.pending=h}d!==0&&aa(i,h,d)}}function oi(t,e,i,r){an[qe++]=t,an[qe++]=e,an[qe++]=i,an[qe++]=r,Is|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Jr(t,e,i,r){return oi(t,e,i,r),ns(t)}function Nn(t,e){return oi(t,null,null,e),ns(t)}function aa(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var h=!1,d=t.return;d!==null;)d.childLanes|=i,r=d.alternate,r!==null&&(r.childLanes|=i),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&e!==null&&(h=31-$e(i),t=d.hiddenUpdates,r=t[h],r===null?t[h]=[e]:r.push(e),e.lane=i|536870912),d):null}function ns(t){if(50<So)throw So=0,rh=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ti={};function sc(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,i,r){return new sc(t,e,i,r)}function Gs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rn(t,e){var i=t.alternate;return i===null?(i=Ze(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Qr(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function is(t,e,i,r,h,d){var g=0;if(r=t,typeof t=="function")Gs(t)&&(g=1);else if(typeof t=="string")g=fv(t,i,tt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case wt:return t=Ze(31,i,e,h),t.elementType=wt,t.lanes=d,t;case q:return Ei(i.children,h,d,e);case J:g=8,h|=24;break;case Q:return t=Ze(12,i,e,h|2),t.elementType=Q,t.lanes=d,t;case Et:return t=Ze(13,i,e,h),t.elementType=Et,t.lanes=d,t;case ut:return t=Ze(19,i,e,h),t.elementType=ut,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:g=10;break t;case it:g=9;break t;case at:g=11;break t;case st:g=14;break t;case Rt:g=16,r=null;break t}g=29,i=Error(u(130,t===null?"null":typeof t,"")),r=null}return e=Ze(g,i,e,h),e.elementType=t,e.type=r,e.lanes=d,e}function Ei(t,e,i,r){return t=Ze(7,t,r,e),t.lanes=i,t}function Vs(t,e,i){return t=Ze(6,t,null,e),t.lanes=i,t}function Wr(t){var e=Ze(18,null,null,0);return e.stateNode=t,e}function Fr(t,e,i){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Aa(e)},n.set(t,e),e)}return{value:t,source:e,stack:Aa(e)}}var c=[],m=0,v=null,w=0,x=[],D=0,P=null,$=1,nt="";function mt(t,e){c[m++]=w,c[m++]=v,v=t,w=e}function Ot(t,e,i){x[D++]=$,x[D++]=nt,x[D++]=P,P=t;var r=$;t=nt;var h=32-$e(r)-1;r&=~(1<<h),i+=1;var d=32-$e(e)+h;if(30<d){var g=h-h%5;d=(r&(1<<g)-1).toString(32),r>>=g,h-=g,$=1<<32-$e(e)+h|i<<h|r,nt=d+t}else $=1<<d|i<<h|r,nt=t}function Oe(t){t.return!==null&&(mt(t,1),Ot(t,1,0))}function he(t){for(;t===v;)v=c[--m],c[m]=null,w=c[--m],c[m]=null;for(;t===P;)P=x[--D],x[D]=null,nt=x[--D],x[D]=null,$=x[--D],x[D]=null}function Je(t,e){x[D++]=$,x[D++]=nt,x[D++]=P,$=e.id,nt=e.overflow,P=t}var Ht=null,qt=null,jt=!1,li=null,sn=!1,Ks=Error(u(519));function ui(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw as(s(e,t)),Ks}function to(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[ge]=t,e[Re]=r,i){case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":case"embed":Mt("load",e);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Mt(Eo[i],e);break;case"source":Mt("error",e);break;case"img":case"image":case"link":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"input":Mt("invalid",e),Ba(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Mt("invalid",e);break;case"textarea":Mt("invalid",e),Gi(e,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||Om(e.textContent,i)?(r.popover!=null&&(Mt("beforetoggle",e),Mt("toggle",e)),r.onScroll!=null&&Mt("scroll",e),r.onScrollEnd!=null&&Mt("scrollend",e),r.onClick!=null&&(e.onclick=tn),e=!0):e=!1,e||ui(t,!0)}function ue(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:Ht=Ht.return}}function In(t){if(t!==Ht)return!1;if(!jt)return ue(t),jt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||wh(t.type,t.memoizedProps)),i=!i),i&&qt&&ui(t),ue(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));qt=Dm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));qt=Dm(t)}else e===27?(e=qt,ga(t.type)?(t=Ah,Ah=null,qt=t):qt=e):qt=Ht?jn(t.stateNode.nextSibling):null;return!0}function xi(){qt=Ht=null,jt=!1}function eo(){var t=li;return t!==null&&(un===null?un=t:un.push.apply(un,t),li=null),t}function as(t){li===null?li=[t]:li.push(t)}var ss=N(null),ci=null,Gn=null;function sa(t,e,i){F(ss,e._currentValue),e._currentValue=i}function Ai(t){t._currentValue=ss.current,V(ss)}function rc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function oc(t,e,i,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var g=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var O=0;O<e.length;O++)if(E.context===e[O]){d.lanes|=i,E=d.alternate,E!==null&&(E.lanes|=i),rc(d.return,i,t),r||(g=null);break t}d=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(u(341));g.lanes|=i,d=g.alternate,d!==null&&(d.lanes|=i),rc(g,i,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ys(t,e,i,r){t=null;for(var h=e,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(u(387));if(g=g.memoizedProps,g!==null){var E=h.type;Le(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===At.current){if(g=h.alternate,g===null)throw Error(u(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(No):t=[No])}h=h.return}t!==null&&oc(e,t,i,r),e.flags|=262144}function Cl(t){for(t=t.firstContext;t!==null;){if(!Le(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ci=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function De(t){return hd(ci,t)}function Nl(t,e){return ci===null&&rs(t),hd(t,e)}function hd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Gn===null){if(t===null)throw Error(u(308));Gn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Gn=Gn.next=e;return i}var up=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},cp=l.unstable_scheduleCallback,hp=l.unstable_NormalPriority,be={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lc(){return{controller:new up,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&cp(hp,function(){t.controller.abort()})}var io=null,uc=0,$s=0,Xs=null;function dp(t,e){if(io===null){var i=io=[];uc=0,$s=dh(),Xs={status:"pending",value:void 0,then:function(r){i.push(r)}}}return uc++,e.then(dd,dd),e}function dd(){if(--uc===0&&io!==null){Xs!==null&&(Xs.status="fulfilled");var t=io;io=null,$s=0,Xs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function fp(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var h=0;h<i.length;h++)(0,i[h])(e)},function(h){for(r.status="rejected",r.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),r}var fd=G.S;G.S=function(t,e){Qf=Ye(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&dp(t,e),fd!==null&&fd(t,e)};var os=N(null);function cc(){var t=os.current;return t!==null?t:te.pooledCache}function Rl(t,e){e===null?F(os,os.current):F(os,e.pool)}function md(){var t=cc();return t===null?null:{parent:be._currentValue,pool:t}}var Js=Error(u(460)),hc=Error(u(474)),Ll=Error(u(542)),jl={then:function(){}};function _d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pd(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(tn,tn),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gd(t),t;default:if(typeof e.status=="string")e.then(tn,tn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=r}},function(r){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gd(t),t}throw us=e,Js}}function ls(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(us=i,Js):i}}var us=null;function vd(){if(us===null)throw Error(u(459));var t=us;return us=null,t}function gd(t){if(t===Js||t===Ll)throw Error(u(483))}var Qs=null,ao=0;function kl(t){var e=ao;return ao+=1,Qs===null&&(Qs=[]),pd(Qs,t,e)}function so(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ml(t,e){throw e.$$typeof===M?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function yd(t){function e(z,j){if(t){var B=z.deletions;B===null?(z.deletions=[j],z.flags|=16):B.push(j)}}function i(z,j){if(!t)return null;for(;j!==null;)e(z,j),j=j.sibling;return null}function r(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function h(z,j){return z=Rn(z,j),z.index=0,z.sibling=null,z}function d(z,j,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<j?(z.flags|=67108866,j):B):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,j,B,Y){return j===null||j.tag!==6?(j=Vs(B,z.mode,Y),j.return=z,j):(j=h(j,B),j.return=z,j)}function O(z,j,B,Y){var pt=B.type;return pt===q?K(z,j,B.props.children,Y,B.key):j!==null&&(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Rt&&ls(pt)===j.type)?(j=h(j,B.props),so(j,B),j.return=z,j):(j=is(B.type,B.key,B.props,null,z.mode,Y),so(j,B),j.return=z,j)}function U(z,j,B,Y){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=Fr(B,z.mode,Y),j.return=z,j):(j=h(j,B.children||[]),j.return=z,j)}function K(z,j,B,Y,pt){return j===null||j.tag!==7?(j=Ei(B,z.mode,Y,pt),j.return=z,j):(j=h(j,B),j.return=z,j)}function X(z,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Vs(""+j,z.mode,B),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return B=is(j.type,j.key,j.props,null,z.mode,B),so(B,j),B.return=z,B;case k:return j=Fr(j,z.mode,B),j.return=z,j;case Rt:return j=ls(j),X(z,j,B)}if(Ge(j)||Kt(j))return j=Ei(j,z.mode,B,null),j.return=z,j;if(typeof j.then=="function")return X(z,kl(j),B);if(j.$$typeof===Z)return X(z,Nl(z,j),B);Ml(z,j)}return null}function H(z,j,B,Y){var pt=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pt!==null?null:E(z,j,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===pt?O(z,j,B,Y):null;case k:return B.key===pt?U(z,j,B,Y):null;case Rt:return B=ls(B),H(z,j,B,Y)}if(Ge(B)||Kt(B))return pt!==null?null:K(z,j,B,Y,null);if(typeof B.then=="function")return H(z,j,kl(B),Y);if(B.$$typeof===Z)return H(z,j,Nl(z,B),Y);Ml(z,B)}return null}function I(z,j,B,Y,pt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(B)||null,E(j,z,""+Y,pt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return z=z.get(Y.key===null?B:Y.key)||null,O(j,z,Y,pt);case k:return z=z.get(Y.key===null?B:Y.key)||null,U(j,z,Y,pt);case Rt:return Y=ls(Y),I(z,j,B,Y,pt)}if(Ge(Y)||Kt(Y))return z=z.get(B)||null,K(j,z,Y,pt,null);if(typeof Y.then=="function")return I(z,j,B,kl(Y),pt);if(Y.$$typeof===Z)return I(z,j,B,Nl(j,Y),pt);Ml(j,Y)}return null}function ct(z,j,B,Y){for(var pt=null,Zt=null,ht=j,Ct=j=0,Bt=null;ht!==null&&Ct<B.length;Ct++){ht.index>Ct?(Bt=ht,ht=null):Bt=ht.sibling;var It=H(z,ht,B[Ct],Y);if(It===null){ht===null&&(ht=Bt);break}t&&ht&&It.alternate===null&&e(z,ht),j=d(It,j,Ct),Zt===null?pt=It:Zt.sibling=It,Zt=It,ht=Bt}if(Ct===B.length)return i(z,ht),jt&&mt(z,Ct),pt;if(ht===null){for(;Ct<B.length;Ct++)ht=X(z,B[Ct],Y),ht!==null&&(j=d(ht,j,Ct),Zt===null?pt=ht:Zt.sibling=ht,Zt=ht);return jt&&mt(z,Ct),pt}for(ht=r(ht);Ct<B.length;Ct++)Bt=I(ht,z,Ct,B[Ct],Y),Bt!==null&&(t&&Bt.alternate!==null&&ht.delete(Bt.key===null?Ct:Bt.key),j=d(Bt,j,Ct),Zt===null?pt=Bt:Zt.sibling=Bt,Zt=Bt);return t&&ht.forEach(function(Ta){return e(z,Ta)}),jt&&mt(z,Ct),pt}function vt(z,j,B,Y){if(B==null)throw Error(u(151));for(var pt=null,Zt=null,ht=j,Ct=j=0,Bt=null,It=B.next();ht!==null&&!It.done;Ct++,It=B.next()){ht.index>Ct?(Bt=ht,ht=null):Bt=ht.sibling;var Ta=H(z,ht,It.value,Y);if(Ta===null){ht===null&&(ht=Bt);break}t&&ht&&Ta.alternate===null&&e(z,ht),j=d(Ta,j,Ct),Zt===null?pt=Ta:Zt.sibling=Ta,Zt=Ta,ht=Bt}if(It.done)return i(z,ht),jt&&mt(z,Ct),pt;if(ht===null){for(;!It.done;Ct++,It=B.next())It=X(z,It.value,Y),It!==null&&(j=d(It,j,Ct),Zt===null?pt=It:Zt.sibling=It,Zt=It);return jt&&mt(z,Ct),pt}for(ht=r(ht);!It.done;Ct++,It=B.next())It=I(ht,z,Ct,It.value,Y),It!==null&&(t&&It.alternate!==null&&ht.delete(It.key===null?Ct:It.key),j=d(It,j,Ct),Zt===null?pt=It:Zt.sibling=It,Zt=It);return t&&ht.forEach(function(Ev){return e(z,Ev)}),jt&&mt(z,Ct),pt}function Wt(z,j,B,Y){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:t:{for(var pt=B.key;j!==null;){if(j.key===pt){if(pt=B.type,pt===q){if(j.tag===7){i(z,j.sibling),Y=h(j,B.props.children),Y.return=z,z=Y;break t}}else if(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Rt&&ls(pt)===j.type){i(z,j.sibling),Y=h(j,B.props),so(Y,B),Y.return=z,z=Y;break t}i(z,j);break}else e(z,j);j=j.sibling}B.type===q?(Y=Ei(B.props.children,z.mode,Y,B.key),Y.return=z,z=Y):(Y=is(B.type,B.key,B.props,null,z.mode,Y),so(Y,B),Y.return=z,z=Y)}return g(z);case k:t:{for(pt=B.key;j!==null;){if(j.key===pt)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){i(z,j.sibling),Y=h(j,B.children||[]),Y.return=z,z=Y;break t}else{i(z,j);break}else e(z,j);j=j.sibling}Y=Fr(B,z.mode,Y),Y.return=z,z=Y}return g(z);case Rt:return B=ls(B),Wt(z,j,B,Y)}if(Ge(B))return ct(z,j,B,Y);if(Kt(B)){if(pt=Kt(B),typeof pt!="function")throw Error(u(150));return B=pt.call(B),vt(z,j,B,Y)}if(typeof B.then=="function")return Wt(z,j,kl(B),Y);if(B.$$typeof===Z)return Wt(z,j,Nl(z,B),Y);Ml(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(i(z,j.sibling),Y=h(j,B),Y.return=z,z=Y):(i(z,j),Y=Vs(B,z.mode,Y),Y.return=z,z=Y),g(z)):i(z,j)}return function(z,j,B,Y){try{ao=0;var pt=Wt(z,j,B,Y);return Qs=null,pt}catch(ht){if(ht===Js||ht===Ll)throw ht;var Zt=Ze(29,ht,null,z.mode);return Zt.lanes=Y,Zt.return=z,Zt}}}var cs=yd(!0),bd=yd(!1),ra=!1;function dc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function la(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Gt&2)!==0){var h=r.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),r.pending=e,e=ns(t),aa(t,null,i),e}return oi(t,r,e,i),ns(t)}function ro(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}function mc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?h=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?h=d=e:d=d.next=e}else h=d=e;i={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var _c=!1;function oo(){if(_c){var t=Xs;if(t!==null)throw t}}function lo(t,e,i,r){_c=!1;var h=t.updateQueue;ra=!1;var d=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var O=E,U=O.next;O.next=null,g===null?d=U:g.next=U,g=O;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==g&&(E===null?K.firstBaseUpdate=U:E.next=U,K.lastBaseUpdate=O))}if(d!==null){var X=h.baseState;g=0,K=U=O=null,E=d;do{var H=E.lane&-536870913,I=H!==E.lane;if(I?(Dt&H)===H:(r&H)===H){H!==0&&H===$s&&(_c=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=t,vt=E;H=e;var Wt=i;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){X=ct.call(Wt,X,H);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,H=typeof ct=="function"?ct.call(Wt,X,H):ct,H==null)break t;X=R({},X,H);break t;case 2:ra=!0}}H=E.callback,H!==null&&(t.flags|=64,I&&(t.flags|=8192),I=h.callbacks,I===null?h.callbacks=[H]:I.push(H))}else I={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(U=K=I,O=X):K=K.next=I,g|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;I=E,E=I.next,I.next=null,h.lastBaseUpdate=I,h.shared.pending=null}}while(!0);K===null&&(O=X),h.baseState=O,h.firstBaseUpdate=U,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),fa|=g,t.lanes=g,t.memoizedState=X}}function wd(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Sd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)wd(i[t],e)}var Ws=N(null),zl=N(0);function Td(t,e){t=zi,F(zl,t),F(Ws,e),zi=t|e.baseLanes}function pc(){F(zl,zi),F(Ws,Ws.current)}function vc(){zi=zl.current,V(Ws),V(zl)}var pn=N(null),Ln=null;function ua(t){var e=t.alternate;F(pe,pe.current&1),F(pn,t),Ln===null&&(e===null||Ws.current!==null||e.memoizedState!==null)&&(Ln=t)}function gc(t){F(pe,pe.current),F(pn,t),Ln===null&&(Ln=t)}function Ed(t){t.tag===22?(F(pe,pe.current),F(pn,t),Ln===null&&(Ln=t)):ca()}function ca(){F(pe,pe.current),F(pn,pn.current)}function vn(t){V(pn),Ln===t&&(Ln=null),V(pe)}var pe=N(0);function Dl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Eh(i)||xh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oi=0,xt=null,Jt=null,we=null,Bl=!1,Fs=!1,hs=!1,Ul=0,uo=0,tr=null,mp=0;function de(){throw Error(u(321))}function yc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Le(t[i],e[i]))return!1;return!0}function bc(t,e,i,r,h,d){return Oi=d,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?lf:zc,hs=!1,d=i(r,h),hs=!1,Fs&&(d=Ad(e,i,r,h)),xd(t),d}function xd(t){G.H=fo;var e=Jt!==null&&Jt.next!==null;if(Oi=0,we=Jt=xt=null,Bl=!1,uo=0,tr=null,e)throw Error(u(300));t===null||Se||(t=t.dependencies,t!==null&&Cl(t)&&(Se=!0))}function Ad(t,e,i,r){xt=t;var h=0;do{if(Fs&&(tr=null),uo=0,Fs=!1,25<=h)throw Error(u(301));if(h+=1,we=Jt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=uf,d=e(i,r)}while(Fs);return d}function _p(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?co(e):e,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(xt.flags|=1024),e}function wc(){var t=Ul!==0;return Ul=0,t}function Sc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Tc(t){if(Bl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Bl=!1}Oi=0,we=Jt=xt=null,Fs=!1,uo=Ul=0,tr=null}function Qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?xt.memoizedState=we=t:we=we.next=t,we}function ve(){if(Jt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=we===null?xt.memoizedState:we.next;if(e!==null)we=e,Jt=t;else{if(t===null)throw xt.alternate===null?Error(u(467)):Error(u(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?xt.memoizedState=we=t:we=we.next=t}return we}function Pl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var e=uo;return uo+=1,tr===null&&(tr=[]),t=pd(tr,t,e),e=xt,(we===null?e.memoizedState:we.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?lf:zc),t}function Hl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===Z)return De(t)}throw Error(u(438,String(t)))}function Ec(t){var e=null,i=xt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=xt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Pl(),xt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=re;return e.index++,i}function Ci(t,e){return typeof e=="function"?e(t):e}function ql(t){var e=ve();return xc(e,Jt,t)}function xc(t,e,i){var r=t.queue;if(r===null)throw Error(u(311));r.lastRenderedReducer=i;var h=t.baseQueue,d=r.pending;if(d!==null){if(h!==null){var g=h.next;h.next=d.next,d.next=g}e.baseQueue=h=d,r.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{e=h.next;var E=g=null,O=null,U=e,K=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Dt&X)===X:(Oi&X)===X){var H=U.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===$s&&(K=!0);else if((Oi&H)===H){U=U.next,H===$s&&(K=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(E=O=X,g=d):O=O.next=X,xt.lanes|=H,fa|=H;X=U.action,hs&&i(d,X),d=U.hasEagerState?U.eagerState:i(d,X)}else H={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},O===null?(E=O=H,g=d):O=O.next=H,xt.lanes|=X,fa|=X;U=U.next}while(U!==null&&U!==e);if(O===null?g=d:O.next=E,!Le(d,t.memoizedState)&&(Se=!0,K&&(i=Xs,i!==null)))throw i;t.memoizedState=d,t.baseState=g,t.baseQueue=O,r.lastRenderedState=d}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Ac(t){var e=ve(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var r=i.dispatch,h=i.pending,d=e.memoizedState;if(h!==null){i.pending=null;var g=h=h.next;do d=t(d,g.action),g=g.next;while(g!==h);Le(d,e.memoizedState)||(Se=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),i.lastRenderedState=d}return[d,r]}function Od(t,e,i){var r=xt,h=ve(),d=jt;if(d){if(i===void 0)throw Error(u(407));i=i()}else i=e();var g=!Le((Jt||h).memoizedState,i);if(g&&(h.memoizedState=i,Se=!0),h=h.queue,Nc(Rd.bind(null,r,h,t),[t]),h.getSnapshot!==e||g||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,er(9,{destroy:void 0},Nd.bind(null,r,h,i,e),null),te===null)throw Error(u(349));d||(Oi&127)!==0||Cd(r,e,i)}return i}function Cd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=xt.updateQueue,e===null?(e=Pl(),xt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Nd(t,e,i,r){e.value=i,e.getSnapshot=r,Ld(e)&&jd(t)}function Rd(t,e,i){return i(function(){Ld(e)&&jd(t)})}function Ld(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Le(t,i)}catch{return!0}}function jd(t){var e=Nn(t,2);e!==null&&cn(e,t,2)}function Oc(t){var e=Qe();if(typeof t=="function"){var i=t;if(t=i(),hs){Dn(!0);try{i()}finally{Dn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},e}function kd(t,e,i,r){return t.baseState=i,xc(t,Jt,typeof r=="function"?r:Ci)}function pp(t,e,i,r,h){if(Gl(t))throw Error(u(485));if(t=e.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};G.T!==null?i(!0):d.isTransition=!1,r(d),i=e.pending,i===null?(d.next=e.pending=d,Md(e,d)):(d.next=i.next,e.pending=i.next=d)}}function Md(t,e){var i=e.action,r=e.payload,h=t.state;if(e.isTransition){var d=G.T,g={};G.T=g;try{var E=i(h,r),O=G.S;O!==null&&O(g,E),zd(t,e,E)}catch(U){Cc(t,e,U)}finally{d!==null&&g.types!==null&&(d.types=g.types),G.T=d}}else try{d=i(h,r),zd(t,e,d)}catch(U){Cc(t,e,U)}}function zd(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Dd(t,e,r)},function(r){return Cc(t,e,r)}):Dd(t,e,i)}function Dd(t,e,i){e.status="fulfilled",e.value=i,Bd(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Md(t,i)))}function Cc(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Bd(e),e=e.next;while(e!==r)}t.action=null}function Bd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Ud(t,e){return e}function Pd(t,e){if(jt){var i=te.formState;if(i!==null){t:{var r=xt;if(jt){if(qt){e:{for(var h=qt,d=sn;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){qt=jn(h.nextSibling),r=h.data==="F!";break t}}ui(r)}r=!1}r&&(e=i[0])}}return i=Qe(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:e},i.queue=r,i=sf.bind(null,xt,r),r.dispatch=i,r=Oc(!1),d=Mc.bind(null,xt,!1,r.queue),r=Qe(),h={state:e,dispatch:null,action:t,pending:null},r.queue=h,i=pp.bind(null,xt,h,d,i),h.dispatch=i,r.memoizedState=t,[e,i,!1]}function Hd(t){var e=ve();return qd(e,Jt,t)}function qd(t,e,i){if(e=xc(t,e,Ud)[0],t=ql(Ci)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=co(e)}catch(g){throw g===Js?Ll:g}else r=e;e=ve();var h=e.queue,d=h.dispatch;return i!==e.memoizedState&&(xt.flags|=2048,er(9,{destroy:void 0},vp.bind(null,h,i),null)),[r,d,t]}function vp(t,e){t.action=e}function Zd(t){var e=ve(),i=Jt;if(i!==null)return qd(e,i,t);ve(),e=e.memoizedState,i=ve();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function er(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=xt.updateQueue,e===null&&(e=Pl(),xt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Id(){return ve().memoizedState}function Zl(t,e,i,r){var h=Qe();xt.flags|=t,h.memoizedState=er(1|e,{destroy:void 0},i,r===void 0?null:r)}function Il(t,e,i,r){var h=ve();r=r===void 0?null:r;var d=h.memoizedState.inst;Jt!==null&&r!==null&&yc(r,Jt.memoizedState.deps)?h.memoizedState=er(e,d,i,r):(xt.flags|=t,h.memoizedState=er(1|e,d,i,r))}function Gd(t,e){Zl(8390656,8,t,e)}function Nc(t,e){Il(2048,8,t,e)}function gp(t){xt.flags|=4;var e=xt.updateQueue;if(e===null)e=Pl(),xt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Vd(t){var e=ve().memoizedState;return gp({ref:e,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function Kd(t,e){return Il(4,2,t,e)}function Yd(t,e){return Il(4,4,t,e)}function $d(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xd(t,e,i){i=i!=null?i.concat([t]):null,Il(4,4,$d.bind(null,e,t),i)}function Rc(){}function Jd(t,e){var i=ve();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&yc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function Qd(t,e){var i=ve();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&yc(e,r[1]))return r[0];if(r=t(),hs){Dn(!0);try{t()}finally{Dn(!1)}}return i.memoizedState=[r,e],r}function Lc(t,e,i){return i===void 0||(Oi&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Ff(),xt.lanes|=t,fa|=t,i)}function Wd(t,e,i,r){return Le(i,e)?i:Ws.current!==null?(t=Lc(t,i,r),Le(t,e)||(Se=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(Dt&261930)===0?(Se=!0,t.memoizedState=i):(t=Ff(),xt.lanes|=t,fa|=t,e)}function Fd(t,e,i,r,h){var d=et.p;et.p=d!==0&&8>d?d:8;var g=G.T,E={};G.T=E,Mc(t,!1,e,i);try{var O=h(),U=G.S;if(U!==null&&U(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=fp(O,r);ho(t,e,K,bn(t))}else ho(t,e,r,bn(t))}catch(X){ho(t,e,{then:function(){},status:"rejected",reason:X},bn())}finally{et.p=d,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function yp(){}function jc(t,e,i,r){if(t.tag!==5)throw Error(u(476));var h=tf(t).queue;Fd(t,h,e,W,i===null?yp:function(){return ef(t),i(r)})}function tf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:W},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ef(t){var e=tf(t);e.next===null&&(e=t.alternate.memoizedState),ho(t,e.next.queue,{},bn())}function kc(){return De(No)}function nf(){return ve().memoizedState}function af(){return ve().memoizedState}function bp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=bn();t=oa(i);var r=la(e,t,i);r!==null&&(cn(r,e,i),ro(r,e,i)),e={cache:lc()},t.payload=e;return}e=e.return}}function wp(t,e,i){var r=bn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Gl(t)?rf(e,i):(i=Jr(t,e,i,r),i!==null&&(cn(i,t,r),of(i,e,r)))}function sf(t,e,i){var r=bn();ho(t,e,i,r)}function ho(t,e,i,r){var h={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gl(t))rf(e,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var g=e.lastRenderedState,E=d(g,i);if(h.hasEagerState=!0,h.eagerState=E,Le(E,g))return oi(t,e,h,0),te===null&&es(),!1}catch{}if(i=Jr(t,e,h,r),i!==null)return cn(i,t,r),of(i,e,r),!0}return!1}function Mc(t,e,i,r){if(r={lane:2,revertLane:dh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gl(t)){if(e)throw Error(u(479))}else e=Jr(t,i,r,2),e!==null&&cn(e,t,2)}function Gl(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function rf(t,e){Fs=Bl=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function of(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,el(t,i)}}var fo={readContext:De,use:Hl,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};fo.useEffectEvent=de;var lf={readContext:De,use:Hl,useCallback:function(t,e){return Qe().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:Gd,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Zl(4194308,4,$d.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Zl(4194308,4,t,e)},useInsertionEffect:function(t,e){Zl(4,2,t,e)},useMemo:function(t,e){var i=Qe();e=e===void 0?null:e;var r=t();if(hs){Dn(!0);try{t()}finally{Dn(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=Qe();if(i!==void 0){var h=i(e);if(hs){Dn(!0);try{i(e)}finally{Dn(!1)}}}else h=e;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=wp.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=Qe();return t={current:t},e.memoizedState=t},useState:function(t){t=Oc(t);var e=t.queue,i=sf.bind(null,xt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Rc,useDeferredValue:function(t,e){var i=Qe();return Lc(i,t,e)},useTransition:function(){var t=Oc(!1);return t=Fd.bind(null,xt,t.queue,!0,!1),Qe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=xt,h=Qe();if(jt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),te===null)throw Error(u(349));(Dt&127)!==0||Cd(r,e,i)}h.memoizedState=i;var d={value:i,getSnapshot:e};return h.queue=d,Gd(Rd.bind(null,r,d,t),[t]),r.flags|=2048,er(9,{destroy:void 0},Nd.bind(null,r,d,i,e),null),i},useId:function(){var t=Qe(),e=te.identifierPrefix;if(jt){var i=nt,r=$;i=(r&~(1<<32-$e(r)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Ul++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=mp++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:kc,useFormState:Pd,useActionState:Pd,useOptimistic:function(t){var e=Qe();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Mc.bind(null,xt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Ec,useCacheRefresh:function(){return Qe().memoizedState=bp.bind(null,xt)},useEffectEvent:function(t){var e=Qe(),i={impl:t};return e.memoizedState=i,function(){if((Gt&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},zc={readContext:De,use:Hl,useCallback:Jd,useContext:De,useEffect:Nc,useImperativeHandle:Xd,useInsertionEffect:Kd,useLayoutEffect:Yd,useMemo:Qd,useReducer:ql,useRef:Id,useState:function(){return ql(Ci)},useDebugValue:Rc,useDeferredValue:function(t,e){var i=ve();return Wd(i,Jt.memoizedState,t,e)},useTransition:function(){var t=ql(Ci)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:co(t),e]},useSyncExternalStore:Od,useId:nf,useHostTransitionStatus:kc,useFormState:Hd,useActionState:Hd,useOptimistic:function(t,e){var i=ve();return kd(i,Jt,t,e)},useMemoCache:Ec,useCacheRefresh:af};zc.useEffectEvent=Vd;var uf={readContext:De,use:Hl,useCallback:Jd,useContext:De,useEffect:Nc,useImperativeHandle:Xd,useInsertionEffect:Kd,useLayoutEffect:Yd,useMemo:Qd,useReducer:Ac,useRef:Id,useState:function(){return Ac(Ci)},useDebugValue:Rc,useDeferredValue:function(t,e){var i=ve();return Jt===null?Lc(i,t,e):Wd(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Ac(Ci)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:co(t),e]},useSyncExternalStore:Od,useId:nf,useHostTransitionStatus:kc,useFormState:Zd,useActionState:Zd,useOptimistic:function(t,e){var i=ve();return Jt!==null?kd(i,Jt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Ec,useCacheRefresh:af};uf.useEffectEvent=Vd;function Dc(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:R({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Bc={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=bn(),h=oa(r);h.payload=e,i!=null&&(h.callback=i),e=la(t,h,r),e!==null&&(cn(e,t,r),ro(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=bn(),h=oa(r);h.tag=1,h.payload=e,i!=null&&(h.callback=i),e=la(t,h,r),e!==null&&(cn(e,t,r),ro(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=bn(),r=oa(i);r.tag=2,e!=null&&(r.callback=e),e=la(t,r,i),e!==null&&(cn(e,t,i),ro(e,t,i))}};function cf(t,e,i,r,h,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,g):e.prototype&&e.prototype.isPureReactComponent?!ta(i,r)||!ta(h,d):!0}function hf(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Bc.enqueueReplaceState(e,e.state,null)}function ds(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=R({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function df(t){ts(t)}function ff(t){console.error(t)}function mf(t){ts(t)}function Vl(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function _f(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uc(t,e,i){return i=oa(i),i.tag=3,i.payload={element:null},i.callback=function(){Vl(t,e)},i}function pf(t){return t=oa(t),t.tag=3,t}function vf(t,e,i,r){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var d=r.value;t.payload=function(){return h(d)},t.callback=function(){_f(e,i,r)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){_f(e,i,r),typeof h!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function Sp(t,e,i,r,h){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&Ys(e,i,h,!0),i=pn.current,i!==null){switch(i.tag){case 31:case 13:return Ln===null?iu():i.alternate===null&&fe===0&&(fe=3),i.flags&=-257,i.flags|=65536,i.lanes=h,r===jl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),uh(t,r,h)),!1;case 22:return i.flags|=65536,r===jl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),uh(t,r,h)),!1}throw Error(u(435,i.tag))}return uh(t,r,h),iu(),!1}if(jt)return e=pn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,r!==Ks&&(t=Error(u(422),{cause:r}),as(s(t,i)))):(r!==Ks&&(e=Error(u(423),{cause:r}),as(s(e,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=s(r,i),h=Uc(t.stateNode,r,h),mc(t,h),fe!==4&&(fe=2)),!1;var d=Error(u(520),{cause:r});if(d=s(d,i),wo===null?wo=[d]:wo.push(d),fe!==4&&(fe=2),e===null)return!0;r=s(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Uc(i.stateNode,r,t),mc(i,t),!1;case 1:if(e=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ma===null||!ma.has(d))))return i.flags|=65536,h&=-h,i.lanes|=h,h=pf(h),vf(h,t,i,r),mc(i,h),!1}i=i.return}while(i!==null);return!1}var Pc=Error(u(461)),Se=!1;function Be(t,e,i,r){e.child=t===null?bd(e,null,i,r):cs(e,t.child,i,r)}function gf(t,e,i,r,h){i=i.render;var d=e.ref;if("ref"in r){var g={};for(var E in r)E!=="ref"&&(g[E]=r[E])}else g=r;return rs(e),r=bc(t,e,i,g,d,h),E=wc(),t!==null&&!Se?(Sc(t,e,h),Ni(t,e,h)):(jt&&E&&Oe(e),e.flags|=1,Be(t,e,r,h),e.child)}function yf(t,e,i,r,h){if(t===null){var d=i.type;return typeof d=="function"&&!Gs(d)&&d.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=d,bf(t,e,d,r,h)):(t=is(i.type,null,r,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(d=t.child,!Yc(t,h)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:ta,i(g,r)&&t.ref===e.ref)return Ni(t,e,h)}return e.flags|=1,t=Rn(d,r),t.ref=e.ref,t.return=e,e.child=t}function bf(t,e,i,r,h){if(t!==null){var d=t.memoizedProps;if(ta(d,r)&&t.ref===e.ref)if(Se=!1,e.pendingProps=r=d,Yc(t,h))(t.flags&131072)!==0&&(Se=!0);else return e.lanes=t.lanes,Ni(t,e,h)}return Hc(t,e,i,r,h)}function wf(t,e,i,r){var h=r.children,d=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,t!==null){for(r=e.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~d}else r=0,e.child=null;return Sf(t,e,d,i,r)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rl(e,d!==null?d.cachePool:null),d!==null?Td(e,d):pc(),Ed(e);else return r=e.lanes=536870912,Sf(t,e,d!==null?d.baseLanes|i:i,i,r)}else d!==null?(Rl(e,d.cachePool),Td(e,d),ca(),e.memoizedState=null):(t!==null&&Rl(e,null),pc(),ca());return Be(t,e,h,i),e.child}function mo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Sf(t,e,i,r,h){var d=cc();return d=d===null?null:{parent:be._currentValue,pool:d},e.memoizedState={baseLanes:i,cachePool:d},t!==null&&Rl(e,null),pc(),Ed(e),t!==null&&Ys(t,e,r,!0),e.childLanes=h,null}function Kl(t,e){return e=$l({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Tf(t,e,i){return cs(e,t.child,null,i),t=Kl(e,e.pendingProps),t.flags|=2,vn(e),e.memoizedState=null,t}function Tp(t,e,i){var r=e.pendingProps,h=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(jt){if(r.mode==="hidden")return t=Kl(e,r),e.lanes=536870912,mo(null,t);if(gc(e),(t=qt)?(t=zm(t,sn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:P!==null?{id:$,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},i=Wr(t),i.return=e,e.child=i,Ht=e,qt=null)):t=null,t===null)throw ui(e);return e.lanes=536870912,null}return Kl(e,r)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(gc(e),h)if(e.flags&256)e.flags&=-257,e=Tf(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(Se||Ys(t,e,i,!1),h=(i&t.childLanes)!==0,Se||h){if(r=te,r!==null&&(g=nl(r,i),g!==0&&g!==d.retryLane))throw d.retryLane=g,Nn(t,g),cn(r,t,g),Pc;iu(),e=Tf(t,e,i)}else t=d.treeContext,qt=jn(g.nextSibling),Ht=e,jt=!0,li=null,sn=!1,t!==null&&Je(e,t),e=Kl(e,r),e.flags|=4096;return e}return t=Rn(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Hc(t,e,i,r,h){return rs(e),i=bc(t,e,i,r,void 0,h),r=wc(),t!==null&&!Se?(Sc(t,e,h),Ni(t,e,h)):(jt&&r&&Oe(e),e.flags|=1,Be(t,e,i,h),e.child)}function Ef(t,e,i,r,h,d){return rs(e),e.updateQueue=null,i=Ad(e,r,i,h),xd(t),r=wc(),t!==null&&!Se?(Sc(t,e,d),Ni(t,e,d)):(jt&&r&&Oe(e),e.flags|=1,Be(t,e,i,d),e.child)}function xf(t,e,i,r,h){if(rs(e),e.stateNode===null){var d=Ti,g=i.contextType;typeof g=="object"&&g!==null&&(d=De(g)),d=new i(r,d),e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bc,e.stateNode=d,d._reactInternals=e,d=e.stateNode,d.props=r,d.state=e.memoizedState,d.refs={},dc(e),g=i.contextType,d.context=typeof g=="object"&&g!==null?De(g):Ti,d.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Dc(e,i,g,r),d.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Bc.enqueueReplaceState(d,d.state,null),lo(e,r,d,h),oo(),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){d=e.stateNode;var E=e.memoizedProps,O=ds(i,E);d.props=O;var U=d.context,K=i.contextType;g=Ti,typeof K=="object"&&K!==null&&(g=De(K));var X=i.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||U!==g)&&hf(e,d,r,g),ra=!1;var H=e.memoizedState;d.state=H,lo(e,r,d,h),oo(),U=e.memoizedState,E||H!==U||ra?(typeof X=="function"&&(Dc(e,i,X,r),U=e.memoizedState),(O=ra||cf(e,i,O,r,H,U,g))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=U),d.props=r,d.state=U,d.context=g,r=O):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{d=e.stateNode,fc(t,e),g=e.memoizedProps,K=ds(i,g),d.props=K,X=e.pendingProps,H=d.context,U=i.contextType,O=Ti,typeof U=="object"&&U!==null&&(O=De(U)),E=i.getDerivedStateFromProps,(U=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==X||H!==O)&&hf(e,d,r,O),ra=!1,H=e.memoizedState,d.state=H,lo(e,r,d,h),oo();var I=e.memoizedState;g!==X||H!==I||ra||t!==null&&t.dependencies!==null&&Cl(t.dependencies)?(typeof E=="function"&&(Dc(e,i,E,r),I=e.memoizedState),(K=ra||cf(e,i,K,r,H,I,O)||t!==null&&t.dependencies!==null&&Cl(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,I,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,I,O)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),d.props=r,d.state=I,d.context=O,r=K):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(e.flags|=1024),r=!1)}return d=r,Yl(t,e),r=(e.flags&128)!==0,d||r?(d=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:d.render(),e.flags|=1,t!==null&&r?(e.child=cs(e,t.child,null,h),e.child=cs(e,null,i,h)):Be(t,e,i,h),e.memoizedState=d.state,t=e.child):t=Ni(t,e,h),t}function Af(t,e,i,r){return xi(),e.flags|=256,Be(t,e,i,r),e.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zc(t){return{baseLanes:t,cachePool:md()}}function Ic(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=yn),t}function Of(t,e,i){var r=e.pendingProps,h=!1,d=(e.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(jt){if(h?ua(e):ca(),(t=qt)?(t=zm(t,sn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:P!==null?{id:$,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},i=Wr(t),i.return=e,e.child=i,Ht=e,qt=null)):t=null,t===null)throw ui(e);return xh(t)?e.lanes=32:e.lanes=536870912,null}var E=r.children;return r=r.fallback,h?(ca(),h=e.mode,E=$l({mode:"hidden",children:E},h),r=Ei(r,h,i,null),E.return=e,r.return=e,E.sibling=r,e.child=E,r=e.child,r.memoizedState=Zc(i),r.childLanes=Ic(t,g,i),e.memoizedState=qc,mo(null,r)):(ua(e),Gc(e,E))}var O=t.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(d)e.flags&256?(ua(e),e.flags&=-257,e=Vc(t,e,i)):e.memoizedState!==null?(ca(),e.child=t.child,e.flags|=128,e=null):(ca(),E=r.fallback,h=e.mode,r=$l({mode:"visible",children:r.children},h),E=Ei(E,h,i,null),E.flags|=2,r.return=e,E.return=e,r.sibling=E,e.child=r,cs(e,t.child,null,i),r=e.child,r.memoizedState=Zc(i),r.childLanes=Ic(t,g,i),e.memoizedState=qc,e=mo(null,r));else if(ua(e),xh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var U=g.dgst;g=U,r=Error(u(419)),r.stack="",r.digest=g,as({value:r,source:null,stack:null}),e=Vc(t,e,i)}else if(Se||Ys(t,e,i,!1),g=(i&t.childLanes)!==0,Se||g){if(g=te,g!==null&&(r=nl(g,i),r!==0&&r!==O.retryLane))throw O.retryLane=r,Nn(t,r),cn(g,t,r),Pc;Eh(E)||iu(),e=Vc(t,e,i)}else Eh(E)?(e.flags|=192,e.child=t.child,e=null):(t=O.treeContext,qt=jn(E.nextSibling),Ht=e,jt=!0,li=null,sn=!1,t!==null&&Je(e,t),e=Gc(e,r.children),e.flags|=4096);return e}return h?(ca(),E=r.fallback,h=e.mode,O=t.child,U=O.sibling,r=Rn(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,U!==null?E=Rn(U,E):(E=Ei(E,h,i,null),E.flags|=2),E.return=e,r.return=e,r.sibling=E,e.child=r,mo(null,r),r=e.child,E=t.child.memoizedState,E===null?E=Zc(i):(h=E.cachePool,h!==null?(O=be._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=md(),E={baseLanes:E.baseLanes|i,cachePool:h}),r.memoizedState=E,r.childLanes=Ic(t,g,i),e.memoizedState=qc,mo(t.child,r)):(ua(e),i=t.child,t=i.sibling,i=Rn(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function Gc(t,e){return e=$l({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $l(t,e){return t=Ze(22,t,null,e),t.lanes=0,t}function Vc(t,e,i){return cs(e,t.child,null,i),t=Gc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cf(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rc(t.return,e,i)}function Kc(t,e,i,r,h,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:h,treeForkCount:d}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=i,g.tailMode=h,g.treeForkCount=d)}function Nf(t,e,i){var r=e.pendingProps,h=r.revealOrder,d=r.tail;r=r.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,e.flags|=128):g&=1,F(pe,g),Be(t,e,r,i),r=jt?w:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cf(t,i,e);else if(t.tag===19)Cf(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=e.child,h=null;i!==null;)t=i.alternate,t!==null&&Dl(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Kc(e,!1,h,i,d,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&Dl(t)===null){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Kc(e,!0,i,null,d,r);break;case"together":Kc(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Ni(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),fa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Ys(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=Rn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Rn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Yc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Cl(t)))}function Ep(t,e,i){switch(e.tag){case 3:ie(e,e.stateNode.containerInfo),sa(e,be,t.memoizedState.cache),xi();break;case 27:case 5:ft(e);break;case 4:ie(e,e.stateNode.containerInfo);break;case 10:sa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,gc(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ua(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Of(t,e,i):(ua(e),t=Ni(t,e,i),t!==null?t.sibling:null);ua(e);break;case 19:var h=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(Ys(t,e,i,!1),r=(i&e.childLanes)!==0),h){if(r)return Nf(t,e,i);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(pe,pe.current),r)break;return null;case 22:return e.lanes=0,wf(t,e,i,e.pendingProps);case 24:sa(e,be,t.memoizedState.cache)}return Ni(t,e,i)}function Rf(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Se=!0;else{if(!Yc(t,i)&&(e.flags&128)===0)return Se=!1,Ep(t,e,i);Se=(t.flags&131072)!==0}else Se=!1,jt&&(e.flags&1048576)!==0&&Ot(e,w,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=ls(e.elementType),e.type=t,typeof t=="function")Gs(t)?(r=ds(t,r),e.tag=1,e=xf(null,e,t,r,i)):(e.tag=0,e=Hc(null,e,t,r,i));else{if(t!=null){var h=t.$$typeof;if(h===at){e.tag=11,e=gf(null,e,t,r,i);break t}else if(h===st){e.tag=14,e=yf(null,e,t,r,i);break t}}throw e=_e(t)||t,Error(u(306,e,""))}}return e;case 0:return Hc(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,h=ds(r,e.pendingProps),xf(t,e,r,h,i);case 3:t:{if(ie(e,e.stateNode.containerInfo),t===null)throw Error(u(387));r=e.pendingProps;var d=e.memoizedState;h=d.element,fc(t,e),lo(e,r,null,i);var g=e.memoizedState;if(r=g.cache,sa(e,be,r),r!==d.cache&&oc(e,[be],i,!0),oo(),r=g.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){e=Af(t,e,r,i);break t}else if(r!==h){h=s(Error(u(424)),e),as(h),e=Af(t,e,r,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,qt=jn(t.firstChild),Ht=e,jt=!0,li=null,sn=!0,i=bd(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(xi(),r===h){e=Ni(t,e,i);break t}Be(t,e,r,i)}e=e.child}return e;case 26:return Yl(t,e),t===null?(i=qm(e.type,null,e.pendingProps,null))?e.memoizedState=i:jt||(i=e.type,t=e.pendingProps,r=cu(ot.current).createElement(i),r[ge]=e,r[Re]=t,Ue(r,i,t),ye(r),e.stateNode=r):e.memoizedState=qm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ft(e),t===null&&jt&&(r=e.stateNode=Um(e.type,e.pendingProps,ot.current),Ht=e,sn=!0,h=qt,ga(e.type)?(Ah=h,qt=jn(r.firstChild)):qt=h),Be(t,e,e.pendingProps.children,i),Yl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&jt&&((h=r=qt)&&(r=tv(r,e.type,e.pendingProps,sn),r!==null?(e.stateNode=r,Ht=e,qt=jn(r.firstChild),sn=!1,h=!0):h=!1),h||ui(e)),ft(e),h=e.type,d=e.pendingProps,g=t!==null?t.memoizedProps:null,r=d.children,wh(h,d)?r=null:g!==null&&wh(h,g)&&(e.flags|=32),e.memoizedState!==null&&(h=bc(t,e,_p,null,null,i),No._currentValue=h),Yl(t,e),Be(t,e,r,i),e.child;case 6:return t===null&&jt&&((t=i=qt)&&(i=ev(i,e.pendingProps,sn),i!==null?(e.stateNode=i,Ht=e,qt=null,t=!0):t=!1),t||ui(e)),null;case 13:return Of(t,e,i);case 4:return ie(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cs(e,null,r,i):Be(t,e,r,i),e.child;case 11:return gf(t,e,e.type,e.pendingProps,i);case 7:return Be(t,e,e.pendingProps,i),e.child;case 8:return Be(t,e,e.pendingProps.children,i),e.child;case 12:return Be(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,sa(e,e.type,r.value),Be(t,e,r.children,i),e.child;case 9:return h=e.type._context,r=e.pendingProps.children,rs(e),h=De(h),r=r(h),e.flags|=1,Be(t,e,r,i),e.child;case 14:return yf(t,e,e.type,e.pendingProps,i);case 15:return bf(t,e,e.type,e.pendingProps,i);case 19:return Nf(t,e,i);case 31:return Tp(t,e,i);case 22:return wf(t,e,i,e.pendingProps);case 24:return rs(e),r=De(be),t===null?(h=cc(),h===null&&(h=te,d=lc(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=i),h=d),e.memoizedState={parent:r,cache:h},dc(e),sa(e,be,h)):((t.lanes&i)!==0&&(fc(t,e),lo(e,null,null,i),oo()),h=t.memoizedState,d=e.memoizedState,h.parent!==r?(h={parent:r,cache:r},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),sa(e,be,r)):(r=d.cache,sa(e,be,r),r!==h.cache&&oc(e,[be],i,!0))),Be(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function Ri(t){t.flags|=4}function $c(t,e,i,r,h){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(im())t.flags|=8192;else throw us=jl,hc}else t.flags&=-16777217}function Lf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Km(e))if(im())t.flags|=8192;else throw us=jl,hc}function Xl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Fo():536870912,t.lanes|=e,sr|=e)}function _o(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function se(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function xp(t,e,i){var r=e.pendingProps;switch(he(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(e),null;case 1:return se(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ai(be),ee(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(In(e)?Ri(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,eo())),se(e),null;case 26:var h=e.type,d=e.memoizedState;return t===null?(Ri(e),d!==null?(se(e),Lf(e,d)):(se(e),$c(e,h,null,r,i))):d?d!==t.memoizedState?(Ri(e),se(e),Lf(e,d)):(se(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ri(e),se(e),$c(e,h,t,r,i)),null;case 27:if(Ve(e),i=ot.current,h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ri(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return se(e),null}t=tt.current,In(e)?to(e):(t=Um(h,r,i),e.stateNode=t,Ri(e))}return se(e),null;case 5:if(Ve(e),h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ri(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return se(e),null}if(d=tt.current,In(e))to(e);else{var g=cu(ot.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?g.createElement(h,{is:r.is}):g.createElement(h)}}d[ge]=e,d[Re]=r;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=d;t:switch(Ue(d,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ri(e)}}return se(e),$c(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ri(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(u(166));if(t=ot.current,In(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[ge]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Om(t.nodeValue,i)),t||ui(e,!0)}else t=cu(t).createTextNode(r),t[ge]=e,e.stateNode=t}return se(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(r=In(e),i!==null){if(t===null){if(!r)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[ge]=e}else xi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),t=!1}else i=eo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(vn(e),e):(vn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return se(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=In(e),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[ge]=e}else xi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),h=!1}else h=eo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(vn(e),e):(vn(e),null)}return vn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=e.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==h&&(r.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Xl(e,e.updateQueue),se(e),null);case 4:return ee(),t===null&&ph(e.stateNode.containerInfo),se(e),null;case 10:return Ai(e.type),se(e),null;case 19:if(V(pe),r=e.memoizedState,r===null)return se(e),null;if(h=(e.flags&128)!==0,d=r.rendering,d===null)if(h)_o(r,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(d=Dl(t),d!==null){for(e.flags|=128,_o(r,!1),t=d.updateQueue,e.updateQueue=t,Xl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Qr(i,t),i=i.sibling;return F(pe,pe.current&1|2),jt&&mt(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ye()>tu&&(e.flags|=128,h=!0,_o(r,!1),e.lanes=4194304)}else{if(!h)if(t=Dl(d),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,Xl(e,t),_o(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!jt)return se(e),null}else 2*Ye()-r.renderingStartTime>tu&&i!==536870912&&(e.flags|=128,h=!0,_o(r,!1),e.lanes=4194304);r.isBackwards?(d.sibling=e.child,e.child=d):(t=r.last,t!==null?t.sibling=d:e.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ye(),t.sibling=null,i=pe.current,F(pe,h?i&1|2:i&1),jt&&mt(e,r.treeForkCount),t):(se(e),null);case 22:case 23:return vn(e),vc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(se(e),e.subtreeFlags&6&&(e.flags|=8192)):se(e),i=e.updateQueue,i!==null&&Xl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&V(os),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ai(be),se(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function Ap(t,e){switch(he(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ai(be),ee(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ve(e),null;case 31:if(e.memoizedState!==null){if(vn(e),e.alternate===null)throw Error(u(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(vn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(pe),null;case 4:return ee(),null;case 10:return Ai(e.type),null;case 22:case 23:return vn(e),vc(),t!==null&&V(os),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ai(be),null;case 25:return null;default:return null}}function jf(t,e){switch(he(e),e.tag){case 3:Ai(be),ee();break;case 26:case 27:case 5:Ve(e);break;case 4:ee();break;case 31:e.memoizedState!==null&&vn(e);break;case 13:vn(e);break;case 19:V(pe);break;case 10:Ai(e.type);break;case 22:case 23:vn(e),vc(),t!==null&&V(os);break;case 24:Ai(be)}}function po(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var h=r.next;i=h;do{if((i.tag&t)===t){r=void 0;var d=i.create,g=i.inst;r=d(),g.destroy=r}i=i.next}while(i!==h)}}catch(E){$t(e,e.return,E)}}function ha(t,e,i){try{var r=e.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var d=h.next;r=d;do{if((r.tag&t)===t){var g=r.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=e;var O=i,U=E;try{U()}catch(K){$t(h,O,K)}}}r=r.next}while(r!==d)}}catch(K){$t(e,e.return,K)}}function kf(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Sd(e,i)}catch(r){$t(t,t.return,r)}}}function Mf(t,e,i){i.props=ds(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){$t(t,e,r)}}function vo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(h){$t(t,e,h)}}function hi(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(h){$t(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){$t(t,e,h)}else i.current=null}function zf(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(h){$t(t,t.return,h)}}function Xc(t,e,i){try{var r=t.stateNode;$p(r,t.type,i,e),r[Re]=e}catch(h){$t(t,t.return,h)}}function Df(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ga(t.type)||t.tag===4}function Jc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Df(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qc(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=tn));else if(r!==4&&(r===27&&ga(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Qc(t,e,i),t=t.sibling;t!==null;)Qc(t,e,i),t=t.sibling}function Jl(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&ga(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Jl(t,e,i),t=t.sibling;t!==null;)Jl(t,e,i),t=t.sibling}function Bf(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);Ue(e,r,i),e[ge]=t,e[Re]=i}catch(d){$t(t,t.return,d)}}var Li=!1,Te=!1,Wc=!1,Uf=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Op(t,e){if(t=t.containerInfo,yh=vu,t=Ja(t),ii(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var h=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break t}var g=0,E=-1,O=-1,U=0,K=0,X=t,H=null;e:for(;;){for(var I;X!==i||h!==0&&X.nodeType!==3||(E=g+h),X!==d||r!==0&&X.nodeType!==3||(O=g+r),X.nodeType===3&&(g+=X.nodeValue.length),(I=X.firstChild)!==null;)H=X,X=I;for(;;){if(X===t)break e;if(H===i&&++U===h&&(E=g),H===d&&++K===r&&(O=g),(I=X.nextSibling)!==null)break;X=H,H=X.parentNode}X=I}i=E===-1||O===-1?null:{start:E,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(bh={focusedElem:t,selectionRange:i},vu=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){switch(e=ke,d=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,i=e,h=d.memoizedProps,d=d.memoizedState,r=i.stateNode;try{var ct=ds(i.type,h);t=r.getSnapshotBeforeUpdate(ct,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(vt){$t(i,i.return,vt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Th(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}}function Pf(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ki(t,i),r&4&&po(5,i);break;case 1:if(ki(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){$t(i,i.return,g)}else{var h=ds(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(i,i.return,g)}}r&64&&kf(i),r&512&&vo(i,i.return);break;case 3:if(ki(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Sd(t,e)}catch(g){$t(i,i.return,g)}}break;case 27:e===null&&r&4&&Bf(i);case 26:case 5:ki(t,i),e===null&&r&4&&zf(i),r&512&&vo(i,i.return);break;case 12:ki(t,i);break;case 31:ki(t,i),r&4&&Zf(t,i);break;case 13:ki(t,i),r&4&&If(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Dp.bind(null,i),nv(t,i))));break;case 22:if(r=i.memoizedState!==null||Li,!r){e=e!==null&&e.memoizedState!==null||Te,h=Li;var d=Te;Li=r,(Te=e)&&!d?Mi(t,i,(i.subtreeFlags&8772)!==0):ki(t,i),Li=h,Te=d}break;case 30:break;default:ki(t,i)}}function Hf(t){var e=t.alternate;e!==null&&(t.alternate=null,Hf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&kr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,rn=!1;function ji(t,e,i){for(i=i.child;i!==null;)qf(t,e,i),i=i.sibling}function qf(t,e,i){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Hi,i)}catch{}switch(i.tag){case 26:Te||hi(i,e),ji(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Te||hi(i,e);var r=le,h=rn;ga(i.type)&&(le=i.stateNode,rn=!1),ji(t,e,i),Ao(i.stateNode),le=r,rn=h;break;case 5:Te||hi(i,e);case 6:if(r=le,h=rn,le=null,ji(t,e,i),le=r,rn=h,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(i.stateNode)}catch(d){$t(i,e,d)}else try{le.removeChild(i.stateNode)}catch(d){$t(i,e,d)}break;case 18:le!==null&&(rn?(t=le,km(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),fr(t)):km(le,i.stateNode));break;case 4:r=le,h=rn,le=i.stateNode.containerInfo,rn=!0,ji(t,e,i),le=r,rn=h;break;case 0:case 11:case 14:case 15:ha(2,i,e),Te||ha(4,i,e),ji(t,e,i);break;case 1:Te||(hi(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Mf(i,e,r)),ji(t,e,i);break;case 21:ji(t,e,i);break;case 22:Te=(r=Te)||i.memoizedState!==null,ji(t,e,i),Te=r;break;default:ji(t,e,i)}}function Zf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fr(t)}catch(i){$t(e,e.return,i)}}}function If(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fr(t)}catch(i){$t(e,e.return,i)}}function Cp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Uf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Uf),e;default:throw Error(u(435,t.tag))}}function Ql(t,e){var i=Cp(t);e.forEach(function(r){if(!i.has(r)){i.add(r);var h=Bp.bind(null,t,r);r.then(h,h)}})}function on(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var h=i[r],d=t,g=e,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ga(E.type)){le=E.stateNode,rn=!1;break t}break;case 5:le=E.stateNode,rn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(le===null)throw Error(u(160));qf(d,g,h),le=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Gf(e,t),e=e.sibling}var Vn=null;function Gf(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(e,t),ln(t),r&4&&(ha(3,t,t.return),po(3,t),ha(5,t,t.return));break;case 1:on(e,t),ln(t),r&512&&(Te||i===null||hi(i,i.return)),r&64&&Li&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var h=Vn;if(on(e,t),ln(t),r&512&&(Te||i===null||hi(i,i.return)),r&4){var d=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ma]||d[ge]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(r),h.head.insertBefore(d,h.querySelector("head > title"))),Ue(d,r,i),d[ge]=t,ye(d),r=d;break t;case"link":var g=Gm("link","href",h).get(r+(i.href||""));if(g){for(var E=0;E<g.length;E++)if(d=g[E],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(E,1);break e}}d=h.createElement(r),Ue(d,r,i),h.head.appendChild(d);break;case"meta":if(g=Gm("meta","content",h).get(r+(i.content||""))){for(E=0;E<g.length;E++)if(d=g[E],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(E,1);break e}}d=h.createElement(r),Ue(d,r,i),h.head.appendChild(d);break;default:throw Error(u(468,r))}d[ge]=t,ye(d),r=d}t.stateNode=r}else Vm(h,t.type,t.stateNode);else t.stateNode=Im(h,r,t.memoizedProps);else d!==r?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,r===null?Vm(h,t.type,t.stateNode):Im(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Xc(t,t.memoizedProps,i.memoizedProps)}break;case 27:on(e,t),ln(t),r&512&&(Te||i===null||hi(i,i.return)),i!==null&&r&4&&Xc(t,t.memoizedProps,i.memoizedProps);break;case 5:if(on(e,t),ln(t),r&512&&(Te||i===null||hi(i,i.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(ct){$t(t,t.return,ct)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,Xc(t,h,i!==null?i.memoizedProps:h)),r&1024&&(Wc=!0);break;case 6:if(on(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(u(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(ct){$t(t,t.return,ct)}}break;case 3:if(fu=null,h=Vn,Vn=hu(e.containerInfo),on(e,t),Vn=h,ln(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{fr(e.containerInfo)}catch(ct){$t(t,t.return,ct)}Wc&&(Wc=!1,Vf(t));break;case 4:r=Vn,Vn=hu(t.stateNode.containerInfo),on(e,t),ln(t),Vn=r;break;case 12:on(e,t),ln(t);break;case 31:on(e,t),ln(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 13:on(e,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Fl=Ye()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 22:h=t.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,U=Li,K=Te;if(Li=U||h,Te=K||O,on(e,t),Te=K,Li=U,ln(t),r&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(i===null||O||Li||Te||fs(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){O=i=e;try{if(d=O.stateNode,h)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=O.stateNode;var X=O.memoizedProps.style,H=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ct){$t(O,O.return,ct)}}}else if(e.tag===6){if(i===null){O=e;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ct){$t(O,O.return,ct)}}}else if(e.tag===18){if(i===null){O=e;try{var I=O.stateNode;h?Mm(I,!0):Mm(O.stateNode,!1)}catch(ct){$t(O,O.return,ct)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Ql(t,i))));break;case 19:on(e,t),ln(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ql(t,r)));break;case 30:break;case 21:break;default:on(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Df(r)){i=r;break}r=r.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var h=i.stateNode,d=Jc(t);Jl(t,d,h);break;case 5:var g=i.stateNode;i.flags&32&&(Tn(g,""),i.flags&=-33);var E=Jc(t);Jl(t,E,g);break;case 3:case 4:var O=i.stateNode.containerInfo,U=Jc(t);Qc(t,U,O);break;default:throw Error(u(161))}}catch(K){$t(t,t.return,K)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Vf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ki(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Pf(t,e.alternate,e),e=e.sibling}function fs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ha(4,e,e.return),fs(e);break;case 1:hi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Mf(e,e.return,i),fs(e);break;case 27:Ao(e.stateNode);case 26:case 5:hi(e,e.return),fs(e);break;case 22:e.memoizedState===null&&fs(e);break;case 30:fs(e);break;default:fs(e)}t=t.sibling}}function Mi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,h=t,d=e,g=d.flags;switch(d.tag){case 0:case 11:case 15:Mi(h,d,i),po(4,d);break;case 1:if(Mi(h,d,i),r=d,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){$t(r,r.return,U)}if(r=d,h=r.updateQueue,h!==null){var E=r.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)wd(O[h],E)}catch(U){$t(r,r.return,U)}}i&&g&64&&kf(d),vo(d,d.return);break;case 27:Bf(d);case 26:case 5:Mi(h,d,i),i&&r===null&&g&4&&zf(d),vo(d,d.return);break;case 12:Mi(h,d,i);break;case 31:Mi(h,d,i),i&&g&4&&Zf(h,d);break;case 13:Mi(h,d,i),i&&g&4&&If(h,d);break;case 22:d.memoizedState===null&&Mi(h,d,i),vo(d,d.return);break;case 30:break;default:Mi(h,d,i)}e=e.sibling}}function Fc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&no(i))}function th(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&no(t))}function Kn(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kf(t,e,i,r),e=e.sibling}function Kf(t,e,i,r){var h=e.flags;switch(e.tag){case 0:case 11:case 15:Kn(t,e,i,r),h&2048&&po(9,e);break;case 1:Kn(t,e,i,r);break;case 3:Kn(t,e,i,r),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){Kn(t,e,i,r),t=e.stateNode;try{var d=e.memoizedProps,g=d.id,E=d.onPostCommit;typeof E=="function"&&E(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$t(e,e.return,O)}}else Kn(t,e,i,r);break;case 31:Kn(t,e,i,r);break;case 13:Kn(t,e,i,r);break;case 23:break;case 22:d=e.stateNode,g=e.alternate,e.memoizedState!==null?d._visibility&2?Kn(t,e,i,r):go(t,e):d._visibility&2?Kn(t,e,i,r):(d._visibility|=2,nr(t,e,i,r,(e.subtreeFlags&10256)!==0||!1)),h&2048&&Fc(g,e);break;case 24:Kn(t,e,i,r),h&2048&&th(e.alternate,e);break;default:Kn(t,e,i,r)}}function nr(t,e,i,r,h){for(h=h&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var d=t,g=e,E=i,O=r,U=g.flags;switch(g.tag){case 0:case 11:case 15:nr(d,g,E,O,h),po(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?nr(d,g,E,O,h):go(d,g):(K._visibility|=2,nr(d,g,E,O,h)),h&&U&2048&&Fc(g.alternate,g);break;case 24:nr(d,g,E,O,h),h&&U&2048&&th(g.alternate,g);break;default:nr(d,g,E,O,h)}e=e.sibling}}function go(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,h=r.flags;switch(r.tag){case 22:go(i,r),h&2048&&Fc(r.alternate,r);break;case 24:go(i,r),h&2048&&th(r.alternate,r);break;default:go(i,r)}e=e.sibling}}var yo=8192;function ir(t,e,i){if(t.subtreeFlags&yo)for(t=t.child;t!==null;)Yf(t,e,i),t=t.sibling}function Yf(t,e,i){switch(t.tag){case 26:ir(t,e,i),t.flags&yo&&t.memoizedState!==null&&mv(i,Vn,t.memoizedState,t.memoizedProps);break;case 5:ir(t,e,i);break;case 3:case 4:var r=Vn;Vn=hu(t.stateNode.containerInfo),ir(t,e,i),Vn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=yo,yo=16777216,ir(t,e,i),yo=r):ir(t,e,i));break;default:ir(t,e,i)}}function $f(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function bo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];ke=r,Jf(r,t)}$f(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xf(t),t=t.sibling}function Xf(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&ha(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wl(t)):bo(t);break;default:bo(t)}}function Wl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];ke=r,Jf(r,t)}$f(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ha(8,e,e.return),Wl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Wl(e));break;default:Wl(e)}t=t.sibling}}function Jf(t,e){for(;ke!==null;){var i=ke;switch(i.tag){case 0:case 11:case 15:ha(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:no(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,ke=r;else t:for(i=t;ke!==null;){r=ke;var h=r.sibling,d=r.return;if(Hf(r),r===i){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}var Np={getCacheForType:function(t){var e=De(be),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return De(be).controller.signal}},Rp=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,kt=null,Dt=0,Yt=0,gn=null,da=!1,ar=!1,eh=!1,zi=0,fe=0,fa=0,ms=0,nh=0,yn=0,sr=0,wo=null,un=null,ih=!1,Fl=0,Qf=0,tu=1/0,eu=null,ma=null,Ce=0,_a=null,rr=null,Di=0,ah=0,sh=null,Wf=null,So=0,rh=null;function bn(){return(Gt&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?dh():Lr()}function Ff(){if(yn===0)if((Dt&536870912)===0||jt){var t=La;La<<=1,(La&3932160)===0&&(La=262144),yn=t}else yn=536870912;return t=pn.current,t!==null&&(t.flags|=32),yn}function cn(t,e,i){(t===te&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(or(t,0),pa(t,Dt,yn,!1)),_i(t,i),((Gt&2)===0||t!==te)&&(t===te&&((Gt&2)===0&&(ms|=i),fe===4&&pa(t,Dt,yn,!1)),di(t))}function tm(t,e,i){if((Gt&6)!==0)throw Error(u(327));var r=!i&&(e&127)===0&&(e&t.expiredLanes)===0||ka(t,e),h=r?kp(t,e):lh(t,e,!0),d=r;do{if(h===0){ar&&!r&&pa(t,e,0,!1);break}else{if(i=t.current.alternate,d&&!Lp(i)){h=lh(t,e,!1),d=!1;continue}if(h===2){if(d=e,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var E=t;h=wo;var O=E.current.memoizedState.isDehydrated;if(O&&(or(E,g).flags|=256),g=lh(E,g,!1),g!==2){if(eh&&!O){E.errorRecoveryDisabledLanes|=d,ms|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=g}if(d=!1,h!==2)continue}}if(h===1){or(t,0),pa(t,e,0,!0);break}t:{switch(r=t,d=h,d){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:pa(r,e,yn,!da);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Fl+300-Ye(),10<h)){if(pa(r,e,yn,!da),Os(r,0,!0)!==0)break t;Di=e,r.timeoutHandle=Lm(em.bind(null,r,i,un,eu,ih,e,yn,ms,sr,da,d,"Throttled",-0,0),h);break t}em(r,i,un,eu,ih,e,yn,ms,sr,da,d,null,-0,0)}}break}while(!0);di(t)}function em(t,e,i,r,h,d,g,E,O,U,K,X,H,I){if(t.timeoutHandle=-1,X=e.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},Yf(e,d,X);var ct=(d&62914560)===d?Fl-Ye():(d&4194048)===d?Qf-Ye():0;if(ct=_v(X,ct),ct!==null){Di=d,t.cancelPendingCommit=ct(um.bind(null,t,e,d,i,r,h,g,E,O,K,X,null,H,I)),pa(t,d,g,!U);return}}um(t,e,d,i,r,h,g,E,O)}function Lp(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var h=i[r],d=h.getSnapshot;h=h.value;try{if(!Le(d(),h))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pa(t,e,i,r){e&=~nh,e&=~ms,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var h=e;0<h;){var d=31-$e(h),g=1<<d;r[d]=-1,h&=~g}i!==0&&tl(t,i,e)}function nu(){return(Gt&6)===0?(To(0),!1):!0}function oh(){if(kt!==null){if(Yt===0)var t=kt.return;else t=kt,Gn=ci=null,Tc(t),Qs=null,ao=0,t=kt;for(;t!==null;)jf(t.alternate,t),t=t.return;kt=null}}function or(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Qp(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Di=0,oh(),te=t,kt=i=Rn(t.current,null),Dt=e,Yt=0,gn=null,da=!1,ar=ka(t,e),eh=!1,sr=yn=nh=ms=fa=fe=0,un=wo=null,ih=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var h=31-$e(r),d=1<<h;e|=t[h],r&=~d}return zi=e,es(),i}function nm(t,e){xt=null,G.H=fo,e===Js||e===Ll?(e=vd(),Yt=3):e===hc?(e=vd(),Yt=4):Yt=e===Pc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,gn=e,kt===null&&(fe=1,Vl(t,s(e,t.current)))}function im(){var t=pn.current;return t===null?!0:(Dt&4194048)===Dt?Ln===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Ln:!1}function am(){var t=G.H;return G.H=fo,t===null?fo:t}function sm(){var t=G.A;return G.A=Np,t}function iu(){fe=4,da||(Dt&4194048)!==Dt&&pn.current!==null||(ar=!0),(fa&134217727)===0&&(ms&134217727)===0||te===null||pa(te,Dt,yn,!1)}function lh(t,e,i){var r=Gt;Gt|=2;var h=am(),d=sm();(te!==t||Dt!==e)&&(eu=null,or(t,e)),e=!1;var g=fe;t:do try{if(Yt!==0&&kt!==null){var E=kt,O=gn;switch(Yt){case 8:oh(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(e=!0);var U=Yt;if(Yt=0,gn=null,lr(t,E,O,U),i&&ar){g=0;break t}break;default:U=Yt,Yt=0,gn=null,lr(t,E,O,U)}}jp(),g=fe;break}catch(K){nm(t,K)}while(!0);return e&&t.shellSuspendCounter++,Gn=ci=null,Gt=r,G.H=h,G.A=d,kt===null&&(te=null,Dt=0,es()),g}function jp(){for(;kt!==null;)rm(kt)}function kp(t,e){var i=Gt;Gt|=2;var r=am(),h=sm();te!==t||Dt!==e?(eu=null,tu=Ye()+500,or(t,e)):ar=ka(t,e);t:do try{if(Yt!==0&&kt!==null){e=kt;var d=gn;e:switch(Yt){case 1:Yt=0,gn=null,lr(t,e,d,1);break;case 2:case 9:if(_d(d)){Yt=0,gn=null,om(e);break}e=function(){Yt!==2&&Yt!==9||te!==t||(Yt=7),di(t)},d.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:_d(d)?(Yt=0,gn=null,om(e)):(Yt=0,gn=null,lr(t,e,d,7));break;case 5:var g=null;switch(kt.tag){case 26:g=kt.memoizedState;case 5:case 27:var E=kt;if(g?Km(g):E.stateNode.complete){Yt=0,gn=null;var O=E.sibling;if(O!==null)kt=O;else{var U=E.return;U!==null?(kt=U,au(U)):kt=null}break e}}Yt=0,gn=null,lr(t,e,d,5);break;case 6:Yt=0,gn=null,lr(t,e,d,6);break;case 8:oh(),fe=6;break t;default:throw Error(u(462))}}Mp();break}catch(K){nm(t,K)}while(!0);return Gn=ci=null,G.H=r,G.A=h,Gt=i,kt!==null?0:(te=null,Dt=0,es(),fe)}function Mp(){for(;kt!==null&&!Jo();)rm(kt)}function rm(t){var e=Rf(t.alternate,t,zi);t.memoizedProps=t.pendingProps,e===null?au(t):kt=e}function om(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Ef(i,e,e.pendingProps,e.type,void 0,Dt);break;case 11:e=Ef(i,e,e.pendingProps,e.type.render,e.ref,Dt);break;case 5:Tc(e);default:jf(i,e),e=kt=Qr(e,zi),e=Rf(i,e,zi)}t.memoizedProps=t.pendingProps,e===null?au(t):kt=e}function lr(t,e,i,r){Gn=ci=null,Tc(e),Qs=null,ao=0;var h=e.return;try{if(Sp(t,h,e,i,Dt)){fe=1,Vl(t,s(i,t.current)),kt=null;return}}catch(d){if(h!==null)throw kt=h,d;fe=1,Vl(t,s(i,t.current)),kt=null;return}e.flags&32768?(jt||r===1?t=!0:ar||(Dt&536870912)!==0?t=!1:(da=t=!0,(r===2||r===9||r===3||r===6)&&(r=pn.current,r!==null&&r.tag===13&&(r.flags|=16384))),lm(e,t)):au(e)}function au(t){var e=t;do{if((e.flags&32768)!==0){lm(e,da);return}t=e.return;var i=xp(e.alternate,e,zi);if(i!==null){kt=i;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);fe===0&&(fe=5)}function lm(t,e){do{var i=Ap(t.alternate,t);if(i!==null){i.flags&=32767,kt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){kt=t;return}kt=t=i}while(t!==null);fe=6,kt=null}function um(t,e,i,r,h,d,g,E,O){t.cancelPendingCommit=null;do su();while(Ce!==0);if((Gt&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(d=e.lanes|e.childLanes,d|=Is,Gu(t,i,d,g,E,O),t===te&&(kt=te=null,Dt=0),rr=e,_a=t,Di=i,ah=d,sh=h,Wf=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Up(Ca,function(){return mm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=G.T,G.T=null,h=et.p,et.p=2,g=Gt,Gt|=4;try{Op(t,e,i)}finally{Gt=g,et.p=h,G.T=r}}Ce=1,cm(),hm(),dm()}}function cm(){if(Ce===1){Ce=0;var t=_a,e=rr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=G.T,G.T=null;var r=et.p;et.p=2;var h=Gt;Gt|=4;try{Gf(e,t);var d=bh,g=Ja(t.containerInfo),E=d.focusedElem,O=d.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ps(E.ownerDocument.documentElement,E)){if(O!==null&&ii(E)){var U=O.start,K=O.end;if(K===void 0&&(K=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,H=X&&X.defaultView||window;if(H.getSelection){var I=H.getSelection(),ct=E.textContent.length,vt=Math.min(O.start,ct),Wt=O.end===void 0?vt:Math.min(O.end,ct);!I.extend&&vt>Wt&&(g=Wt,Wt=vt,vt=g);var z=Xa(E,vt),j=Xa(E,Wt);if(z&&j&&(I.rangeCount!==1||I.anchorNode!==z.node||I.anchorOffset!==z.offset||I.focusNode!==j.node||I.focusOffset!==j.offset)){var B=X.createRange();B.setStart(z.node,z.offset),I.removeAllRanges(),vt>Wt?(I.addRange(B),I.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),I.addRange(B))}}}}for(X=[],I=E;I=I.parentNode;)I.nodeType===1&&X.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}vu=!!yh,bh=yh=null}finally{Gt=h,et.p=r,G.T=i}}t.current=e,Ce=2}}function hm(){if(Ce===2){Ce=0;var t=_a,e=rr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=G.T,G.T=null;var r=et.p;et.p=2;var h=Gt;Gt|=4;try{Pf(t,e.alternate,e)}finally{Gt=h,et.p=r,G.T=i}}Ce=3}}function dm(){if(Ce===4||Ce===3){Ce=0,Qo();var t=_a,e=rr,i=Di,r=Wf;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ce=5:(Ce=0,rr=_a=null,fm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ma=null),dt(i),e=e.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Hi,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=G.T,h=et.p,et.p=2,G.T=null;try{for(var d=t.onRecoverableError,g=0;g<r.length;g++){var E=r[g];d(E.value,{componentStack:E.stack})}}finally{G.T=e,et.p=h}}(Di&3)!==0&&su(),di(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===rh?So++:(So=0,rh=t):So=0,To(0)}}function fm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,no(e)))}function su(){return cm(),hm(),dm(),mm()}function mm(){if(Ce!==5)return!1;var t=_a,e=ah;ah=0;var i=dt(Di),r=G.T,h=et.p;try{et.p=32>i?32:i,G.T=null,i=sh,sh=null;var d=_a,g=Di;if(Ce=0,rr=_a=null,Di=0,(Gt&6)!==0)throw Error(u(331));var E=Gt;if(Gt|=4,Xf(d.current),Kf(d,d.current,g,i),Gt=E,To(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Hi,d)}catch{}return!0}finally{et.p=h,G.T=r,fm(t,e)}}function _m(t,e,i){e=s(i,e),e=Uc(t.stateNode,e,2),t=la(t,e,2),t!==null&&(_i(t,2),di(t))}function $t(t,e,i){if(t.tag===3)_m(t,t,i);else for(;e!==null;){if(e.tag===3){_m(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ma===null||!ma.has(r))){t=s(i,t),i=pf(2),r=la(e,i,2),r!==null&&(vf(i,r,e,t),_i(r,2),di(r));break}}e=e.return}}function uh(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Rp;var h=new Set;r.set(e,h)}else h=r.get(e),h===void 0&&(h=new Set,r.set(e,h));h.has(i)||(eh=!0,h.add(i),t=zp.bind(null,t,e,i),e.then(t,t))}function zp(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(Dt&i)===i&&(fe===4||fe===3&&(Dt&62914560)===Dt&&300>Ye()-Fl?(Gt&2)===0&&or(t,0):nh|=i,sr===Dt&&(sr=0)),di(t)}function pm(t,e){e===0&&(e=Fo()),t=Nn(t,e),t!==null&&(_i(t,e),di(t))}function Dp(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),pm(t,i)}function Bp(t,e){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(u(314))}r!==null&&r.delete(e),pm(t,i)}function Up(t,e){return xs(t,e)}var ru=null,ur=null,ch=!1,ou=!1,hh=!1,va=0;function di(t){t!==ur&&t.next===null&&(ur===null?ru=ur=t:ur=ur.next=t),ou=!0,ch||(ch=!0,Hp())}function To(t,e){if(!hh&&ou){hh=!0;do for(var i=!1,r=ru;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var d=0;else{var g=r.suspendedLanes,E=r.pingedLanes;d=(1<<31-$e(42|t)+1)-1,d&=h&~(g&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,bm(r,d))}else d=Dt,d=Os(r,r===te?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||ka(r,d)||(i=!0,bm(r,d));r=r.next}while(i);hh=!1}}function Pp(){vm()}function vm(){ou=ch=!1;var t=0;va!==0&&Jp()&&(t=va);for(var e=Ye(),i=null,r=ru;r!==null;){var h=r.next,d=gm(r,e);d===0?(r.next=null,i===null?ru=h:i.next=h,h===null&&(ur=i)):(i=r,(t!==0||(d&3)!==0)&&(ou=!0)),r=h}Ce!==0&&Ce!==5||To(t),va!==0&&(va=0)}function gm(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-$e(d),E=1<<g,O=h[g];O===-1?((E&i)===0||(E&r)!==0)&&(h[g]=Iu(E,e)):O<=e&&(t.expiredLanes|=E),d&=~E}if(e=te,i=Dt,i=Os(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Oa(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||ka(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Oa(r),dt(i)){case 2:case 8:i=Cr;break;case 32:i=Ca;break;case 268435456:i=Nr;break;default:i=Ca}return r=ym.bind(null,t),i=xs(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Oa(r),t.callbackPriority=2,t.callbackNode=null,2}function ym(t,e){if(Ce!==0&&Ce!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(su()&&t.callbackNode!==i)return null;var r=Dt;return r=Os(t,t===te?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(tm(t,r,e),gm(t,Ye()),t.callbackNode!=null&&t.callbackNode===i?ym.bind(null,t):null)}function bm(t,e){if(su())return null;tm(t,e,!0)}function Hp(){Wp(function(){(Gt&6)!==0?xs(As,Pp):vm()})}function dh(){if(va===0){var t=$s;t===0&&(t=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),va=t}return va}function wm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ki(""+t)}function Sm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function qp(t,e,i,r,h){if(e==="submit"&&i&&i.stateNode===h){var d=wm((h[Re]||null).action),g=r.submitter;g&&(e=(e=g[Re]||null)?wm(e.formAction):g.getAttribute("formAction"),e!==null&&(d=e,g=null));var E=new js("action","action",null,r,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(va!==0){var O=g?Sm(h,g):new FormData(h);jc(i,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(E.preventDefault(),O=g?Sm(h,g):new FormData(h),jc(i,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var fh=0;fh<ri.length;fh++){var mh=ri[fh],Zp=mh.toLowerCase(),Ip=mh[0].toUpperCase()+mh.slice(1);nn(Zp,"on"+Ip)}nn(Wa,"onAnimationEnd"),nn(xl,"onAnimationIteration"),nn(Fa,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(ic,"onTransitionRun"),nn(Al,"onTransitionStart"),nn(ac,"onTransitionCancel"),nn(ia,"onTransitionEnd"),Fn("onMouseEnter",["mouseout","mouseover"]),Fn("onMouseLeave",["mouseout","mouseover"]),Fn("onPointerEnter",["pointerout","pointerover"]),Fn("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function Tm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],h=r.event;r=r.listeners;t:{var d=void 0;if(e)for(var g=r.length-1;0<=g;g--){var E=r[g],O=E.instance,U=E.currentTarget;if(E=E.listener,O!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=U;try{d(h)}catch(K){ts(K)}h.currentTarget=null,d=O}else for(g=0;g<r.length;g++){if(E=r[g],O=E.instance,U=E.currentTarget,E=E.listener,O!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=U;try{d(h)}catch(K){ts(K)}h.currentTarget=null,d=O}}}}function Mt(t,e){var i=e[Qn];i===void 0&&(i=e[Qn]=new Set);var r=t+"__bubble";i.has(r)||(Em(e,t,2,!1),i.add(r))}function _h(t,e,i){var r=0;e&&(r|=4),Em(i,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ph(t){if(!t[lu]){t[lu]=!0,sl.forEach(function(i){i!=="selectionchange"&&(Gp.has(i)||_h(i,!1,t),_h(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,_h("selectionchange",!1,e))}}function Em(t,e,i,r){switch(Fm(e)){case 2:var h=gv;break;case 8:h=yv;break;default:h=Lh}i=h.bind(null,e,i,t),h=void 0,!Ha||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):h!==void 0?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function vh(t,e,i,r,h){var d=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var E=r.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=r.return;g!==null;){var O=g.tag;if((O===3||O===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=vi(E),g===null)return;if(O=g.tag,O===5||O===6||O===26||O===27){r=d=g;continue t}E=E.parentNode}}r=r.return}Hr(function(){var U=d,K=Pa(i),X=[];t:{var H=Ol.get(t);if(H!==void 0){var I=js,ct=t;switch(t){case"keypress":if(qa(i)===0)break t;case"keydown":case"keyup":I=fl;break;case"focusin":ct="focus",I=Ir;break;case"focusout":ct="blur",I=Ir;break;case"beforeblur":case"afterblur":I=Ir;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Qu;break;case Wa:case xl:case Fa:I=Gr;break;case ia:I=pl;break;case"scroll":case"scrollend":I=zt;break;case"wheel":I=Si;break;case"copy":case"cut":case"paste":I=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=ml;break;case"toggle":case"beforetoggle":I=Ga}var vt=(e&4)!==0,Wt=!vt&&(t==="scroll"||t==="scrollend"),z=vt?H!==null?H+"Capture":null:H;vt=[];for(var j=U,B;j!==null;){var Y=j;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||z===null||(Y=bi(j,z),Y!=null&&vt.push(xo(j,Y,B))),Wt)break;j=j.return}0<vt.length&&(H=new I(H,ct,null,i,K),X.push({event:H,listeners:vt}))}}if((e&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",H&&i!==Ls&&(ct=i.relatedTarget||i.fromElement)&&(vi(ct)||ct[pi]))break t;if((I||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,I?(ct=i.relatedTarget||i.toElement,I=U,ct=ct?vi(ct):null,ct!==null&&(Wt=_(ct),vt=ct.tag,ct!==Wt||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(I=null,ct=U),I!==ct)){if(vt=ll,Y="onMouseLeave",z="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(vt=ml,Y="onPointerLeave",z="onPointerEnter",j="pointer"),Wt=I==null?H:Wn(I),B=ct==null?H:Wn(ct),H=new vt(Y,j+"leave",I,i,K),H.target=Wt,H.relatedTarget=B,Y=null,vi(K)===U&&(vt=new vt(z,j+"enter",ct,i,K),vt.target=B,vt.relatedTarget=Wt,Y=vt),Wt=Y,I&&ct)e:{for(vt=Vp,z=I,j=ct,B=0,Y=z;Y;Y=vt(Y))B++;Y=0;for(var pt=j;pt;pt=vt(pt))Y++;for(;0<B-Y;)z=vt(z),B--;for(;0<Y-B;)j=vt(j),Y--;for(;B--;){if(z===j||j!==null&&z===j.alternate){vt=z;break e}z=vt(z),j=vt(j)}vt=null}else vt=null;I!==null&&xm(X,H,I,vt,!1),ct!==null&&Wt!==null&&xm(X,Wt,ct,vt,!0)}}t:{if(H=U?Wn(U):window,I=H.nodeName&&H.nodeName.toLowerCase(),I==="select"||I==="input"&&H.type==="file")var Zt=$a;else if(An(H))if(bl)Zt=nc;else{Zt=ec;var ht=qn}else I=H.nodeName,!I||I.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&Ua(U.elementType)&&(Zt=$a):Zt=Fi;if(Zt&&(Zt=Zt(t,U))){yl(X,Zt,i,K);break t}ht&&ht(t,H,U),t==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&Un(H,"number",H.value)}switch(ht=U?Wn(U):window,t){case"focusin":(An(ht)||ht.contentEditable==="true")&&(ai=ht,qs=U,Qa=null);break;case"focusout":Qa=qs=ai=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,Tl(X,i,K);break;case"selectionchange":if(Hs)break;case"keydown":case"keyup":Tl(X,i,K)}var Ct;if(Ms)t:{switch(t){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Ji?gl(t,i)&&(Bt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Bt="onCompositionStart");Bt&&(zs&&i.locale!=="ko"&&(Ji||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Ji&&(Ct=ei()):(En=K,wi="value"in En?En.value:En.textContent,Ji=!0)),ht=uu(U,Bt),0<ht.length&&(Bt=new Vr(Bt,t,null,i,K),X.push({event:Bt,listeners:ht}),Ct?Bt.data=Ct:(Ct=Xr(i),Ct!==null&&(Bt.data=Ct)))),(Ct=Fu?_n(t,i):Qi(t,i))&&(Bt=uu(U,"onBeforeInput"),0<Bt.length&&(ht=new Vr("onBeforeInput","beforeinput",null,i,K),X.push({event:ht,listeners:Bt}),ht.data=Ct)),qp(X,t,U,i,K)}Tm(X,e)})}function xo(t,e,i){return{instance:t,listener:e,currentTarget:i}}function uu(t,e){for(var i=e+"Capture",r=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=bi(t,i),h!=null&&r.unshift(xo(t,h,d)),h=bi(t,e),h!=null&&r.push(xo(t,h,d))),t.tag===3)return r;t=t.return}return[]}function Vp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xm(t,e,i,r,h){for(var d=e._reactName,g=[];i!==null&&i!==r;){var E=i,O=E.alternate,U=E.stateNode;if(E=E.tag,O!==null&&O===r)break;E!==5&&E!==26&&E!==27||U===null||(O=U,h?(U=bi(i,d),U!=null&&g.unshift(xo(i,U,O))):h||(U=bi(i,d),U!=null&&g.push(xo(i,U,O)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var Kp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(Kp,`
`).replace(Yp,"")}function Om(t,e){return e=Am(e),Am(t)===e}function Qt(t,e,i,r,h,d){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Tn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Tn(t,""+r);break;case"className":Xt(t,"class",r);break;case"tabIndex":Xt(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(t,i,r);break;case"style":Ns(t,r,d);break;case"data":if(e!=="object"){Xt(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Ki(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(e!=="input"&&Qt(t,e,"name",h.name,h,null),Qt(t,e,"formEncType",h.formEncType,h,null),Qt(t,e,"formMethod",h.formMethod,h,null),Qt(t,e,"formTarget",h.formTarget,h,null)):(Qt(t,e,"encType",h.encType,h,null),Qt(t,e,"method",h.method,h,null),Qt(t,e,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Ki(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=tn);break;case"onScroll":r!=null&&Mt("scroll",t);break;case"onScrollEnd":r!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=Ki(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Lt(t,"popover",r);break;case"xlinkActuate":Fe(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Fe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Fe(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Fe(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Fe(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Fe(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Lt(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Rs.get(i)||i,Lt(t,i,r))}}function gh(t,e,i,r,h,d){switch(i){case"style":Ns(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof r=="string"?Tn(t,r):(typeof r=="number"||typeof r=="bigint")&&Tn(t,""+r);break;case"onScroll":r!=null&&Mt("scroll",t);break;case"onScrollEnd":r!=null&&Mt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),e=i.slice(2,h?i.length-7:void 0),d=t[Re]||null,d=d!=null?d[i]:null,typeof d=="function"&&t.removeEventListener(e,d,h),typeof r=="function")){typeof d!="function"&&d!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,h);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):Lt(t,i,r)}}}function Ue(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var r=!1,h=!1,d;for(d in i)if(i.hasOwnProperty(d)){var g=i[d];if(g!=null)switch(d){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Qt(t,e,d,g,i,null)}}h&&Qt(t,e,"srcSet",i.srcSet,i,null),r&&Qt(t,e,"src",i.src,i,null);return;case"input":Mt("invalid",t);var E=d=g=h=null,O=null,U=null;for(r in i)if(i.hasOwnProperty(r)){var K=i[r];if(K!=null)switch(r){case"name":h=K;break;case"type":g=K;break;case"checked":O=K;break;case"defaultChecked":U=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(u(137,e));break;default:Qt(t,e,r,K,i,null)}}Ba(t,d,E,O,U,g,h,!1);return;case"select":Mt("invalid",t),r=g=d=null;for(h in i)if(i.hasOwnProperty(h)&&(E=i[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":g=E;break;case"multiple":r=E;default:Qt(t,e,h,E,i,null)}e=d,i=g,t.multiple=!!r,e!=null?Ft(t,!!r,e,!1):i!=null&&Ft(t,!!r,i,!0);return;case"textarea":Mt("invalid",t),d=h=r=null;for(g in i)if(i.hasOwnProperty(g)&&(E=i[g],E!=null))switch(g){case"value":r=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(u(91));break;default:Qt(t,e,g,E,i,null)}Gi(t,r,h,d);return;case"option":for(O in i)i.hasOwnProperty(O)&&(r=i[O],r!=null)&&(O==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":Qt(t,e,O,r,i,null));return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(r=0;r<Eo.length;r++)Mt(Eo[r],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in i)if(i.hasOwnProperty(U)&&(r=i[U],r!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Qt(t,e,U,r,i,null)}return;default:if(Ua(e)){for(K in i)i.hasOwnProperty(K)&&(r=i[K],r!==void 0&&gh(t,e,K,r,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(r=i[E],r!=null&&Qt(t,e,E,r,i,null))}function $p(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,g=null,E=null,O=null,U=null,K=null;for(I in i){var X=i[I];if(i.hasOwnProperty(I)&&X!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":O=X;default:r.hasOwnProperty(I)||Qt(t,e,I,null,r,X)}}for(var H in r){var I=r[H];if(X=i[H],r.hasOwnProperty(H)&&(I!=null||X!=null))switch(H){case"type":d=I;break;case"name":h=I;break;case"checked":U=I;break;case"defaultChecked":K=I;break;case"value":g=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(u(137,e));break;default:I!==X&&Qt(t,e,H,I,r,X)}}Br(t,g,E,O,U,K,d,h);return;case"select":I=g=E=H=null;for(d in i)if(O=i[d],i.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":I=O;default:r.hasOwnProperty(d)||Qt(t,e,d,null,r,O)}for(h in r)if(d=r[h],O=i[h],r.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":g=d;default:d!==O&&Qt(t,e,h,d,r,O)}e=E,i=g,r=I,H!=null?Ft(t,!!i,H,!1):!!r!=!!i&&(e!=null?Ft(t,!!i,e,!0):Ft(t,!!i,i?[]:"",!1));return;case"textarea":I=H=null;for(E in i)if(h=i[E],i.hasOwnProperty(E)&&h!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,e,E,null,r,h)}for(g in r)if(h=r[g],d=i[g],r.hasOwnProperty(g)&&(h!=null||d!=null))switch(g){case"value":H=h;break;case"defaultValue":I=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==d&&Qt(t,e,g,h,r,d)}ti(t,H,I);return;case"option":for(var ct in i)H=i[ct],i.hasOwnProperty(ct)&&H!=null&&!r.hasOwnProperty(ct)&&(ct==="selected"?t.selected=!1:Qt(t,e,ct,null,r,H));for(O in r)H=r[O],I=i[O],r.hasOwnProperty(O)&&H!==I&&(H!=null||I!=null)&&(O==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Qt(t,e,O,H,r,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in i)H=i[vt],i.hasOwnProperty(vt)&&H!=null&&!r.hasOwnProperty(vt)&&Qt(t,e,vt,null,r,H);for(U in r)if(H=r[U],I=i[U],r.hasOwnProperty(U)&&H!==I&&(H!=null||I!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(u(137,e));break;default:Qt(t,e,U,H,r,I)}return;default:if(Ua(e)){for(var Wt in i)H=i[Wt],i.hasOwnProperty(Wt)&&H!==void 0&&!r.hasOwnProperty(Wt)&&gh(t,e,Wt,void 0,r,H);for(K in r)H=r[K],I=i[K],!r.hasOwnProperty(K)||H===I||H===void 0&&I===void 0||gh(t,e,K,H,r,I);return}}for(var z in i)H=i[z],i.hasOwnProperty(z)&&H!=null&&!r.hasOwnProperty(z)&&Qt(t,e,z,null,r,H);for(X in r)H=r[X],I=i[X],!r.hasOwnProperty(X)||H===I||H==null&&I==null||Qt(t,e,X,H,r,I)}function Cm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var h=i[r],d=h.transferSize,g=h.initiatorType,E=h.duration;if(d&&E&&Cm(g)){for(g=0,E=h.responseEnd,r+=1;r<i.length;r++){var O=i[r],U=O.startTime;if(U>E)break;var K=O.transferSize,X=O.initiatorType;K&&Cm(X)&&(O=O.responseEnd,g+=K*(O<E?1:(E-U)/(O-U)))}if(--r,e+=8*(d+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yh=null,bh=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function Nm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sh=null;function Jp(){var t=window.event;return t&&t.type==="popstate"?t===Sh?!1:(Sh=t,!0):(Sh=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,Qp=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(t){return jm.resolve(null).then(t).catch(Fp)}:Lm;function Fp(t){setTimeout(function(){throw t})}function ga(t){return t==="head"}function km(t,e){var i=e,r=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(h),fr(e);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Ao(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Ao(i);for(var d=i.firstChild;d;){var g=d.nextSibling,E=d.nodeName;d[Ma]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}else i==="body"&&Ao(t.ownerDocument.body);i=h}while(i);fr(e)}function Mm(t,e){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function Th(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Th(i),kr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function tv(t,e,i,r){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ma])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function ev(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function zm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=jn(t.nextSibling),t===null))return null;return t}function Eh(t){return t.data==="$?"||t.data==="$~"}function xh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nv(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ah=null;function Dm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return jn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Bm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Um(t,e,i){switch(e=cu(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function Ao(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);kr(t)}var kn=new Map,Pm=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=et.d;et.d={f:iv,r:av,D:sv,C:rv,L:ov,m:lv,X:cv,S:uv,M:hv};function iv(){var t=Bi.f(),e=nu();return t||e}function av(t){var e=qi(t);e!==null&&e.tag===5&&e.type==="form"?ef(e):Bi.r(t)}var cr=typeof document>"u"?null:document;function Hm(t,e,i){var r=cr;if(r&&typeof e=="string"&&e){var h=ae(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Pm.has(h)||(Pm.add(h),t={rel:t,crossOrigin:i,href:e},r.querySelector(h)===null&&(e=r.createElement("link"),Ue(e,"link",t),ye(e),r.head.appendChild(e)))}}function sv(t){Bi.D(t),Hm("dns-prefetch",t,null)}function rv(t,e){Bi.C(t,e),Hm("preconnect",t,e)}function ov(t,e,i){Bi.L(t,e,i);var r=cr;if(r&&t&&e){var h='link[rel="preload"][as="'+ae(e)+'"]';e==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ae(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ae(i.imageSizes)+'"]')):h+='[href="'+ae(t)+'"]';var d=h;switch(e){case"style":d=hr(t);break;case"script":d=dr(t)}kn.has(d)||(t=R({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),kn.set(d,t),r.querySelector(h)!==null||e==="style"&&r.querySelector(Oo(d))||e==="script"&&r.querySelector(Co(d))||(e=r.createElement("link"),Ue(e,"link",t),ye(e),r.head.appendChild(e)))}}function lv(t,e){Bi.m(t,e);var i=cr;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+ae(r)+'"][href="'+ae(t)+'"]',d=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=dr(t)}if(!kn.has(d)&&(t=R({rel:"modulepreload",href:t},e),kn.set(d,t),i.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Co(d)))return}r=i.createElement("link"),Ue(r,"link",t),ye(r),i.head.appendChild(r)}}}function uv(t,e,i){Bi.S(t,e,i);var r=cr;if(r&&t){var h=Zi(r).hoistableStyles,d=hr(t);e=e||"default";var g=h.get(d);if(!g){var E={loading:0,preload:null};if(g=r.querySelector(Oo(d)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":e},i),(i=kn.get(d))&&Oh(t,i);var O=g=r.createElement("link");ye(O),Ue(O,"link",t),O._p=new Promise(function(U,K){O.onload=U,O.onerror=K}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,du(g,e,r)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(d,g)}}}function cv(t,e){Bi.X(t,e);var i=cr;if(i&&t){var r=Zi(i).hoistableScripts,h=dr(t),d=r.get(h);d||(d=i.querySelector(Co(h)),d||(t=R({src:t,async:!0},e),(e=kn.get(h))&&Ch(t,e),d=i.createElement("script"),ye(d),Ue(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(h,d))}}function hv(t,e){Bi.M(t,e);var i=cr;if(i&&t){var r=Zi(i).hoistableScripts,h=dr(t),d=r.get(h);d||(d=i.querySelector(Co(h)),d||(t=R({src:t,async:!0,type:"module"},e),(e=kn.get(h))&&Ch(t,e),d=i.createElement("script"),ye(d),Ue(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(h,d))}}function qm(t,e,i,r){var h=(h=ot.current)?hu(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=hr(i.href),i=Zi(h).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=hr(i.href);var d=Zi(h).hoistableStyles,g=d.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=h.querySelector(Oo(t)))&&!d._p&&(g.instance=d,g.state.loading=5),kn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},kn.set(t,i),d||dv(h,t,i,g.state))),e&&r===null)throw Error(u(528,""));return g}if(e&&r!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=dr(i),i=Zi(h).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function hr(t){return'href="'+ae(t)+'"'}function Oo(t){return'link[rel="stylesheet"]['+t+"]"}function Zm(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function dv(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ue(e,"link",i),ye(e),t.head.appendChild(e))}function dr(t){return'[src="'+ae(t)+'"]'}function Co(t){return"script[async]"+t}function Im(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ae(i.href)+'"]');if(r)return e.instance=r,ye(r),r;var h=R({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ye(r),Ue(r,"style",h),du(r,i.precedence,t),e.instance=r;case"stylesheet":h=hr(i.href);var d=t.querySelector(Oo(h));if(d)return e.state.loading|=4,e.instance=d,ye(d),d;r=Zm(i),(h=kn.get(h))&&Oh(r,h),d=(t.ownerDocument||t).createElement("link"),ye(d);var g=d;return g._p=new Promise(function(E,O){g.onload=E,g.onerror=O}),Ue(d,"link",r),e.state.loading|=4,du(d,i.precedence,t),e.instance=d;case"script":return d=dr(i.src),(h=t.querySelector(Co(d)))?(e.instance=h,ye(h),h):(r=i,(h=kn.get(d))&&(r=R({},i),Ch(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),ye(h),Ue(h,"link",r),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,du(r,i.precedence,t));return e.instance}function du(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,d=h,g=0;g<r.length;g++){var E=r[g];if(E.dataset.precedence===e)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ch(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var fu=null;function Gm(t,e,i){if(fu===null){var r=new Map,h=fu=new Map;h.set(i,r)}else h=fu,r=h.get(i),r||(r=new Map,h.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var d=i[h];if(!(d[Ma]||d[ge]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(e)||"";g=t+g;var E=r.get(g);E?E.push(d):r.set(g,[d])}}return r}function Vm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function fv(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mv(t,e,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=hr(r.href),d=e.querySelector(Oo(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=mu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=d,ye(d);return}d=e.ownerDocument||e,r=Zm(r),(h=kn.get(h))&&Oh(r,h),d=d.createElement("link"),ye(d);var g=d;g._p=new Promise(function(E,O){g.onload=E,g.onerror=O}),Ue(d,"link",r),i.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=mu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Nh=0;function _v(t,e){return t.stylesheets&&t.count===0&&pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+e);0<t.imgBytes&&Nh===0&&(Nh=62500*Xp());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Nh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _u=null;function pu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_u=new Map,e.forEach(pv,t),_u=null,mu.call(t))}function pv(t,e){if(!(e.state.loading&4)){var i=_u.get(t);if(i)var r=i.get(null);else{i=new Map,_u.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var g=h[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),r=g)}r&&i.set(null,r)}h=e.instance,g=h.getAttribute("data-precedence"),d=i.get(g)||r,d===r&&i.set(null,h),i.set(g,h),this.count++,r=mu.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var No={$$typeof:Z,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function vv(t,e,i,r,h,d,g,E,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Ym(t,e,i,r,h,d,g,E,O,U,K,X){return t=new vv(t,e,i,g,O,U,K,X,E),e=1,d===!0&&(e|=24),d=Ze(3,null,null,e),t.current=d,d.stateNode=t,e=lc(),e.refCount++,t.pooledCache=e,e.refCount++,d.memoizedState={element:r,isDehydrated:i,cache:e},dc(d),t}function $m(t){return t?(t=Ti,t):Ti}function Xm(t,e,i,r,h,d){h=$m(h),r.context===null?r.context=h:r.pendingContext=h,r=oa(e),r.payload={element:i},d=d===void 0?null:d,d!==null&&(r.callback=d),i=la(t,r,e),i!==null&&(cn(i,t,e),ro(i,t,e))}function Jm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Rh(t,e){Jm(t,e),(t=t.alternate)&&Jm(t,e)}function Qm(t){if(t.tag===13||t.tag===31){var e=Nn(t,67108864);e!==null&&cn(e,t,67108864),Rh(t,67108864)}}function Wm(t){if(t.tag===13||t.tag===31){var e=bn();e=We(e);var i=Nn(t,e);i!==null&&cn(i,t,e),Rh(t,e)}}var vu=!0;function gv(t,e,i,r){var h=G.T;G.T=null;var d=et.p;try{et.p=2,Lh(t,e,i,r)}finally{et.p=d,G.T=h}}function yv(t,e,i,r){var h=G.T;G.T=null;var d=et.p;try{et.p=8,Lh(t,e,i,r)}finally{et.p=d,G.T=h}}function Lh(t,e,i,r){if(vu){var h=jh(r);if(h===null)vh(t,e,r,gu,i),t_(t,r);else if(wv(h,t,e,i,r))r.stopPropagation();else if(t_(t,r),e&4&&-1<bv.indexOf(t)){for(;h!==null;){var d=qi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=mi(d.pendingLanes);if(g!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var O=1<<31-$e(g);E.entanglements[1]|=O,g&=~O}di(d),(Gt&6)===0&&(tu=Ye()+500,To(0))}}break;case 31:case 13:E=Nn(d,2),E!==null&&cn(E,d,2),nu(),Rh(d,2)}if(d=jh(r),d===null&&vh(t,e,r,gu,i),d===h)break;h=d}h!==null&&r.stopPropagation()}else vh(t,e,r,null,i)}}function jh(t){return t=Pa(t),kh(t)}var gu=null;function kh(t){if(gu=null,t=vi(t),t!==null){var e=_(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=p(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gu=t,null}function Fm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uu()){case As:return 2;case Cr:return 8;case Ca:case Pu:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var Mh=!1,ya=null,ba=null,wa=null,Ro=new Map,Lo=new Map,Sa=[],bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(t,e){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(e.pointerId)}}function jo(t,e,i,r,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:d,targetContainers:[h]},e!==null&&(e=qi(e),e!==null&&Qm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function wv(t,e,i,r,h){switch(e){case"focusin":return ya=jo(ya,t,e,i,r,h),!0;case"dragenter":return ba=jo(ba,t,e,i,r,h),!0;case"mouseover":return wa=jo(wa,t,e,i,r,h),!0;case"pointerover":var d=h.pointerId;return Ro.set(d,jo(Ro.get(d)||null,t,e,i,r,h)),!0;case"gotpointercapture":return d=h.pointerId,Lo.set(d,jo(Lo.get(d)||null,t,e,i,r,h)),!0}return!1}function e_(t){var e=vi(t.target);if(e!==null){var i=_(e);if(i!==null){if(e=i.tag,e===13){if(e=p(i),e!==null){t.blockedOn=e,jr(t.priority,function(){Wm(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,jr(t.priority,function(){Wm(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=jh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);Ls=r,i.target.dispatchEvent(r),Ls=null}else return e=qi(i),e!==null&&Qm(e),t.blockedOn=i,!1;e.shift()}return!0}function n_(t,e,i){yu(t)&&i.delete(e)}function Sv(){Mh=!1,ya!==null&&yu(ya)&&(ya=null),ba!==null&&yu(ba)&&(ba=null),wa!==null&&yu(wa)&&(wa=null),Ro.forEach(n_),Lo.forEach(n_)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Mh||(Mh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Sv)))}var wu=null;function i_(t){wu!==t&&(wu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],h=t[e+2];if(typeof r!="function"){if(kh(r||i)===null)continue;break}var d=qi(i);d!==null&&(t.splice(e,3),e-=3,jc(d,{pending:!0,data:h,method:i.method,action:r},r,h))}}))}function fr(t){function e(O){return bu(O,t)}ya!==null&&bu(ya,t),ba!==null&&bu(ba,t),wa!==null&&bu(wa,t),Ro.forEach(e),Lo.forEach(e);for(var i=0;i<Sa.length;i++){var r=Sa[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Sa.length&&(i=Sa[0],i.blockedOn===null);)e_(i),i.blockedOn===null&&Sa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var h=i[r],d=i[r+1],g=h[Re]||null;if(typeof d=="function")g||i_(i);else if(g){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,g=d[Re]||null)E=g.formAction;else if(kh(h)!==null)continue}else E=g.action;typeof E=="function"?i[r+1]=E:(i.splice(r,3),r-=3),i_(i)}}}function a_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function e(){h!==null&&(h(),h=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),h!==null&&(h(),h=null)}}}function zh(t){this._internalRoot=t}Su.prototype.render=zh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,r=bn();Xm(i,r,t,e,null,null)},Su.prototype.unmount=zh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xm(t.current,2,null,t,null,null),nu(),e[pi]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Sa.length&&e!==0&&e<Sa[i].priority;i++);Sa.splice(i,0,t),i===0&&e_(t)}};var s_=a.version;if(s_!=="19.2.4")throw Error(u(527,s_,"19.2.4"));et.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=T(e),t=t!==null?C(t):null,t=t===null?null:t.stateNode,t};var Tv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Hi=Tu.inject(Tv),Me=Tu}catch{}}return Mo.createRoot=function(t,e){if(!f(t))throw Error(u(299));var i=!1,r="",h=df,d=ff,g=mf;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(d=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=Ym(t,1,!1,null,null,i,r,null,h,d,g,a_),t[pi]=e.current,ph(t),new zh(e)},Mo.hydrateRoot=function(t,e,i){if(!f(t))throw Error(u(299));var r=!1,h="",d=df,g=ff,E=mf,O=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),e=Ym(t,1,!0,e,i??null,r,h,O,d,g,E,a_),e.context=$m(null),i=e.current,r=bn(),r=We(r),h=oa(r),h.callback=null,la(i,h,r),i=r,e.current.lanes=i,_i(e,i),di(e),t[pi]=e.current,ph(t),new Su(e)},Mo.version="19.2.4",Mo}var __;function Mv(){if(__)return Uh.exports;__=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Uh.exports=kv(),Uh.exports}var zv=Mv();function ku(l,a){var o={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&a.indexOf(u)<0&&(o[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(l);f<u.length;f++)a.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(l,u[f])&&(o[u[f]]=l[u[f]]);return o}function Dv(l,a,o,u){function f(_){return _ instanceof o?_:new o(function(p){p(_)})}return new(o||(o=Promise))(function(_,p){function b(C){try{T(u.next(C))}catch(R){p(R)}}function y(C){try{T(u.throw(C))}catch(R){p(R)}}function T(C){C.done?_(C.value):f(C.value).then(b,y)}T((u=u.apply(l,a||[])).next())})}const Bv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class ud extends Error{constructor(a,o="FunctionsError",u){super(a),this.name=o,this.context=u}}class Uv extends ud{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class p_ extends ud{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class v_ extends ud{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Wh;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Wh||(Wh={}));class Pv{constructor(a,{headers:o={},customFetch:u,region:f=Wh.Any}={}){this.url=a,this.headers=o,this.region=f,this.fetch=Bv(u)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Dv(this,arguments,void 0,function*(o,u={}){var f;let _,p;try{const{headers:b,method:y,body:T,signal:C,timeout:R}=u;let M={},{region:A}=u;A||(A=this.region);const k=new URL(`${this.url}/${o}`);A&&A!=="any"&&(M["x-region"]=A,k.searchParams.set("forceFunctionRegion",A));let q;T&&(b&&!Object.prototype.hasOwnProperty.call(b,"Content-Type")||!b)?typeof Blob<"u"&&T instanceof Blob||T instanceof ArrayBuffer?(M["Content-Type"]="application/octet-stream",q=T):typeof T=="string"?(M["Content-Type"]="text/plain",q=T):typeof FormData<"u"&&T instanceof FormData?q=T:(M["Content-Type"]="application/json",q=JSON.stringify(T)):T&&typeof T!="string"&&!(typeof Blob<"u"&&T instanceof Blob)&&!(T instanceof ArrayBuffer)&&!(typeof FormData<"u"&&T instanceof FormData)?q=JSON.stringify(T):q=T;let J=C;R&&(p=new AbortController,_=setTimeout(()=>p.abort(),R),C?(J=p.signal,C.addEventListener("abort",()=>p.abort())):J=p.signal);const Q=yield this.fetch(k.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},M),this.headers),b),body:q,signal:J}).catch(Et=>{throw new Uv(Et)}),it=Q.headers.get("x-relay-error");if(it&&it==="true")throw new p_(Q);if(!Q.ok)throw new v_(Q);let Z=((f=Q.headers.get("Content-Type"))!==null&&f!==void 0?f:"text/plain").split(";")[0].trim(),at;return Z==="application/json"?at=yield Q.json():Z==="application/octet-stream"||Z==="application/pdf"?at=yield Q.blob():Z==="text/event-stream"?at=Q:Z==="multipart/form-data"?at=yield Q.formData():at=yield Q.text(),{data:at,error:null,response:Q}}catch(b){return{data:null,error:b,response:b instanceof v_||b instanceof p_?b.context:void 0}}finally{_&&clearTimeout(_)}})}}var Hv=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},qv=class{constructor(l){var a,o;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(o=l.isMaybeSingle)!==null&&o!==void 0?o:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{let p=null,b=null,y=null,T=_.status,C=_.statusText;if(_.ok){var R,M;if(o.method!=="HEAD"){var A;const Q=await _.text();Q===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((A=o.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?b=Q:b=JSON.parse(Q))}const q=(R=o.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),J=(M=_.headers.get("content-range"))===null||M===void 0?void 0:M.split("/");q&&J&&J.length>1&&(y=parseInt(J[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,T=406,C="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{var k;const q=await _.text();try{p=JSON.parse(q),Array.isArray(p)&&_.status===404&&(b=[],p=null,T=200,C="OK")}catch{_.status===404&&q===""?(T=204,C="No Content"):p={message:q}}if(p&&o.isMaybeSingle&&(!(p==null||(k=p.details)===null||k===void 0)&&k.includes("0 rows"))&&(p=null,T=200,C="OK"),p&&o.shouldThrowOnError)throw new Hv(p)}return{error:p,data:b,count:y,status:T,statusText:C}});return this.shouldThrowOnError||(f=f.catch(_=>{var p;let b="";const y=_?.cause;if(y){var T,C,R,M;const k=(T=y?.message)!==null&&T!==void 0?T:"",q=(C=y?.code)!==null&&C!==void 0?C:"";b=`${(R=_?.name)!==null&&R!==void 0?R:"FetchError"}: ${_?.message}`,b+=`

Caused by: ${(M=y?.name)!==null&&M!==void 0?M:"Error"}: ${k}`,q&&(b+=` (${q})`),y?.stack&&(b+=`
${y.stack}`)}else{var A;b=(A=_?.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(p=_?.name)!==null&&p!==void 0?p:"FetchError"}: ${_?.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,a)}returns(){return this}overrideTypes(){return this}},Zv=class extends qv{select(l){let a=!1;const o=(l??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:f=u}={}){const _=f?`${f}.order`:"order",p=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${p?`${p},`:""}${l}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${l}`),this}range(l,a,{foreignTable:o,referencedTable:u=o}={}){const f=typeof u>"u"?"offset":`${u}.offset`,_=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${l}`),this.url.searchParams.set(_,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:f=!1,format:_="text"}={}){var p;const b=[l?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${_}; for="${y}"; options=${b};`),_==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const g_=new RegExp("[,()]");var br=class extends Zv{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&g_.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`in.(${o})`),this}notIn(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&g_.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`not.in.(${o})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:o,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const _=o===void 0?"":`(${o})`;return this.url.searchParams.append(l,`${f}fts${_}.${a}`),this}match(l){return Object.entries(l).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(l,a,o){return this.url.searchParams.append(l,`not.${a}.${o}`),this}or(l,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${l})`),this}filter(l,a,o){return this.url.searchParams.append(l,`${a}.${o}`),this}},Iv=class{constructor(l,{headers:a={},schema:o,fetch:u}){this.url=l,this.headers=new Headers(a),this.schema=o,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:o=!1,count:u}=a??{},f=o?"HEAD":"GET";let _=!1;const p=(l??"*").split("").map(T=>/\s/.test(T)&&!_?"":(T==='"'&&(_=!_),T)).join(""),{url:b,headers:y}=this.cloneRequestState();return b.searchParams.set("select",p),u&&y.append("Prefer",`count=${u}`),new br({method:f,url:b,headers:y,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:o=!0}={}){var u;const f="POST",{url:_,headers:p}=this.cloneRequestState();if(a&&p.append("Prefer",`count=${a}`),o||p.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((y,T)=>y.concat(Object.keys(T)),[]);if(b.length>0){const y=[...new Set(b)].map(T=>`"${T}"`);_.searchParams.set("columns",y.join(","))}}return new br({method:f,url:_,headers:p,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:f=!0}={}){var _;const p="POST",{url:b,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&b.searchParams.set("on_conflict",a),u&&y.append("Prefer",`count=${u}`),f||y.append("Prefer","missing=default"),Array.isArray(l)){const T=l.reduce((C,R)=>C.concat(Object.keys(R)),[]);if(T.length>0){const C=[...new Set(T)].map(R=>`"${R}"`);b.searchParams.set("columns",C.join(","))}}return new br({method:p,url:b,headers:y,schema:this.schema,body:l,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}update(l,{count:a}={}){var o;const u="PATCH",{url:f,headers:_}=this.cloneRequestState();return a&&_.append("Prefer",`count=${a}`),new br({method:u,url:f,headers:_,schema:this.schema,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:l}={}){var a;const o="DELETE",{url:u,headers:f}=this.cloneRequestState();return l&&f.append("Prefer",`count=${l}`),new br({method:o,url:u,headers:f,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Gv=class G_{constructor(a,{headers:o={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Iv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new G_(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:f=!1,count:_}={}){var p;let b;const y=new URL(`${this.url}/rpc/${a}`);let T;const C=A=>A!==null&&typeof A=="object"&&(!Array.isArray(A)||A.some(C)),R=u&&Object.values(o).some(C);R?(b="POST",T=o):u||f?(b=u?"HEAD":"GET",Object.entries(o).filter(([A,k])=>k!==void 0).map(([A,k])=>[A,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([A,k])=>{y.searchParams.append(A,k)})):(b="POST",T=o);const M=new Headers(this.headers);return R?M.set("Prefer",_?`count=${_},return=minimal`:"return=minimal"):_&&M.set("Prefer",`count=${_}`),new br({method:b,url:y,headers:M,schema:this.schemaName,body:T,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class Vv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const o=globalThis.process;if(o){const u=o.versions;if(u&&u.node){const f=u.node,_=parseInt(f.replace(/^v/,"").split(".")[0]);return _>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${_} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${_} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`

Suggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){const u=this.getWebSocketConstructor();return new u(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Kv="2.93.3",Yv=`realtime-js/${Kv}`,$v="1.0.0",V_="2.0.0",y_=V_,Fh=1e4,Xv=1e3,Jv=100;var Ea;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ea||(Ea={}));var Ne;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Ne||(Ne={}));var Xn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Xn||(Xn={}));var td;(function(l){l.websocket="websocket"})(td||(td={}));var gs;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(gs||(gs={}));class Qv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(a));let u=[a.join_ref,a.ref,a.topic,a.event,a.payload];return o(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer((o=a.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,u;const f=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,f)}_encodeJsonUserBroadcastPush(a){var o,u;const f=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:{},p=new TextEncoder().encode(JSON.stringify(f)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(a,o,u){var f,_;const p=a.topic,b=(f=a.ref)!==null&&f!==void 0?f:"",y=(_=a.join_ref)!==null&&_!==void 0?_:"",T=a.payload.event,C=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},R=Object.keys(C).length===0?"":JSON.stringify(C);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`ref length ${b.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`userEvent length ${T.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const M=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+b.length+p.length+T.length+R.length,A=new ArrayBuffer(this.HEADER_LENGTH+M);let k=new DataView(A),q=0;k.setUint8(q++,this.KINDS.userBroadcastPush),k.setUint8(q++,y.length),k.setUint8(q++,b.length),k.setUint8(q++,p.length),k.setUint8(q++,T.length),k.setUint8(q++,R.length),k.setUint8(q++,o),Array.from(y,Q=>k.setUint8(q++,Q.charCodeAt(0))),Array.from(b,Q=>k.setUint8(q++,Q.charCodeAt(0))),Array.from(p,Q=>k.setUint8(q++,Q.charCodeAt(0))),Array.from(T,Q=>k.setUint8(q++,Q.charCodeAt(0))),Array.from(R,Q=>k.setUint8(q++,Q.charCodeAt(0)));var J=new Uint8Array(A.byteLength+u.byteLength);return J.set(new Uint8Array(A),0),J.set(new Uint8Array(u),A.byteLength),J.buffer}decode(a,o){if(this._isArrayBuffer(a)){let u=this._binaryDecode(a);return o(u)}if(typeof a=="string"){const u=JSON.parse(a),[f,_,p,b,y]=u;return o({join_ref:f,ref:_,topic:p,event:b,payload:y})}return o({})}_binaryDecode(a){const o=new DataView(a),u=o.getUint8(0),f=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,f)}_decodeUserBroadcast(a,o,u){const f=o.getUint8(1),_=o.getUint8(2),p=o.getUint8(3),b=o.getUint8(4);let y=this.HEADER_LENGTH+4;const T=u.decode(a.slice(y,y+f));y=y+f;const C=u.decode(a.slice(y,y+_));y=y+_;const R=u.decode(a.slice(y,y+p));y=y+p;const M=a.slice(y,a.byteLength),A=b===this.JSON_ENCODING?JSON.parse(u.decode(M)):M,k={type:this.BROADCAST_EVENT,event:C,payload:A};return p>0&&(k.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:T,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||((o=a?.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(a,o){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([u])=>o.includes(u)))}}class K_{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ne||(ne={}));const b_=(l,a,o={})=>{var u;const f=(u=o.skipTypes)!==null&&u!==void 0?u:[];return a?Object.keys(a).reduce((_,p)=>(_[p]=Wv(p,l,a,f),_),{}):{}},Wv=(l,a,o,u)=>{const f=a.find(b=>b.name===l),_=f?.type,p=o[l];return _&&!u.includes(_)?Y_(_,p):ed(p)},Y_=(l,a)=>{if(l.charAt(0)==="_"){const o=l.slice(1,l.length);return ng(a,o)}switch(l){case ne.bool:return Fv(a);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return tg(a);case ne.json:case ne.jsonb:return eg(a);case ne.timestamp:return ig(a);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return ed(a);default:return ed(a)}},ed=l=>l,Fv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},tg=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},eg=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},ng=(l,a)=>{if(typeof l!="string")return l;const o=l.length-1,u=l[o];if(l[0]==="{"&&u==="}"){let _;const p=l.slice(1,o);try{_=JSON.parse("["+p+"]")}catch{_=p?p.split(","):[]}return _.map(b=>Y_(a,b))}return l},ig=l=>typeof l=="string"?l.replace(" ","T"):l,$_=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Zh{constructor(a,o,u={},f=Fh){this.channel=a,this.event=o,this.payload=u,this.timeout=f,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var u;return this._hasReceived(a)&&o((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var w_;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(w_||(w_={}));class Po{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},f=>{const{onJoin:_,onLeave:p,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Po.syncState(this.state,f,_,p),this.pendingDiffs.forEach(y=>{this.state=Po.syncDiff(this.state,y,_,p)}),this.pendingDiffs=[],b()}),this.channel._on(u.diff,{},f=>{const{onJoin:_,onLeave:p,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(f):(this.state=Po.syncDiff(this.state,f,_,p),b())}),this.onJoin((f,_,p)=>{this.channel._trigger("presence",{event:"join",key:f,currentPresences:_,newPresences:p})}),this.onLeave((f,_,p)=>{this.channel._trigger("presence",{event:"leave",key:f,currentPresences:_,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,u,f){const _=this.cloneDeep(a),p=this.transformState(o),b={},y={};return this.map(_,(T,C)=>{p[T]||(y[T]=C)}),this.map(p,(T,C)=>{const R=_[T];if(R){const M=C.map(J=>J.presence_ref),A=R.map(J=>J.presence_ref),k=C.filter(J=>A.indexOf(J.presence_ref)<0),q=R.filter(J=>M.indexOf(J.presence_ref)<0);k.length>0&&(b[T]=k),q.length>0&&(y[T]=q)}else b[T]=C}),this.syncDiff(_,{joins:b,leaves:y},u,f)}static syncDiff(a,o,u,f){const{joins:_,leaves:p}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return u||(u=()=>{}),f||(f=()=>{}),this.map(_,(b,y)=>{var T;const C=(T=a[b])!==null&&T!==void 0?T:[];if(a[b]=this.cloneDeep(y),C.length>0){const R=a[b].map(A=>A.presence_ref),M=C.filter(A=>R.indexOf(A.presence_ref)<0);a[b].unshift(...M)}u(b,C,y)}),this.map(p,(b,y)=>{let T=a[b];if(!T)return;const C=y.map(R=>R.presence_ref);T=T.filter(R=>C.indexOf(R.presence_ref)<0),a[b]=T,f(b,T,y),T.length===0&&delete a[b]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(u=>o(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,u)=>{const f=a[u];return"metas"in f?o[u]=f.metas.map(_=>(_.presence_ref=_.phx_ref,delete _.phx_ref,delete _.phx_ref_prev,_)):o[u]=f,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S_;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(S_||(S_={}));var Ho;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ho||(Ho={}));var Ui;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Ui||(Ui={}));class Tr{constructor(a,o={config:{}},u){var f,_;if(this.topic=a,this.params=o,this.socket=u,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Zh(this,Xn.join,this.params,this.timeout),this.rejoinTimer=new K_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xn.reply,{},(p,b)=>{this._trigger(this._replyEventName(b),p)}),this.presence=new Po(this),this.broadcastEndpointURL=$_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((_=(f=this.params.config)===null||f===void 0?void 0:f.broadcast)===null||_===void 0)&&_.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var u,f,_;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:p,presence:b,private:y}}=this.params,T=(f=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(A=>A.filter))!==null&&f!==void 0?f:[],C=!!this.bindings[Ho.PRESENCE]&&this.bindings[Ho.PRESENCE].length>0||((_=this.params.config.presence)===null||_===void 0?void 0:_.enabled)===!0,R={},M={broadcast:p,presence:Object.assign(Object.assign({},b),{enabled:C}),postgres_changes:T,private:y};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(A=>a?.(Ui.CHANNEL_ERROR,A)),this._onClose(()=>a?.(Ui.CLOSED)),this.updateJoinPayload(Object.assign({config:M},R)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:A})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){a?.(Ui.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,J=(k=q?.length)!==null&&k!==void 0?k:0,Q=[];for(let it=0;it<J;it++){const Z=q[it],{filter:{event:at,schema:Et,table:ut,filter:st}}=Z,Rt=A&&A[it];if(Rt&&Rt.event===at&&Tr.isFilterValueEqual(Rt.schema,Et)&&Tr.isFilterValueEqual(Rt.table,ut)&&Tr.isFilterValueEqual(Rt.filter,st))Q.push(Object.assign(Object.assign({},Z),{id:Rt.id}));else{this.unsubscribe(),this.state=Ne.errored,a?.(Ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Q,a&&a(Ui.SUBSCRIBED);return}}).receive("error",A=>{this.state=Ne.errored,a?.(Ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{a?.(Ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,o={}){return await this.send({type:"presence",event:"track",payload:a},o.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,o,u){return this.state===Ne.joined&&a===Ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,o,u)}async httpSend(a,o,u={}){var f;if(o==null)return Promise.reject("Payload is required for httpSend()");const _={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(_.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:_,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(f=u.timeout)!==null&&f!==void 0?f:this.timeout);if(b.status===202)return{success:!0};let y=b.statusText;try{const T=await b.json();y=T.error||T.message||y}catch{}return Promise.reject(new Error(y))}async send(a,o={}){var u,f;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:_,payload:p}=a,b={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(b.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:b,body:JSON.stringify({messages:[{topic:this.subTopic,event:_,payload:p,private:this.private}]})};try{const T=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);return await((f=T.body)===null||f===void 0?void 0:f.cancel()),T.ok?"ok":"error"}catch(T){return T.name==="AbortError"?"timed out":"error"}}else return new Promise(_=>{var p,b,y;const T=this._push(a.type,a,o.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(b=(p=this.params)===null||p===void 0?void 0:p.config)===null||b===void 0?void 0:b.broadcast)===null||y===void 0)&&y.ack)&&_("ok"),T.receive("ok",()=>_("ok")),T.receive("error",()=>_("error")),T.receive("timeout",()=>_("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ne.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xn.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(f=>{u=new Zh(this,Xn.leave,{},a),u.receive("ok",()=>{o(),f("ok")}).receive("timeout",()=>{o(),f("timed out")}).receive("error",()=>{f("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(a,o,u){const f=new AbortController,_=setTimeout(()=>f.abort(),u),p=await this.socket.fetch(a,Object.assign(Object.assign({},o),{signal:f.signal}));return clearTimeout(_),p}_push(a,o,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let f=new Zh(this,a,o,u);return this._canPush()?f.send():this._addToPushBuffer(f),f}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Jv){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,u){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,u){var f,_;const p=a.toLocaleLowerCase(),{close:b,error:y,leave:T,join:C}=Xn;if(u&&[b,y,T,C].indexOf(p)>=0&&u!==this._joinRef())return;let M=this._onMessage(p,o,u);if(o&&!M)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(f=this.bindings.postgres_changes)===null||f===void 0||f.filter(A=>{var k,q,J;return((k=A.filter)===null||k===void 0?void 0:k.event)==="*"||((J=(q=A.filter)===null||q===void 0?void 0:q.event)===null||J===void 0?void 0:J.toLocaleLowerCase())===p}).map(A=>A.callback(M,u)):(_=this.bindings[p])===null||_===void 0||_.filter(A=>{var k,q,J,Q,it,Z;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in A){const at=A.id,Et=(k=A.filter)===null||k===void 0?void 0:k.event;return at&&((q=o.ids)===null||q===void 0?void 0:q.includes(at))&&(Et==="*"||Et?.toLocaleLowerCase()===((J=o.data)===null||J===void 0?void 0:J.type.toLocaleLowerCase()))}else{const at=(it=(Q=A?.filter)===null||Q===void 0?void 0:Q.event)===null||it===void 0?void 0:it.toLocaleLowerCase();return at==="*"||at===((Z=o?.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===p}).map(A=>{if(typeof M=="object"&&"ids"in M){const k=M.data,{schema:q,table:J,commit_timestamp:Q,type:it,errors:Z}=k;M=Object.assign(Object.assign({},{schema:q,table:J,commit_timestamp:Q,eventType:it,new:{},old:{},errors:Z}),this._getPayloadRecords(k))}A.callback(M,u)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,u){const f=a.toLocaleLowerCase(),_={type:f,filter:o,callback:u};return this.bindings[f]?this.bindings[f].push(_):this.bindings[f]=[_],this}_off(a,o){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(f=>{var _;return!(((_=f.type)===null||_===void 0?void 0:_.toLocaleLowerCase())===u&&Tr.isEqual(f.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const u in a)if(a[u]!==o[u])return!1;return!0}static isFilterValueEqual(a,o){return(a??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Xn.close,{},a)}_onError(a){this._on(Xn.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(o.new=b_(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(o.old=b_(a.columns,a.old_record)),o}}const Ih=()=>{},Eu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ag=[1e3,2e3,5e3,1e4],sg=1e4,rg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class og{constructor(a,o){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fh,this.transport=null,this.heartbeatIntervalMs=Eu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ih,this.ref=0,this.reconnectTimer=null,this.vsn=y_,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new Qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=f=>f?(..._)=>f(..._):(..._)=>fetch(..._),!(!((u=o?.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${td.websocket}`,this.httpEndpoint=$_(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const o=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const a=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,o,u){this.logger(a,o,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return gs.Connecting;case Ea.open:return gs.Open;case Ea.closing:return gs.Closing;default:return gs.Closed}}isConnected(){return this.connectionState()===gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,o={config:{}}){const u=`realtime:${a}`,f=this.getChannels().find(_=>_.topic===u);if(f)return f;{const _=new Tr(`realtime:${a}`,o,this);return this.channels.push(_),_}}push(a){const{topic:o,event:u,payload:f,ref:_}=a,p=()=>{this.encode(a,b=>{var y;(y=this.conn)===null||y===void 0||y.send(b)})};this.log("push",`${o} ${u} (${_})`,f),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Xv,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Eu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply"&&o.ref&&o.ref===this.pendingHeartbeatRef){const T=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error",T)}catch(C){this.log("error","error in heartbeat callback",C)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:f,payload:_,ref:p}=o,b=p?`(${p})`:"",y=_.status||"";this.log("receive",`${y} ${u} ${f} ${b}`.trim(),_),this.channels.filter(T=>T._isMember(u)).forEach(T=>T._trigger(f,_,p)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Ea.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(o){this.log("error","error in heartbeat callback",o)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Xn.error))}_appendParams(a,o){if(Object.keys(o).length===0)return a;const u=a.match(/\?/)?"&":"?",f=new URLSearchParams(o);return`${a}${u}${f}`}_workerObjectUrl(a){let o;if(a)o=a;else{const u=new Blob([rg],{type:"application/javascript"});o=URL.createObjectURL(u)}return o}_setConnectionState(a,o=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(a=null){let o,u=!1;if(a)o=a,u=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(f){this.log("error","Error fetching access token from callback",f),o=this.accessTokenValue}else o=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(f=>{const _={access_token:o,version:Yv};o&&f.updateJoinPayload(_),f.joinedOnce&&f._isJoined()&&f._push(Xn.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(o)}catch(f){this.log("error",`error in ${a} callback`,f)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new K_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Eu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var o,u,f,_,p,b,y,T,C,R,M,A;switch(this.transport=(o=a?.transport)!==null&&o!==void 0?o:null,this.timeout=(u=a?.timeout)!==null&&u!==void 0?u:Fh,this.heartbeatIntervalMs=(f=a?.heartbeatIntervalMs)!==null&&f!==void 0?f:Eu.HEARTBEAT_INTERVAL,this.worker=(_=a?.worker)!==null&&_!==void 0?_:!1,this.accessToken=(p=a?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(b=a?.heartbeatCallback)!==null&&b!==void 0?b:Ih,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:y_,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(T=a?.reconnectAfterMs)!==null&&T!==void 0?T:(k=>ag[k-1]||sg),this.vsn){case $v:this.encode=(C=a?.encode)!==null&&C!==void 0?C:((k,q)=>q(JSON.stringify(k))),this.decode=(R=a?.decode)!==null&&R!==void 0?R:((k,q)=>q(JSON.parse(k)));break;case V_:this.encode=(M=a?.encode)!==null&&M!==void 0?M:this.serializer.encode.bind(this.serializer),this.decode=(A=a?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var qo=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lg(l,a,o){const u=new URL(a,l);if(o)for(const[f,_]of Object.entries(o))_!==void 0&&u.searchParams.set(f,_);return u.toString()}async function ug(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function cg(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:o,path:u,query:f,body:_,headers:p}){const b=lg(l.baseUrl,u,f),y=await ug(l.auth),T=await a(b,{method:o,headers:{..._?{"Content-Type":"application/json"}:{},...y,...p},body:_?JSON.stringify(_):void 0}),C=await T.text(),R=(T.headers.get("content-type")||"").includes("application/json"),M=R&&C?JSON.parse(C):C;if(!T.ok){const A=R?M:void 0,k=A?.error;throw new qo(k?.message??`Request failed with status ${T.status}`,{status:T.status,icebergType:k?.type,icebergCode:k?.code,details:A})}return{status:T.status,headers:T.headers,data:M}}}}function xu(l){return l.join("")}var hg=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:xu(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(l,a){const o={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xu(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xu(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xu(l.namespace)}`}),!0}catch(a){if(a instanceof qo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(o){if(o instanceof qo&&o.status===409)return;throw o}}};function mr(l){return l.join("")}var dg=class{constructor(l,a="",o){this.client=l,this.prefix=a,this.accessDelegation=o}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mr(l.namespace)}/tables`,body:a,headers:o})).data.metadata}async updateTable(l,a){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(o){if(o instanceof qo&&o.status===404)return!1;throw o}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(o){if(o instanceof qo&&o.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw o}}},fg=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const o=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=cg({baseUrl:o,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new hg(this.client,a),this.tableOps=new dg(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},Mu=class extends Error{constructor(l,a="storage",o,u){super(l),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=o,this.statusCode=u}};function zu(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var Au=class extends Mu{constructor(l,a,o,u="storage"){super(l,u,a,o),this.name=u==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},X_=class extends Mu{constructor(l,a,o="storage"){super(l,o),this.name=o==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const mg=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),_g=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},nd=l=>{if(Array.isArray(l))return l.map(o=>nd(o));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([o,u])=>{const f=o.replace(/([-_][a-z])/gi,_=>_.toUpperCase().replace(/[-_]/g,""));a[f]=nd(u)}),a},pg=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function Zo(l){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Zo(l)}function vg(l,a){if(Zo(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Zo(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function gg(l){var a=vg(l,"string");return Zo(a)=="symbol"?a:a+""}function yg(l,a,o){return(a=gg(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function T_(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable})),o.push.apply(o,u)}return o}function bt(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?T_(Object(o),!0).forEach(function(u){yg(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):T_(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const E_=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},bg=async(l,a,o,u)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!o?.noResolveJson){const f=l,_=f.status||500;if(typeof f.json=="function")f.json().then(p=>{const b=p?.statusCode||p?.code||_+"";a(new Au(E_(p),_,b,u))}).catch(()=>{if(u==="vectors"){const p=_+"";a(new Au(f.statusText||`HTTP ${_} error`,_,p,u))}else{const p=_+"";a(new Au(f.statusText||`HTTP ${_} error`,_,p,u))}});else{const p=_+"";a(new Au(f.statusText||`HTTP ${_} error`,_,p,u))}}else a(new X_(E_(l),l,u))},wg=(l,a,o,u)=>{const f={method:l,headers:a?.headers||{}};return l==="GET"||l==="HEAD"||!u?bt(bt({},f),o):(_g(u)?(f.headers=bt({"Content-Type":"application/json"},a?.headers),f.body=JSON.stringify(u)):f.body=u,a?.duplex&&(f.duplex=a.duplex),bt(bt({},f),o))};async function zo(l,a,o,u,f,_,p){return new Promise((b,y)=>{l(o,wg(a,u,f,_)).then(T=>{if(!T.ok)throw T;if(u?.noResolveJson)return T;if(p==="vectors"){const C=T.headers.get("content-type");if(T.headers.get("content-length")==="0"||T.status===204)return{};if(!C||!C.includes("application/json"))return{}}return T.json()}).then(T=>b(T)).catch(T=>bg(T,y,u,p))})}function J_(l="storage"){return{get:async(a,o,u,f)=>zo(a,"GET",o,u,f,void 0,l),post:async(a,o,u,f,_)=>zo(a,"POST",o,f,_,u,l),put:async(a,o,u,f,_)=>zo(a,"PUT",o,f,_,u,l),head:async(a,o,u,f)=>zo(a,"HEAD",o,bt(bt({},u),{},{noResolveJson:!0}),f,void 0,l),remove:async(a,o,u,f,_)=>zo(a,"DELETE",o,f,_,u,l)}}const Sg=J_("storage"),{get:Io,post:$n,put:id,head:Tg,remove:cd}=Sg,Sn=J_("vectors");var xr=class{constructor(l,a={},o,u="storage"){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.fetch=mg(o),this.namespace=u}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(l){var a=this;try{return{data:await l(),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(zu(o))return{data:null,error:o};throw o}}},Eg=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(zu(a))return{data:null,error:a};throw a}}};let Q_;Q_=Symbol.toStringTag;var xg=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[Q_]="BlobDownloadBuilder",this.promise=null}asStream(){return new Eg(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(zu(a))return{data:null,error:a};throw a}}};const Ag={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Og=class extends xr{constructor(l,a={},o,u){super(l,a,u,"storage"),this.bucketId=o}async uploadOrUpdate(l,a,o,u){var f=this;return f.handleOperation(async()=>{let _;const p=bt(bt({},x_),u);let b=bt(bt({},f.headers),l==="POST"&&{"x-upsert":String(p.upsert)});const y=p.metadata;typeof Blob<"u"&&o instanceof Blob?(_=new FormData,_.append("cacheControl",p.cacheControl),y&&_.append("metadata",f.encodeMetadata(y)),_.append("",o)):typeof FormData<"u"&&o instanceof FormData?(_=o,_.has("cacheControl")||_.append("cacheControl",p.cacheControl),y&&!_.has("metadata")&&_.append("metadata",f.encodeMetadata(y))):(_=o,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType,y&&(b["x-metadata"]=f.toBase64(f.encodeMetadata(y))),(typeof ReadableStream<"u"&&_ instanceof ReadableStream||_&&typeof _=="object"&&"pipe"in _&&typeof _.pipe=="function")&&!p.duplex&&(p.duplex="half")),u?.headers&&(b=bt(bt({},b),u.headers));const T=f._removeEmptyFolders(a),C=f._getFinalPath(T),R=await(l=="PUT"?id:$n)(f.fetch,`${f.url}/object/${C}`,_,bt({headers:b},p?.duplex?{duplex:p.duplex}:{}));return{path:T,id:R.Id,fullPath:R.Key}})}async upload(l,a,o){return this.uploadOrUpdate("POST",l,a,o)}async uploadToSignedUrl(l,a,o,u){var f=this;const _=f._removeEmptyFolders(l),p=f._getFinalPath(_),b=new URL(f.url+`/object/upload/sign/${p}`);return b.searchParams.set("token",a),f.handleOperation(async()=>{let y;const T=bt({upsert:x_.upsert},u),C=bt(bt({},f.headers),{"x-upsert":String(T.upsert)});return typeof Blob<"u"&&o instanceof Blob?(y=new FormData,y.append("cacheControl",T.cacheControl),y.append("",o)):typeof FormData<"u"&&o instanceof FormData?(y=o,y.append("cacheControl",T.cacheControl)):(y=o,C["cache-control"]=`max-age=${T.cacheControl}`,C["content-type"]=T.contentType),{path:_,fullPath:(await id(f.fetch,b.toString(),y,{headers:C})).Key}})}async createSignedUploadUrl(l,a){var o=this;return o.handleOperation(async()=>{let u=o._getFinalPath(l);const f=bt({},o.headers);a?.upsert&&(f["x-upsert"]="true");const _=await $n(o.fetch,`${o.url}/object/upload/sign/${u}`,{},{headers:f}),p=new URL(o.url+_.url),b=p.searchParams.get("token");if(!b)throw new Mu("No token returned by API");return{signedUrl:p.toString(),path:l,token:b}})}async update(l,a,o){return this.uploadOrUpdate("PUT",l,a,o)}async move(l,a,o){var u=this;return u.handleOperation(async()=>await $n(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers}))}async copy(l,a,o){var u=this;return u.handleOperation(async()=>({path:(await $n(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers})).Key}))}async createSignedUrl(l,a,o){var u=this;return u.handleOperation(async()=>{let f=u._getFinalPath(l),_=await $n(u.fetch,`${u.url}/object/sign/${f}`,bt({expiresIn:a},o?.transform?{transform:o.transform}:{}),{headers:u.headers});const p=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{signedUrl:encodeURI(`${u.url}${_.signedURL}${p}`)}})}async createSignedUrls(l,a,o){var u=this;return u.handleOperation(async()=>{const f=await $n(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:a,paths:l},{headers:u.headers}),_=o?.download?`&download=${o.download===!0?"":o.download}`:"";return f.map(p=>bt(bt({},p),{},{signedUrl:p.signedURL?encodeURI(`${u.url}${p.signedURL}${_}`):null}))})}download(l,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),f=u?`?${u}`:"",_=this._getFinalPath(l),p=()=>Io(this.fetch,`${this.url}/${o}/${_}${f}`,{headers:this.headers,noResolveJson:!0});return new xg(p,this.shouldThrowOnError)}async info(l){var a=this;const o=a._getFinalPath(l);return a.handleOperation(async()=>nd(await Io(a.fetch,`${a.url}/object/info/${o}`,{headers:a.headers})))}async exists(l){var a=this;const o=a._getFinalPath(l);try{return await Tg(a.fetch,`${a.url}/object/${o}`,{headers:a.headers}),{data:!0,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(zu(u)&&u instanceof X_){const f=u.originalError;if([400,404].includes(f?.status))return{data:!1,error:u}}throw u}}getPublicUrl(l,a){const o=this._getFinalPath(l),u=[],f=a?.download?`download=${a.download===!0?"":a.download}`:"";f!==""&&u.push(f);const _=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&u.push(p);let b=u.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${o}${b}`)}}}async remove(l){var a=this;return a.handleOperation(async()=>await cd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}))}async list(l,a,o){var u=this;return u.handleOperation(async()=>{const f=bt(bt(bt({},Ag),a),{},{prefix:l||""});return await $n(u.fetch,`${u.url}/object/list/${u.bucketId}`,f,{headers:u.headers},o)})}async listV2(l,a){var o=this;return o.handleOperation(async()=>{const u=bt({},l);return await $n(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,u,{headers:o.headers},a)})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const Cg="2.93.3",$o={"X-Client-Info":`storage-js/${Cg}`};var Ng=class extends xr{constructor(l,a={},o,u){const f=new URL(l);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase."));const _=f.href.replace(/\/$/,""),p=bt(bt({},$o),a);super(_,p,o,"storage")}async listBuckets(l){var a=this;return a.handleOperation(async()=>{const o=a.listBucketOptionsToQueryString(l);return await Io(a.fetch,`${a.url}/bucket${o}`,{headers:a.headers})})}async getBucket(l){var a=this;return a.handleOperation(async()=>await Io(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}))}async createBucket(l,a={public:!1}){var o=this;return o.handleOperation(async()=>await $n(o.fetch,`${o.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}))}async updateBucket(l,a){var o=this;return o.handleOperation(async()=>await id(o.fetch,`${o.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}))}async emptyBucket(l){var a=this;return a.handleOperation(async()=>await $n(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}))}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await cd(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Rg=class extends xr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=bt(bt({},$o),a);super(u,f,o,"storage")}async createBucket(l){var a=this;return a.handleOperation(async()=>await $n(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}))}async listBuckets(l){var a=this;return a.handleOperation(async()=>{const o=new URLSearchParams;l?.limit!==void 0&&o.set("limit",l.limit.toString()),l?.offset!==void 0&&o.set("offset",l.offset.toString()),l?.sortColumn&&o.set("sortColumn",l.sortColumn),l?.sortOrder&&o.set("sortOrder",l.sortOrder),l?.search&&o.set("search",l.search);const u=o.toString(),f=u?`${a.url}/bucket?${u}`:`${a.url}/bucket`;return await Io(a.fetch,f,{headers:a.headers})})}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await cd(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}))}from(l){var a=this;if(!pg(l))throw new Mu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new fg({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(o,{get(f,_){const p=f[_];return typeof p!="function"?p:async(...b)=>{try{return{data:await p.apply(f,b),error:null}}catch(y){if(u)throw y;return{data:null,error:y}}}}})}},Lg=class extends xr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=bt(bt({},$o),{},{"Content-Type":"application/json"},a);super(u,f,o,"vectors")}async createIndex(l){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{})}async getIndex(l,a){var o=this;return o.handleOperation(async()=>await Sn.post(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers}))}async listIndexes(l){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}))}async deleteIndex(l,a){var o=this;return o.handleOperation(async()=>await Sn.post(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers})||{})}},jg=class extends xr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=bt(bt({},$o),{},{"Content-Type":"application/json"},a);super(u,f,o,"vectors")}async putVectors(l){var a=this;if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{})}async getVectors(l){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}))}async listVectors(l){var a=this;if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}))}async queryVectors(l){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}))}async deleteVectors(l){var a=this;if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{})}},kg=class extends xr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=bt(bt({},$o),{},{"Content-Type":"application/json"},a);super(u,f,o,"vectors")}async createBucket(l){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{})}async getBucket(l){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}))}async listBuckets(l={}){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}))}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await Sn.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{})}},Mg=class extends kg{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new zg(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,o=this;return a().call(o,l)}async getBucket(l){var a=()=>super.getBucket,o=this;return a().call(o,l)}async listBuckets(l={}){var a=()=>super.listBuckets,o=this;return a().call(o,l)}async deleteBucket(l){var a=()=>super.deleteBucket,o=this;return a().call(o,l)}},zg=class extends Lg{constructor(l,a,o,u){super(l,a,u),this.vectorBucketName=o}async createIndex(l){var a=()=>super.createIndex,o=this;return a().call(o,bt(bt({},l),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,o=this;return a().call(o,bt(bt({},l),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,o=this;return a().call(o,o.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,o=this;return a().call(o,o.vectorBucketName,l)}index(l){return new Dg(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Dg=class extends jg{constructor(l,a,o,u,f){super(l,a,f),this.vectorBucketName=o,this.indexName=u}async putVectors(l){var a=()=>super.putVectors,o=this;return a().call(o,bt(bt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(l){var a=()=>super.getVectors,o=this;return a().call(o,bt(bt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,o=this;return a().call(o,bt(bt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,o=this;return a().call(o,bt(bt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,o=this;return a().call(o,bt(bt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},Bg=class extends Ng{constructor(l,a={},o,u){super(l,a,o,u)}from(l){return new Og(this.url,this.headers,l,this.fetch)}get vectors(){return new Mg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rg(this.url+"/iceberg",this.headers,this.fetch)}};const W_="2.93.3",wr=30*1e3,ad=3,Gh=ad*wr,Ug="http://localhost:9999",Pg="supabase.auth.token",Hg={"X-Client-Info":`gotrue-js/${W_}`},sd="X-Supabase-Api-Version",F_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zg=600*1e3;class Go extends Error{constructor(a,o,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=u}}function _t(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Ig extends Go{constructor(a,o,u){super(a,o,u),this.name="AuthApiError",this.status=o,this.code=u}}function Gg(l){return _t(l)&&l.name==="AuthApiError"}class ys extends Go{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class Pi extends Go{constructor(a,o,u,f){super(a,u,f),this.name=o,this.status=u}}class wn extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vh(l){return _t(l)&&l.name==="AuthSessionMissingError"}class _r extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ou extends Pi{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends Pi{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vg(l){return _t(l)&&l.name==="AuthImplicitGrantRedirectError"}class A_ extends Pi{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kg extends Pi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rd extends Pi{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function Kh(l){return _t(l)&&l.name==="AuthRetryableFetchError"}class O_ extends Pi{constructor(a,o,u){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=u}}class od extends Pi{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C_=` 	
\r=`.split(""),Yg=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<C_.length;a+=1)l[C_[a].charCodeAt(0)]=-2;for(let a=0;a<Ru.length;a+=1)l[Ru[a].charCodeAt(0)]=a;return l})();function N_(l,a,o){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ru[u]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ru[u]),a.queuedBits-=6}}function tp(l,a,o){const u=Yg[l];if(u>-1)for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function R_(l){const a=[],o=p=>{a.push(String.fromCodePoint(p))},u={utf8seq:0,codepoint:0},f={queue:0,queuedBits:0},_=p=>{Jg(p,u,o)};for(let p=0;p<l.length;p+=1)tp(l.charCodeAt(p),f,_);return a.join("")}function $g(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Xg(l,a){for(let o=0;o<l.length;o+=1){let u=l.charCodeAt(o);if(u>55295&&u<=56319){const f=(u-55296)*1024&65535;u=(l.charCodeAt(o+1)-56320&65535|f)+65536,o+=1}$g(u,a)}}function Jg(l,a,o){if(a.utf8seq===0){if(l<=127){o(l);return}for(let u=1;u<6;u+=1)if((l>>7-u&1)===0){a.utf8seq=u;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&o(a.codepoint)}}function Er(l){const a=[],o={queue:0,queuedBits:0},u=f=>{a.push(f)};for(let f=0;f<l.length;f+=1)tp(l.charCodeAt(f),o,u);return new Uint8Array(a)}function Qg(l){const a=[];return Xg(l,o=>a.push(o)),new Uint8Array(a)}function bs(l){const a=[],o={queue:0,queuedBits:0},u=f=>{a.push(f)};return l.forEach(f=>N_(f,o,u)),N_(null,o,u),a.join("")}function Wg(l){return Math.round(Date.now()/1e3)+l}function Fg(){return Symbol("auth-callback")}const He=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},ep=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function ty(l){const a={},o=new URL(l);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((f,_)=>{a[_]=f})}catch{}return o.searchParams.forEach((u,f)=>{a[f]=u}),a}const np=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ey=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Sr=async(l,a,o)=>{await l.setItem(a,JSON.stringify(o))},ps=async(l,a)=>{const o=await l.getItem(a);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Pe=async(l,a)=>{await l.removeItem(a)};class Du{constructor(){this.promise=new Du.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}Du.promiseConstructor=Promise;function Nu(l){const a=l.split(".");if(a.length!==3)throw new od("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!qg.test(a[u]))throw new od("JWT not in base64url format");return{header:JSON.parse(R_(a[0])),payload:JSON.parse(R_(a[1])),signature:Er(a[2]),raw:{header:a[0],payload:a[1]}}}async function ny(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function iy(l,a){return new Promise((u,f)=>{(async()=>{for(let _=0;_<1/0;_++)try{const p=await l(_);if(!a(_,null,p)){u(p);return}}catch(p){if(!a(_,p)){f(p);return}}})()})}function ay(l){return("0"+l.toString(16)).substr(-2)}function sy(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=o.length;let f="";for(let _=0;_<56;_++)f+=o.charAt(Math.floor(Math.random()*u));return f}return crypto.getRandomValues(a),Array.from(a,ay).join("")}async function ry(l){const o=new TextEncoder().encode(l),u=await crypto.subtle.digest("SHA-256",o),f=new Uint8Array(u);return Array.from(f).map(_=>String.fromCharCode(_)).join("")}async function oy(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const o=await ry(l);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(l,a,o=!1){const u=sy();let f=u;o&&(f+="/PASSWORD_RECOVERY"),await Sr(l,`${a}-code-verifier`,f);const _=await oy(u);return[_,u===_?"plain":"s256"]}const ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uy(l){const a=l.headers.get(sd);if(!a||!a.match(ly))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function cy(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function hy(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(l){if(!dy.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const l={};return new Proxy(l,{get:(a,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fy(l,a){return new Proxy(l,{get:(o,u,f)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const _=u.toString();if(_==="Symbol(Symbol.toPrimitive)"||_==="Symbol(Symbol.toStringTag)"||_==="Symbol(util.inspect.custom)"||_==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,u,f)}return!a.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,u,f)}})}function L_(l){return JSON.parse(JSON.stringify(l))}const vs=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),my=[502,503,504];async function j_(l){var a;if(!ey(l))throw new rd(vs(l),0);if(my.includes(l.status))throw new rd(vs(l),l.status);let o;try{o=await l.json()}catch(_){throw new ys(vs(_),_)}let u;const f=uy(l);if(f&&f.getTime()>=F_["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?u=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(u=o.error_code),u){if(u==="weak_password")throw new O_(vs(o),l.status,((a=o.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(u==="session_not_found")throw new wn}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((_,p)=>_&&typeof p=="string",!0))throw new O_(vs(o),l.status,o.weak_password.reasons);throw new Ig(vs(o),l.status||500,u)}const _y=(l,a,o,u)=>{const f={method:l,headers:a?.headers||{}};return l==="GET"?f:(f.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),f.body=JSON.stringify(u),Object.assign(Object.assign({},f),o))};async function gt(l,a,o,u){var f;const _=Object.assign({},u?.headers);_[sd]||(_[sd]=F_["2024-01-01"].name),u?.jwt&&(_.Authorization=`Bearer ${u.jwt}`);const p=(f=u?.query)!==null&&f!==void 0?f:{};u?.redirectTo&&(p.redirect_to=u.redirectTo);const b=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",y=await py(l,a,o+b,{headers:_,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(y):{data:Object.assign({},y),error:null}}async function py(l,a,o,u,f,_){const p=_y(a,u,f,_);let b;try{b=await l(o,Object.assign({},p))}catch(y){throw console.error(y),new rd(vs(y),0)}if(b.ok||await j_(b),u?.noResolveJson)return b;try{return await b.json()}catch(y){await j_(y)}}function Yn(l){var a;let o=null;yy(l)&&(o=Object.assign({},l),l.expires_at||(o.expires_at=Wg(l.expires_in)));const u=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:o,user:u},error:null}}function k_(l){const a=Yn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0)&&(a.data.weak_password=l.weak_password),a}function xa(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function vy(l){return{data:l,error:null}}function gy(l){const{action_link:a,email_otp:o,hashed_token:u,redirect_to:f,verification_type:_}=l,p=ku(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:a,email_otp:o,hashed_token:u,redirect_to:f,verification_type:_},y=Object.assign({},p);return{data:{properties:b,user:y},error:null}}function M_(l){return l}function yy(l){return l.access_token&&l.refresh_token&&l.expires_in}const $h=["global","local","others"];class by{constructor({url:a="",headers:o={},fetch:u}){this.url=a,this.headers=o,this.fetch=np(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,o=$h[0]){if($h.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$h.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(u){if(_t(u))return{data:null,error:u};throw u}}async inviteUserByEmail(a,o={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:xa})}catch(u){if(_t(u))return{data:{user:null},error:u};throw u}}async generateLink(a){try{const{options:o}=a,u=ku(a,["options"]),f=Object.assign(Object.assign({},u),o);return"newEmail"in u&&(f.new_email=u?.newEmail,delete f.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:f,headers:this.headers,xform:gy,redirectTo:o?.redirectTo})}catch(o){if(_t(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(a){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:xa})}catch(o){if(_t(o))return{data:{user:null},error:o};throw o}}async listUsers(a){var o,u,f,_,p,b,y;try{const T={nextPage:null,lastPage:0,total:0},C=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(_=(f=a?.perPage)===null||f===void 0?void 0:f.toString())!==null&&_!==void 0?_:""},xform:M_});if(C.error)throw C.error;const R=await C.json(),M=(p=C.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(y=(b=C.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(k=>{const q=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),J=JSON.parse(k.split(";")[1].split("=")[1]);T[`${J}Page`]=q}),T.total=parseInt(M)),{data:Object.assign(Object.assign({},R),T),error:null}}catch(T){if(_t(T))return{data:{users:[]},error:T};throw T}}async getUserById(a){vr(a);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:xa})}catch(o){if(_t(o))return{data:{user:null},error:o};throw o}}async updateUserById(a,o){vr(a);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:o,headers:this.headers,xform:xa})}catch(u){if(_t(u))return{data:{user:null},error:u};throw u}}async deleteUser(a,o=!1){vr(a);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:o},xform:xa})}catch(u){if(_t(u))return{data:{user:null},error:u};throw u}}async _listFactors(a){vr(a.userId);try{const{data:o,error:u}=await gt(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:f=>({data:{factors:f},error:null})});return{data:o,error:u}}catch(o){if(_t(o))return{data:null,error:o};throw o}}async _deleteFactor(a){vr(a.userId),vr(a.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}}async _listOAuthClients(a){var o,u,f,_,p,b,y;try{const T={nextPage:null,lastPage:0,total:0},C=await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(_=(f=a?.perPage)===null||f===void 0?void 0:f.toString())!==null&&_!==void 0?_:""},xform:M_});if(C.error)throw C.error;const R=await C.json(),M=(p=C.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(y=(b=C.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(k=>{const q=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),J=JSON.parse(k.split(";")[1].split("=")[1]);T[`${J}Page`]=q}),T.total=parseInt(M)),{data:Object.assign(Object.assign({},R),T),error:null}}catch(T){if(_t(T))return{data:{clients:[]},error:T};throw T}}async _createOAuthClient(a){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(_t(o))return{data:null,error:o};throw o}}async _getOAuthClient(a){try{return await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(_t(o))return{data:null,error:o};throw o}}async _updateOAuthClient(a,o){try{return await gt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:o,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(_t(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(a){try{return await gt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(a){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(_t(o))return{data:null,error:o};throw o}}}function z_(l={}){return{getItem:a=>l[a]||null,setItem:(a,o)=>{l[a]=o},removeItem:a=>{delete l[a]}}}const gr={debug:!!(globalThis&&ep()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ip extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class wy extends ip{}async function Sy(l,a,o){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async f=>{if(f){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,f.name);try{return await o()}finally{gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,f.name)}}else{if(a===0)throw gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new wy(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(gr.debug)try{const _=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(_,null,"  "))}catch(_){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",_)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function Ty(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ap(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Ey(l){return parseInt(l,16)}function xy(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}function Ay(l){var a;const{chainId:o,domain:u,expirationTime:f,issuedAt:_=new Date,nonce:p,notBefore:b,requestId:y,resources:T,scheme:C,uri:R,version:M}=l;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(M!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${M}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const A=ap(l.address),k=C?`${C}://${u}`:u,q=l.statement?`${l.statement}
`:"",J=`${k} wants you to sign in with your Ethereum account:
${A}

${q}`;let Q=`URI: ${R}
Version: ${M}
Chain ID: ${o}${p?`
Nonce: ${p}`:""}
Issued At: ${_.toISOString()}`;if(f&&(Q+=`
Expiration Time: ${f.toISOString()}`),b&&(Q+=`
Not Before: ${b.toISOString()}`),y&&(Q+=`
Request ID: ${y}`),T){let it=`
Resources:`;for(const Z of T){if(!Z||typeof Z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Z}`);it+=`
- ${Z}`}Q+=it}return`${J}
${Q}`}class Ee extends Error{constructor({message:a,code:o,cause:u,name:f}){var _;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=(_=f??(u instanceof Error?u.name:void 0))!==null&&_!==void 0?_:"Unknown Error",this.code=o}}class Lu extends Ee{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function Oy({error:l,options:a}){var o,u,f;const{publicKey:_}=a;if(!_)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((o=_.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((u=_.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((f=_.authenticatorSelection)===null||f===void 0?void 0:f.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ee({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return _.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const p=window.location.hostname;if(sp(p)){if(_.rp.id!==p)return new Ee({message:`The RP ID "${_.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(_.user.id.byteLength<1||_.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Cy({error:l,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ee({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const u=window.location.hostname;if(sp(u)){if(o.rpId!==u)return new Ee({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Ny{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Ry=new Ny;function Ly(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:o,excludeCredentials:u}=l,f=ku(l,["challenge","user","excludeCredentials"]),_=Er(a).buffer,p=Object.assign(Object.assign({},o),{id:Er(o.id).buffer}),b=Object.assign(Object.assign({},f),{challenge:_,user:p});if(u&&u.length>0){b.excludeCredentials=new Array(u.length);for(let y=0;y<u.length;y++){const T=u[y];b.excludeCredentials[y]=Object.assign(Object.assign({},T),{id:Er(T.id).buffer,type:T.type||"public-key",transports:T.transports})}}return b}function jy(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:o}=l,u=ku(l,["challenge","allowCredentials"]),f=Er(a).buffer,_=Object.assign(Object.assign({},u),{challenge:f});if(o&&o.length>0){_.allowCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const b=o[p];_.allowCredentials[p]=Object.assign(Object.assign({},b),{id:Er(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return _}function ky(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l;return{id:l.id,rawId:l.id,response:{attestationObject:bs(new Uint8Array(l.response.attestationObject)),clientDataJSON:bs(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function My(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l,u=l.getClientExtensionResults(),f=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:bs(new Uint8Array(f.authenticatorData)),clientDataJSON:bs(new Uint8Array(f.clientDataJSON)),signature:bs(new Uint8Array(f.signature)),userHandle:f.userHandle?bs(new Uint8Array(f.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function sp(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function D_(){var l,a;return!!(He()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function zy(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",a)}:{data:null,error:new Lu("Empty credential response",a)}}catch(a){return{data:null,error:Oy({error:a,options:l})}}}async function Dy(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Lu("Browser returned unexpected credential type",a)}:{data:null,error:new Lu("Empty credential response",a)}}catch(a){return{data:null,error:Cy({error:a,options:l})}}}const By={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ju(...l){const a=f=>f!==null&&typeof f=="object"&&!Array.isArray(f),o=f=>f instanceof ArrayBuffer||ArrayBuffer.isView(f),u={};for(const f of l)if(f)for(const _ in f){const p=f[_];if(p!==void 0)if(Array.isArray(p))u[_]=p;else if(o(p))u[_]=p;else if(a(p)){const b=u[_];a(b)?u[_]=ju(b,p):u[_]=ju(p)}else u[_]=p}return u}function Py(l,a){return ju(By,l,a||{})}function Hy(l,a){return ju(Uy,l,a||{})}class qy{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:o,friendlyName:u,signal:f},_){var p;try{const{data:b,error:y}=await this.client.mfa.challenge({factorId:a,webauthn:o});if(!b)return{data:null,error:y};const T=f??Ry.createNewAbortSignal();if(b.webauthn.type==="create"){const{user:C}=b.webauthn.credential_options.publicKey;if(!C.name){const R=u;if(R)C.name=`${C.id}:${R}`;else{const A=(await this.client.getUser()).data.user,k=((p=A?.user_metadata)===null||p===void 0?void 0:p.name)||A?.email||A?.id||"User";C.name=`${C.id}:${k}`}}C.displayName||(C.displayName=C.name)}switch(b.webauthn.type){case"create":{const C=Py(b.webauthn.credential_options.publicKey,_?.create),{data:R,error:M}=await zy({publicKey:C,signal:T});return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:M}}case"request":{const C=Hy(b.webauthn.credential_options.publicKey,_?.request),{data:R,error:M}=await Dy(Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:C,signal:T}));return R?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:R}},error:null}:{data:null,error:M}}}}catch(b){return _t(b)?{data:null,error:b}:{data:null,error:new ys("Unexpected error in challenge",b)}}}async _verify({challengeId:a,factorId:o,webauthn:u}){return this.client.mfa.verify({factorId:o,challengeId:a,webauthn:u})}async _authenticate({factorId:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},_){if(!o)return{data:null,error:new Go("rpId is required for WebAuthn authentication")};try{if(!D_())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this.challenge({factorId:a,webauthn:{rpId:o,rpOrigins:u},signal:f},{request:_});if(!p)return{data:null,error:b};const{webauthn:y}=p;return this._verify({factorId:a,challengeId:p.challengeId,webauthn:{type:y.type,rpId:o,rpOrigins:u,credential_response:y.credential_response}})}catch(p){return _t(p)?{data:null,error:p}:{data:null,error:new ys("Unexpected error in authenticate",p)}}}async _register({friendlyName:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},_){if(!o)return{data:null,error:new Go("rpId is required for WebAuthn registration")};try{if(!D_())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this._enroll({friendlyName:a});if(!p)return await this.client.mfa.listFactors().then(C=>{var R;return(R=C.data)===null||R===void 0?void 0:R.all.find(M=>M.factor_type==="webauthn"&&M.friendly_name===a&&M.status!=="unverified")}).then(C=>C?this.client.mfa.unenroll({factorId:C?.id}):void 0),{data:null,error:b};const{data:y,error:T}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:o,rpOrigins:u},signal:f},{create:_});return y?this._verify({factorId:p.id,challengeId:y.challengeId,webauthn:{rpId:o,rpOrigins:u,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:T}}catch(p){return _t(p)?{data:null,error:p}:{data:null,error:new ys("Unexpected error in register",p)}}}}Ty();const Zy={url:Ug,storageKey:Pg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function B_(l,a,o){return await o()}const yr={};class Vo{get jwks(){var a,o;return(o=(a=yr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(a){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,o;return(o=(a=yr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{cachedAt:a})}constructor(a){var o,u,f;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const _=Object.assign(Object.assign({},Zy),a);if(this.storageKey=_.storageKey,this.instanceID=(o=Vo.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,Vo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!_.debug,typeof _.debug=="function"&&(this.logger=_.debug),this.instanceID>0&&He()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=_.persistSession,this.autoRefreshToken=_.autoRefreshToken,this.admin=new by({url:_.url,headers:_.headers,fetch:_.fetch}),this.url=_.url,this.headers=_.headers,this.fetch=np(_.fetch),this.lock=_.lock||B_,this.detectSessionInUrl=_.detectSessionInUrl,this.flowType=_.flowType,this.hasCustomAuthorizationHeader=_.hasCustomAuthorizationHeader,this.throwOnError=_.throwOnError,this.lockAcquireTimeout=_.lockAcquireTimeout,_.lock?this.lock=_.lock:this.persistSession&&He()&&(!((u=globalThis?.navigator)===null||u===void 0)&&u.locks)?this.lock=Sy:this.lock=B_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(_.storage?this.storage=_.storage:ep()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z_(this.memoryStorage)),_.userStorage&&(this.userStorage=_.userStorage)):(this.memoryStorage={},this.storage=z_(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(f=this.broadcastChannel)===null||f===void 0||f.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p);try{await this._notifyAllSubscribers(p.data.event,p.data.session,!1)}catch(b){this._debug("#broadcastChannel","error",b)}})}this.initialize().catch(p=>{this._debug("#initialize()","error",p)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${W_}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let o={},u="none";if(He()&&(o=ty(window.location.href),this._isImplicitGrantCallback(o)?u="implicit":await this._isPKCECallback(o)&&(u="pkce")),He()&&this.detectSessionInUrl&&u!=="none"){const{data:f,error:_}=await this._getSessionFromURL(o,u);if(_){if(this._debug("#_initialize()","error detecting session from URL",_),Vg(_)){const y=(a=_.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:_}}return{error:_}}const{session:p,redirectType:b}=f;return this._debug("#_initialize()","detected session in URL",p,"redirect type",b),await this._saveSession(p),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return _t(o)?this._returnResult({error:o}):this._returnResult({error:new ys("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var o,u,f;try{const _=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(o=a?.options)===null||o===void 0?void 0:o.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(f=a?.options)===null||f===void 0?void 0:f.captchaToken}},xform:Yn}),{data:p,error:b}=_;if(b||!p)return this._returnResult({data:{user:null,session:null},error:b});const y=p.session,T=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:T,session:y},error:null})}catch(_){if(_t(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signUp(a){var o,u,f;try{let _;if("email"in a){const{email:C,password:R,options:M}=a;let A=null,k=null;this.flowType==="pkce"&&([A,k]=await pr(this.storage,this.storageKey)),_=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:M?.emailRedirectTo,body:{email:C,password:R,data:(o=M?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:M?.captchaToken},code_challenge:A,code_challenge_method:k},xform:Yn})}else if("phone"in a){const{phone:C,password:R,options:M}=a;_=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:R,data:(u=M?.data)!==null&&u!==void 0?u:{},channel:(f=M?.channel)!==null&&f!==void 0?f:"sms",gotrue_meta_security:{captcha_token:M?.captchaToken}},xform:Yn})}else throw new Ou("You must provide either an email or phone number and a password");const{data:p,error:b}=_;if(b||!p)return await Pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:b});const y=p.session,T=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:T,session:y},error:null})}catch(_){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_t(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithPassword(a){try{let o;if("email"in a){const{email:_,password:p,options:b}=a;o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:_,password:p,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:k_})}else if("phone"in a){const{phone:_,password:p,options:b}=a;o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:_,password:p,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:k_})}else throw new Ou("You must provide either an email or phone number and a password");const{data:u,error:f}=o;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const _=new _r;return this._returnResult({data:{user:null,session:null},error:_})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:f})}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(a){var o,u,f,_;return await this._handleProviderSignIn(a.provider,{redirectTo:(o=a.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=a.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=a.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:(_=a.options)===null||_===void 0?void 0:_.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:o}=a;switch(o){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(a){var o,u,f,_,p,b,y,T,C,R,M;let A,k;if("message"in a)A=a.message,k=a.signature;else{const{chain:q,wallet:J,statement:Q,options:it}=a;let Z;if(He())if(typeof J=="object")Z=J;else{const wt=window;if("ethereum"in wt&&typeof wt.ethereum=="object"&&"request"in wt.ethereum&&typeof wt.ethereum.request=="function")Z=wt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof J!="object"||!it?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=J}const at=new URL((o=it?.url)!==null&&o!==void 0?o:window.location.href),Et=await Z.request({method:"eth_requestAccounts"}).then(wt=>wt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Et||Et.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ut=ap(Et[0]);let st=(u=it?.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!st){const wt=await Z.request({method:"eth_chainId"});st=Ey(wt)}const Rt={domain:at.host,address:ut,statement:Q,uri:at.href,version:"1",chainId:st,nonce:(f=it?.signInWithEthereum)===null||f===void 0?void 0:f.nonce,issuedAt:(p=(_=it?.signInWithEthereum)===null||_===void 0?void 0:_.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(b=it?.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(y=it?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(T=it?.signInWithEthereum)===null||T===void 0?void 0:T.requestId,resources:(C=it?.signInWithEthereum)===null||C===void 0?void 0:C.resources};A=Ay(Rt),k=await Z.request({method:"personal_sign",params:[xy(A),ut]})}try{const{data:q,error:J}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:k},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(M=a.options)===null||M===void 0?void 0:M.captchaToken}}:null),xform:Yn});if(J)throw J;if(!q||!q.session||!q.user){const Q=new _r;return this._returnResult({data:{user:null,session:null},error:Q})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:J})}catch(q){if(_t(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async signInWithSolana(a){var o,u,f,_,p,b,y,T,C,R,M,A;let k,q;if("message"in a)k=a.message,q=a.signature;else{const{chain:J,wallet:Q,statement:it,options:Z}=a;let at;if(He())if(typeof Q=="object")at=Q;else{const ut=window;if("solana"in ut&&typeof ut.solana=="object"&&("signIn"in ut.solana&&typeof ut.solana.signIn=="function"||"signMessage"in ut.solana&&typeof ut.solana.signMessage=="function"))at=ut.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!Z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");at=Q}const Et=new URL((o=Z?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in at&&at.signIn){const ut=await at.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Z?.signInWithSolana),{version:"1",domain:Et.host,uri:Et.href}),it?{statement:it}:null));let st;if(Array.isArray(ut)&&ut[0]&&typeof ut[0]=="object")st=ut[0];else if(ut&&typeof ut=="object"&&"signedMessage"in ut&&"signature"in ut)st=ut;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in st&&"signature"in st&&(typeof st.signedMessage=="string"||st.signedMessage instanceof Uint8Array)&&st.signature instanceof Uint8Array)k=typeof st.signedMessage=="string"?st.signedMessage:new TextDecoder().decode(st.signedMessage),q=st.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in at)||typeof at.signMessage!="function"||!("publicKey"in at)||typeof at!="object"||!at.publicKey||!("toBase58"in at.publicKey)||typeof at.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${Et.host} wants you to sign in with your Solana account:`,at.publicKey.toBase58(),...it?["",it,""]:[""],"Version: 1",`URI: ${Et.href}`,`Issued At: ${(f=(u=Z?.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date().toISOString()}`,...!((_=Z?.signInWithSolana)===null||_===void 0)&&_.notBefore?[`Not Before: ${Z.signInWithSolana.notBefore}`]:[],...!((p=Z?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${Z.signInWithSolana.expirationTime}`]:[],...!((b=Z?.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${Z.signInWithSolana.chainId}`]:[],...!((y=Z?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${Z.signInWithSolana.nonce}`]:[],...!((T=Z?.signInWithSolana)===null||T===void 0)&&T.requestId?[`Request ID: ${Z.signInWithSolana.requestId}`]:[],...!((R=(C=Z?.signInWithSolana)===null||C===void 0?void 0:C.resources)===null||R===void 0)&&R.length?["Resources",...Z.signInWithSolana.resources.map(st=>`- ${st}`)]:[]].join(`
`);const ut=await at.signMessage(new TextEncoder().encode(k),"utf8");if(!ut||!(ut instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=ut}}try{const{data:J,error:Q}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:bs(q)},!((M=a.options)===null||M===void 0)&&M.captchaToken?{gotrue_meta_security:{captcha_token:(A=a.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Yn});if(Q)throw Q;if(!J||!J.session||!J.user){const it=new _r;return this._returnResult({data:{user:null,session:null},error:it})}return J.session&&(await this._saveSession(J.session),await this._notifyAllSubscribers("SIGNED_IN",J.session)),this._returnResult({data:Object.assign({},J),error:Q})}catch(J){if(_t(J))return this._returnResult({data:{user:null,session:null},error:J});throw J}}async _exchangeCodeForSession(a){const o=await ps(this.storage,`${this.storageKey}-code-verifier`),[u,f]=(o??"").split("/");try{if(!u&&this.flowType==="pkce")throw new Kg;const{data:_,error:p}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:u},xform:Yn});if(await Pe(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!_||!_.session||!_.user){const b=new _r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign(Object.assign({},_),{redirectType:f??null}),error:p})}catch(_){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_t(_))return this._returnResult({data:{user:null,session:null,redirectType:null},error:_});throw _}}async signInWithIdToken(a){try{const{options:o,provider:u,token:f,access_token:_,nonce:p}=a,b=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:f,access_token:_,nonce:p,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Yn}),{data:y,error:T}=b;if(T)return this._returnResult({data:{user:null,session:null},error:T});if(!y||!y.session||!y.user){const C=new _r;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:T})}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(a){var o,u,f,_,p;try{if("email"in a){const{email:b,options:y}=a;let T=null,C=null;this.flowType==="pkce"&&([T,C]=await pr(this.storage,this.storageKey));const{error:R}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(o=y?.data)!==null&&o!==void 0?o:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:T,code_challenge_method:C},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in a){const{phone:b,options:y}=a,{data:T,error:C}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(f=y?.data)!==null&&f!==void 0?f:{},create_user:(_=y?.shouldCreateUser)!==null&&_!==void 0?_:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(p=y?.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:T?.message_id},error:C})}throw new Ou("You must provide either an email or phone number.")}catch(b){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_t(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async verifyOtp(a){var o,u;try{let f,_;"options"in a&&(f=(o=a.options)===null||o===void 0?void 0:o.redirectTo,_=(u=a.options)===null||u===void 0?void 0:u.captchaToken);const{data:p,error:b}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:_}}),redirectTo:f,xform:Yn});if(b)throw b;if(!p)throw new Error("An error occurred on token verification.");const y=p.session,T=p.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:T,session:y},error:null})}catch(f){if(_t(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSSO(a){var o,u,f,_,p;try{let b=null,y=null;this.flowType==="pkce"&&([b,y]=await pr(this.storage,this.storageKey));const T=await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(u=(o=a.options)===null||o===void 0?void 0:o.redirectTo)!==null&&u!==void 0?u:void 0}),!((f=a?.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:b,code_challenge_method:y}),headers:this.headers,xform:vy});return!((_=T.data)===null||_===void 0)&&_.url&&He()&&!(!((p=a.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(T.data.url),this._returnResult(T)}catch(b){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_t(b))return this._returnResult({data:null,error:b});throw b}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)throw u;if(!o)throw new wn;const{error:f}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:f})})}catch(a){if(_t(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const o=`${this.url}/resend`;if("email"in a){const{email:u,type:f,options:_}=a,{error:p}=await gt(this.fetch,"POST",o,{headers:this.headers,body:{email:u,type:f,gotrue_meta_security:{captcha_token:_?.captchaToken}},redirectTo:_?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in a){const{phone:u,type:f,options:_}=a,{data:p,error:b}=await gt(this.fetch,"POST",o,{headers:this.headers,body:{phone:u,type:f,gotrue_meta_security:{captcha_token:_?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:b})}throw new Ou("You must provide either an email or phone number and a type")}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async o=>o))}async _acquireLock(a,o){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),f=(async()=>(await u,await o()))();return this.pendingInLock.push((async()=>{try{await f}catch{}})()),f}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=o();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const f=[...this.pendingInLock];await Promise.all(f),this.pendingInLock.splice(0,f.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await a(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const o=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?a=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const u=a.expires_at?a.expires_at*1e3-Date.now()<Gh:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",a.expires_at),!u){if(this.userStorage){const p=await ps(this.userStorage,this.storageKey+"-user");p?.user?a.user=p.user:a.user=Yh()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};a.user=fy(a.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:f,error:_}=await this._callRefreshToken(a.refresh_token);return _?this._returnResult({data:{session:null},error:_}):this._returnResult({data:{session:f},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const o=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(a){try{return a?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:xa}):await this._useSession(async o=>{var u,f,_;const{data:p,error:b}=o;if(b)throw b;return!(!((u=p.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(_=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&_!==void 0?_:void 0,xform:xa})})}catch(o){if(_t(o))return Vh(o)&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(a,o={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,o))}async _updateUser(a,o={}){try{return await this._useSession(async u=>{const{data:f,error:_}=u;if(_)throw _;if(!f.session)throw new wn;const p=f.session;let b=null,y=null;this.flowType==="pkce"&&a.email!=null&&([b,y]=await pr(this.storage,this.storageKey));const{data:T,error:C}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:b,code_challenge_method:y}),jwt:p.access_token,xform:xa});if(C)throw C;return p.user=T.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(u){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_t(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new wn;const o=Date.now()/1e3;let u=o,f=!0,_=null;const{payload:p}=Nu(a.access_token);if(p.exp&&(u=p.exp,f=u<=o),f){const{data:b,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!b)return{data:{user:null,session:null},error:null};_=b}else{const{data:b,error:y}=await this._getUser(a.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});_={access_token:a.access_token,refresh_token:a.refresh_token,user:b.user,token_type:"bearer",expires_in:u-o,expires_at:u},await this._saveSession(_),await this._notifyAllSubscribers("SIGNED_IN",_)}return this._returnResult({data:{user:_.user,session:_},error:null})}catch(o){if(_t(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async o=>{var u;if(!a){const{data:p,error:b}=o;if(b)throw b;a=(u=p.session)!==null&&u!==void 0?u:void 0}if(!a?.refresh_token)throw new wn;const{data:f,error:_}=await this._callRefreshToken(a.refresh_token);return _?this._returnResult({data:{user:null,session:null},error:_}):f?this._returnResult({data:{user:f.user,session:f},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(a,o){try{if(!He())throw new Cu("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Cu(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new A_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new A_("No code detected.");const{data:it,error:Z}=await this._exchangeCodeForSession(a.code);if(Z)throw Z;const at=new URL(window.location.href);return at.searchParams.delete("code"),window.history.replaceState(window.history.state,"",at.toString()),{data:{session:it.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:f,access_token:_,refresh_token:p,expires_in:b,expires_at:y,token_type:T}=a;if(!_||!b||!p||!T)throw new Cu("No session defined in URL");const C=Math.round(Date.now()/1e3),R=parseInt(b);let M=C+R;y&&(M=parseInt(y));const A=M-C;A*1e3<=wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${R}s`);const k=M-R;C-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,M,C):C-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,M,C);const{data:q,error:J}=await this._getUser(_);if(J)throw J;const Q={provider_token:u,provider_refresh_token:f,access_token:_,expires_in:R,expires_at:M,refresh_token:p,token_type:T,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Q,redirectType:a.type},error:null})}catch(u){if(_t(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const o=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&o)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async o=>{var u;const{data:f,error:_}=o;if(_&&!Vh(_))return this._returnResult({error:_});const p=(u=f.session)===null||u===void 0?void 0:u.access_token;if(p){const{error:b}=await this.admin.signOut(p,a);if(b&&!(Gg(b)&&(b.status===404||b.status===401||b.status===403)||Vh(b)))return this._returnResult({error:b})}return a!=="others"&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const o=Fg(),u={id:o,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:u}}}async _emitInitialSession(a){return await this._useSession(async o=>{var u,f;try{const{data:{session:_},error:p}=o;if(p)throw p;await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",_)),this._debug("INITIAL_SESSION","callback id",a,"session",_)}catch(_){await((f=this.stateChangeEmitters.get(a))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",_),console.error(_)}})}async resetPasswordForEmail(a,o={}){let u=null,f=null;this.flowType==="pkce"&&([u,f]=await pr(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:u,code_challenge_method:f,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(_){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_t(_))return this._returnResult({data:null,error:_});throw _}}async getUserIdentities(){var a;try{const{data:o,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(a=o.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var o;try{const{data:u,error:f}=await this._useSession(async _=>{var p,b,y,T,C;const{data:R,error:M}=_;if(M)throw M;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(p=a.options)===null||p===void 0?void 0:p.redirectTo,scopes:(b=a.options)===null||b===void 0?void 0:b.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",A,{headers:this.headers,jwt:(C=(T=R.session)===null||T===void 0?void 0:T.access_token)!==null&&C!==void 0?C:void 0})});if(f)throw f;return He()&&!(!((o=a.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u?.url),this._returnResult({data:{provider:a.provider,url:u?.url},error:null})}catch(u){if(_t(u))return this._returnResult({data:{provider:a.provider,url:null},error:u});throw u}}async linkIdentityIdToken(a){return await this._useSession(async o=>{var u;try{const{error:f,data:{session:_}}=o;if(f)throw f;const{options:p,provider:b,token:y,access_token:T,nonce:C}=a,R=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=_?.access_token)!==null&&u!==void 0?u:void 0,body:{provider:b,id_token:y,access_token:T,nonce:C,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Yn}),{data:M,error:A}=R;return A?this._returnResult({data:{user:null,session:null},error:A}):!M||!M.session||!M.user?this._returnResult({data:{user:null,session:null},error:new _r}):(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("USER_UPDATED",M.session)),this._returnResult({data:M,error:A}))}catch(f){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_t(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}})}async unlinkIdentity(a){try{return await this._useSession(async o=>{var u,f;const{data:_,error:p}=o;if(p)throw p;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(f=(u=_.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(a){const o=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{const u=Date.now();return await iy(async f=>(f>0&&await ny(200*Math.pow(2,f-1)),this._debug(o,"refreshing attempt",f),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Yn})),(f,_)=>{const p=200*Math.pow(2,f);return _&&Kh(_)&&Date.now()+p-u<wr})}catch(u){if(this._debug(o,"error",u),_t(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(o,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,o){const u=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",o,"url",u),He()&&!o.skipBrowserRedirect&&window.location.assign(u),{data:{provider:a,url:u},error:null}}async _recoverAndRefresh(){var a,o;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const f=await ps(this.storage,this.storageKey);if(f&&this.userStorage){let p=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:f.user},await Sr(this.userStorage,this.storageKey+"-user",p)),f.user=(a=p?.user)!==null&&a!==void 0?a:Yh()}else if(f&&!f.user&&!f.user){const p=await ps(this.storage,this.storageKey+"-user");p&&p?.user?(f.user=p.user,await Pe(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,f)):f.user=Yh()}if(this._debug(u,"session from storage",f),!this._isValidSession(f)){this._debug(u,"session is not valid"),f!==null&&await this._removeSession();return}const _=((o=f.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Gh;if(this._debug(u,`session has${_?"":" not"} expired with margin of ${Gh}s`),_){if(this.autoRefreshToken&&f.refresh_token){const{error:p}=await this._callRefreshToken(f.refresh_token);p&&(console.error(p),Kh(p)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(f.user&&f.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:b}=await this._getUser(f.access_token);!b&&p?.user?(f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(u,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",f)}catch(f){this._debug(u,"error",f),console.error(f);return}finally{this._debug(u,"end")}}async _callRefreshToken(a){var o,u;if(!a)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const f=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(f,"begin");try{this.refreshingDeferred=new Du;const{data:_,error:p}=await this._refreshAccessToken(a);if(p)throw p;if(!_.session)throw new wn;await this._saveSession(_.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",_.session);const b={data:_.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(_){if(this._debug(f,"error",_),_t(_)){const p={data:null,error:_};return Kh(_)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(p),p}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(_),_}finally{this.refreshingDeferred=null,this._debug(f,"end")}}async _notifyAllSubscribers(a,o,u=!0){const f=`#_notifyAllSubscribers(${a})`;this._debug(f,"begin",o,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:a,session:o});const _=[],p=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(a,o)}catch(y){_.push(y)}});if(await Promise.all(p),_.length>0){for(let b=0;b<_.length;b+=1)console.error(_[b]);throw _[0]}}finally{this._debug(f,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Pe(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},a),u=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&o.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:o.user});const f=Object.assign({},o);delete f.user;const _=L_(f);await Sr(this.storage,this.storageKey,_)}else{const f=L_(o);await Sr(this.storage,this.storageKey,f)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pe(this.storage,this.storageKey),await Pe(this.storage,this.storageKey+"-code-verifier"),await Pe(this.storage,this.storageKey+"-user"),this.userStorage&&await Pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&He()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),wr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const o=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=o,o&&typeof o=="object"&&typeof o.unref=="function"?o.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(o)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const o=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,o&&clearTimeout(o)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async o=>{const{data:{session:u}}=o;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const f=Math.floor((u.expires_at*1e3-a)/wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${f} ticks, a tick lasts ${wr}ms, refresh threshold is ${ad} ticks`),f<=ad&&await this._callRefreshToken(u.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof ip)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const o=`#_onVisibilityChanged(${a})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,o,u){const f=[`provider=${encodeURIComponent(o)}`];if(u?.redirectTo&&f.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&f.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[_,p]=await pr(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(_)}`,code_challenge_method:`${encodeURIComponent(p)}`});f.push(b.toString())}if(u?.queryParams){const _=new URLSearchParams(u.queryParams);f.push(_.toString())}return u?.skipBrowserRedirect&&f.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${a}?${f.join("&")}`}async _unenroll(a){try{return await this._useSession(async o=>{var u;const{data:f,error:_}=o;return _?this._returnResult({data:null,error:_}):await gt(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(u=f?.session)===null||u===void 0?void 0:u.access_token})})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(a){try{return await this._useSession(async o=>{var u,f;const{data:_,error:p}=o;if(p)return this._returnResult({data:null,error:p});const b=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:T}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(u=_?.session)===null||u===void 0?void 0:u.access_token});return T?this._returnResult({data:null,error:T}):(a.factorType==="totp"&&y.type==="totp"&&(!((f=y?.totp)===null||f===void 0)&&f.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:f,error:_}=o;if(_)return this._returnResult({data:null,error:_});const p=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?ky(a.webauthn.credential_response):My(a.webauthn.credential_response)})}:{code:a.code}),{data:b,error:y}=await gt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:p,headers:this.headers,jwt:(u=f?.session)===null||u===void 0?void 0:u.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),this._returnResult({data:b,error:y}))})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:f,error:_}=o;if(_)return this._returnResult({data:null,error:_});const p=await gt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(u=f?.session)===null||u===void 0?void 0:u.access_token});if(p.error)return p;const{data:b}=p;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:Ly(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:jy(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(a){const{data:o,error:u}=await this._challenge({factorId:a.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:a.factorId,challengeId:o.id,code:a.code})}async _listFactors(){var a;const{data:{user:o},error:u}=await this.getUser();if(u)return{data:null,error:u};const f={all:[],phone:[],totp:[],webauthn:[]};for(const _ of(a=o?.factors)!==null&&a!==void 0?a:[])f.all.push(_),_.status==="verified"&&f[_.factor_type].push(_);return{data:f,error:null}}async _getAuthenticatorAssuranceLevel(a){var o,u,f,_;if(a)try{const{payload:A}=Nu(a);let k=null;A.aal&&(k=A.aal);let q=k;const{data:{user:J},error:Q}=await this.getUser(a);if(Q)return this._returnResult({data:null,error:Q});((u=(o=J?.factors)===null||o===void 0?void 0:o.filter(at=>at.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(q="aal2");const Z=A.amr||[];return{data:{currentLevel:k,nextLevel:q,currentAuthenticationMethods:Z},error:null}}catch(A){if(_t(A))return this._returnResult({data:null,error:A});throw A}const{data:{session:p},error:b}=await this.getSession();if(b)return this._returnResult({data:null,error:b});if(!p)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Nu(p.access_token);let T=null;y.aal&&(T=y.aal);let C=T;((_=(f=p.user.factors)===null||f===void 0?void 0:f.filter(A=>A.status==="verified"))!==null&&_!==void 0?_:[]).length>0&&(C="aal2");const M=y.amr||[];return{data:{currentLevel:T,nextLevel:C,currentAuthenticationMethods:M},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async o=>{const{data:{session:u},error:f}=o;return f?this._returnResult({data:null,error:f}):u?await gt(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:u.access_token,xform:_=>({data:_,error:null})}):this._returnResult({data:null,error:new wn})})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:f},error:_}=u;if(_)return this._returnResult({data:null,error:_});if(!f)return this._returnResult({data:null,error:new wn});const p=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&He()&&!o?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(u){if(_t(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:f},error:_}=u;if(_)return this._returnResult({data:null,error:_});if(!f)return this._returnResult({data:null,error:new wn});const p=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&He()&&!o?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(u){if(_t(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;return u?this._returnResult({data:null,error:u}):o?await gt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new wn})})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async o=>{const{data:{session:u},error:f}=o;return f?this._returnResult({data:null,error:f}):u?(await gt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(a,o={keys:[]}){let u=o.keys.find(b=>b.kid===a);if(u)return u;const f=Date.now();if(u=this.jwks.keys.find(b=>b.kid===a),u&&this.jwks_cached_at+Zg>f)return u;const{data:_,error:p}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!_.keys||_.keys.length===0||(this.jwks=_,this.jwks_cached_at=f,u=_.keys.find(b=>b.kid===a),!u)?null:u}async getClaims(a,o={}){try{let u=a;if(!u){const{data:A,error:k}=await this.getSession();if(k||!A.session)return this._returnResult({data:null,error:k});u=A.session.access_token}const{header:f,payload:_,signature:p,raw:{header:b,payload:y}}=Nu(u);o?.allowExpired||cy(_.exp);const T=!f.alg||f.alg.startsWith("HS")||!f.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(f.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!T){const{error:A}=await this.getUser(u);if(A)throw A;return{data:{claims:_,header:f,signature:p},error:null}}const C=hy(f.alg),R=await crypto.subtle.importKey("jwk",T,C,!0,["verify"]);if(!await crypto.subtle.verify(C,R,p,Qg(`${b}.${y}`)))throw new od("Invalid JWT signature");return{data:{claims:_,header:f,signature:p},error:null}}catch(u){if(_t(u))return this._returnResult({data:null,error:u});throw u}}}Vo.nextInstanceID={};const Iy=Vo,Gy="2.93.3";let Bo="";typeof Deno<"u"?Bo="deno":typeof document<"u"?Bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bo="react-native":Bo="node";const Vy={"X-Client-Info":`supabase-js-${Bo}/${Gy}`},Ky={headers:Vy},Yy={schema:"public"},$y={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xy={};function Ko(l){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ko(l)}function Jy(l,a){if(Ko(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Ko(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function Qy(l){var a=Jy(l,"string");return Ko(a)=="symbol"?a:a+""}function Wy(l,a,o){return(a=Qy(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function U_(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable})),o.push.apply(o,u)}return o}function me(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?U_(Object(o),!0).forEach(function(u){Wy(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):U_(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const Fy=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),t0=()=>Headers,e0=(l,a,o)=>{const u=Fy(o),f=t0();return async(_,p)=>{var b;const y=(b=await a())!==null&&b!==void 0?b:l;let T=new f(p?.headers);return T.has("apikey")||T.set("apikey",l),T.has("Authorization")||T.set("Authorization",`Bearer ${y}`),u(_,me(me({},p),{},{headers:T}))}};function n0(l){return l.endsWith("/")?l:l+"/"}function i0(l,a){var o,u;const{db:f,auth:_,realtime:p,global:b}=l,{db:y,auth:T,realtime:C,global:R}=a,M={db:me(me({},y),f),auth:me(me({},T),_),realtime:me(me({},C),p),storage:{},global:me(me(me({},R),b),{},{headers:me(me({},(o=R?.headers)!==null&&o!==void 0?o:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return l.accessToken?M.accessToken=l.accessToken:delete M.accessToken,M}function a0(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var s0=class extends Iy{constructor(l){super(l)}},r0=class{constructor(l,a,o){var u,f;this.supabaseUrl=l,this.supabaseKey=a;const _=a0(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const p=`sb-${_.hostname.split(".")[0]}-auth-token`,b={db:Yy,realtime:Xy,auth:me(me({},$y),{},{storageKey:p}),global:Ky},y=i0(o??{},b);if(this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(f=y.global.headers)!==null&&f!==void 0?f:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(C,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var T;this.auth=this._initSupabaseAuthClient((T=y.auth)!==null&&T!==void 0?T:{},this.headers,y.global.fetch)}this.fetch=e0(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new Gv(new URL("rest/v1",_).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Bg(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Pv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,o)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,o;if(l.accessToken)return await l.accessToken();const{data:u}=await l.auth.getSession();return(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:f,storageKey:_,flowType:p,lock:b,debug:y,throwOnError:T},C,R){const M={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s0({url:this.authUrl.href,headers:me(me({},M),C),storageKey:_,autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:f,flowType:p,lock:b,debug:y,throwOnError:T,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new og(this.realtimeUrl.href,me(me({},l),{},{params:me(me({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,o){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const o0=(l,a,o)=>new r0(l,a,o);function l0(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const o=a.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}l0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u0="https://dscarhmmqxsonsxrtinx.supabase.co",c0="sb_publishable_InpeXzcHjEBfN3N6gxnxjA_NPuwIlM_",Do=o0(u0,c0),h0=()=>{const[l,a]=Nt.useState([]),[o,u]=Nt.useState([]),[f,_]=Nt.useState([]),[p,b]=Nt.useState([]),[y,T]=Nt.useState([]),[C,R]=Nt.useState(!0),[M,A]=Nt.useState(null);return Nt.useEffect(()=>{(async()=>{try{R(!0);const[{data:q,error:J},{data:Q,error:it},{data:Z,error:at},{data:Et,error:ut},{data:st,error:Rt}]=await Promise.all([Do.from("bars").select("*").eq("is_active",!0).eq("state","FL").order("name"),Do.from("events").select("*, event_categories(*)").eq("is_active",!0).order("name"),Do.from("deals").select("*").eq("is_active",!0).order("name"),Do.from("event_categories").select("*").order("name"),Do.from("bar_hours").select("*")]);if(J)throw J;if(it)throw it;if(at)throw at;if(ut)throw ut;if(Rt)throw Rt;a(q||[]),u(Q||[]),_(Z||[]),b(Et||[]),T(st||[]),A(null)}catch(q){console.error("Error fetching data:",q),A(q instanceof Error?q.message:"Failed to load data")}finally{R(!1)}})()},[]),{bars:l,events:o,deals:f,categories:p,barHours:y,loading:C,error:M}},xe=(l,a)=>{typeof window.plausible<"u"&&window.plausible(l,a?{props:a}:void 0)},rp=Nt.createContext(void 0),d0=({children:l})=>{const{bars:a,events:o,deals:u,categories:f,barHours:_,loading:p,error:b}=h0(),[y,T]=Nt.useState(()=>{if(typeof window<"u"){const ft=localStorage.getItem("favoriteBars");return ft?JSON.parse(ft):[]}return[]});Nt.useEffect(()=>{localStorage.setItem("favoriteBars",JSON.stringify(y))},[y]);const C=ft=>{T(ft)},R=ft=>{const Ve=y.includes(ft)?y.filter(Jn=>Jn!==ft):[...y,ft];T(Ve);const Ke=a.find(Jn=>Jn.id===ft);xe("Toggle Favorite",{bar_name:Ke?.name||"Unknown",action:Ve.includes(ft)?"add":"remove"})},[M,A]=Nt.useState("unified"),[k,q]=Nt.useState("events"),[J,Q]=Nt.useState(""),[it,Z]=Nt.useState(["All"]),[at,Et]=Nt.useState(["All"]),[ut,st]=Nt.useState("All"),[Rt,wt]=Nt.useState(null),[re,Ut]=Nt.useState(null),[Kt,zn]=Nt.useState(null),[_e,Ge]=Nt.useState(!1),[G,et]=Nt.useState(!1),ee={bars:a,events:o,deals:u,categories:f,barHours:_,loading:p,error:b,favorites:y,setFavorites:C,toggleFavorite:R,viewMode:M,setViewMode:ft=>{A(ft),xe("View Mode Switch",{mode:ft})},activeTab:k,setActiveTab:ft=>{q(ft),xe("Tab Switch",{tab:ft})},searchQuery:J,setSearchQuery:ft=>{Q(ft),ft.length>2&&xe("Search",{query_length:ft.length})},categoryFilter:it,setCategoryFilter:ft=>{Z(ft),xe("Filter: Category",{categories:ft.join(", ")})},locationFilter:at,setLocationFilter:ft=>{Et(ft),xe("Filter: Location",{locations:ft.join(", ")})},dayFilter:ut,setDayFilter:ft=>{st(ft),xe("Filter: Day",{day:ft})},selectedEvent:Rt,setSelectedEvent:ft=>{if(wt(ft),ft){const Ve=a.find(Ke=>Ke.id===ft.bar_id);xe("Event Click",{event_name:ft.name,bar_name:Ve?.name||"Unknown"})}},selectedDeal:re,setSelectedDeal:ft=>{if(Ut(ft),ft){const Ve=a.find(Ke=>Ke.id===ft.bar_id);xe("Deal Click",{deal_name:ft.name,bar_name:Ve?.name||"Unknown"})}},selectedBar:Kt,setSelectedBar:ft=>{zn(ft),ft&&xe("Bar Click",{bar_name:ft.name})},showAboutModal:_e,setShowAboutModal:ft=>{Ge(ft),ft&&xe("Modal Open",{modal:"About"})},showForBarsModal:G,setShowForBarsModal:ft=>{et(ft),ft&&xe("Modal Open",{modal:"For Bars"})}};return S.jsx(rp.Provider,{value:ee,children:l})},hn=()=>{const l=Nt.useContext(rp);if(!l)throw new Error("useApp must be used within AppProvider");return l},Xh=()=>{const{setShowAboutModal:l,viewMode:a,setViewMode:o}=hn();return S.jsx("header",{className:"header",children:S.jsxs("div",{className:"header-content",children:[S.jsxs("div",{className:"logo",children:[S.jsx("div",{className:"logo-icon",children:""}),S.jsx("h1",{children:"Bula Board"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[S.jsx("button",{className:`nav-btn small ${a==="map"?"active":""}`,onClick:()=>o(a==="map"?"unified":"map"),style:{minWidth:"auto",padding:"0.5rem 0.75rem"},"aria-label":"Map View",children:""}),S.jsx("button",{className:"nav-btn small",onClick:()=>l(!0),"aria-label":"About",children:"?"})]})]})})},f0=()=>S.jsxs("div",{className:"hero-section",children:[S.jsxs("div",{className:"hero-content",children:[S.jsxs("h2",{className:"hero-title",children:[S.jsx("em",{children:"Kava Bar"}),S.jsx("br",{}),"Companion"]}),S.jsx("p",{className:"hero-subtitle",children:"Weekly events, exclusive deals, and hidden gems across the best kava bars in town."})]}),S.jsxs("div",{className:"hero-decoration",children:[S.jsx("span",{className:"hero-emoji hero-emoji-1",children:""}),S.jsx("span",{className:"hero-emoji hero-emoji-2",children:""}),S.jsx("span",{className:"hero-emoji hero-emoji-3",children:""})]})]}),m0=()=>{const{searchQuery:l,setSearchQuery:a,activeTab:o}=hn(),u=f=>{a(f),f.length>=2&&xe("Search",{query:f.substring(0,50),tab:o})};return S.jsx("div",{className:"search-container",children:S.jsxs("div",{className:"search-box",children:[S.jsx("span",{className:"search-icon",children:""}),S.jsx("input",{type:"text",placeholder:"Search events, bars, deals...",value:l,onChange:f=>u(f.target.value)})]})})},P_=({chips:l,activeValue:a,onChange:o,label:u,multiSelect:f=!1})=>{const _=b=>Array.isArray(a)?a.includes(b):a===b,p=b=>{if(f&&Array.isArray(a))if(b==="All")o(["All"]);else{let y;a.includes(b)?(y=a.filter(T=>T!==b),y.length===0&&(y=["All"])):y=[...a.filter(T=>T!=="All"),b],o(y)}else o(b)};return S.jsxs("div",{className:"filter-chips",children:[u&&S.jsx("span",{className:"filter-chips-label",children:u}),S.jsx("div",{className:"filter-chips-container",children:l.map(b=>S.jsxs("button",{className:`filter-chip ${_(b.value)?"active":""}`,onClick:()=>p(b.value),children:[b.icon&&S.jsx("span",{className:"filter-chip-icon",children:b.icon}),b.label]},b.value))})]})},_0=()=>S.jsxs("div",{className:"loading-container",children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Loading kava scene..."})]}),p0=()=>{const[l,a]=Nt.useState(""),o=u=>{u.preventDefault(),xe("Newsletter Signup",{source:"homepage"}),alert(`Thanks for subscribing! You'll receive our weekly digest at ${l}`),a("")};return S.jsxs("section",{className:"newsletter",children:[S.jsxs("div",{className:"newsletter-content",children:[S.jsx("span",{className:"newsletter-icon",children:""}),S.jsxs("div",{children:[S.jsx("h3",{children:"Weekly Digest"}),S.jsx("p",{children:"Curated events, every Saturday"})]})]}),S.jsxs("form",{className:"newsletter-form",onSubmit:o,children:[S.jsx("input",{type:"email",placeholder:"your@email.com",value:l,onChange:u=>a(u.target.value),required:!0}),S.jsx("button",{type:"submit",children:"Join"})]})]})},Ss=({isOpen:l,onClose:a,children:o})=>l?S.jsx("div",{className:"modal",style:{display:"flex"},onClick:a,children:S.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[S.jsx("button",{className:"modal-close",onClick:a,children:""}),o]})}):null,v0=()=>{const{showAboutModal:l,setShowAboutModal:a}=hn();return S.jsx(Ss,{isOpen:l,onClose:()=>a(!1),children:S.jsxs("div",{className:"modal-body about-content",children:[S.jsx("h2",{children:"What is Kava?"}),S.jsxs("p",{children:["Kava is a traditional South Pacific beverage made from the roots of the ",S.jsx("em",{children:"Piper methysticum"})," plant. For centuries, Pacific Island cultures have used kava in ceremonial and social settings."]}),S.jsxs("p",{children:["When consumed, kava has a ",S.jsx("strong",{children:"relaxing effect on the body"}),", eases tension, and alleviates stress while enhancing mental clarity, creativity, and sociability. It's similar to alcohol's calming effects but without the hangover."]}),S.jsx("h3",{children:"Popular Drinks"}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Kava Shell"})," - Traditional preparation, served in coconut shells"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Kava Flight"})," - Sample multiple varieties"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Botanical Elixirs"})," - Kava mixed with herbs and flavors"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Kava Tea"})," - Relaxing herbal tea blend"]})]}),S.jsx("h3",{children:"About Bula Board"}),S.jsx("p",{children:"We curate the best kava bars, events, and deals in St. Petersburg and Clearwater. Whether you're a kava connoisseur or trying it for the first time, we've got you covered."}),S.jsx("p",{className:"about-note",children:"Please drink responsibly. Kava may cause drowsiness. Do not operate heavy machinery after consuming."})]})})},g0=()=>{const{showForBarsModal:l,setShowForBarsModal:a}=hn();return S.jsx(Ss,{isOpen:l,onClose:()=>a(!1),children:S.jsxs("div",{className:"modal-body about-content",children:[S.jsx("h2",{children:"List Your Bar on Bula Board"}),S.jsx("p",{children:"Reach thousands of kava enthusiasts in the St. Petersburg and Clearwater area."}),S.jsx("h3",{children:"What's Included"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Free listing with hours, address, and description"}),S.jsx("li",{children:"Promote your events and specials"}),S.jsx("li",{children:"Reach a targeted local audience"})]}),S.jsx("h3",{children:"Get Started"}),S.jsxs("p",{children:["Email us at ",S.jsx("strong",{children:"hello@bulaboard.com"})," to add your bar to our directory."]})]})})},ws=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Mn=l=>{if(!l)return"TBD";const a=l.split(":");if(a.length!==2)return"TBD";const[o,u]=a.map(Number);if(isNaN(o)||isNaN(u))return"TBD";const f=o%12||12,_=o<12?"AM":"PM";return`${f}:${u.toString().padStart(2,"0")} ${_}`},Xo=(l,a)=>{const o=Mn(l),u=Mn(a);return o==="TBD"&&u==="TBD"?"Hours vary":o==="TBD"?`Until ${u}`:u==="TBD"?`After ${o}`:`${o} - ${u}`},y0=l=>ws[l]||"TBD",b0=l=>l?new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"TBD",H_=l=>{const a=new Date;return l.toDateString()===a.toDateString()},q_=l=>{const a=new Date;return a.setDate(a.getDate()+1),l.toDateString()===a.toDateString()},Yo=l=>{if(!l.event_date&&!l.start_time)return null;const a=new Date,o=l.event_date?new Date(l.event_date):a;if(l.start_time){const u=l.start_time.split(":");if(u.length===2){const[f,_]=u.map(Number);!isNaN(f)&&!isNaN(_)&&o.setHours(f,_,0,0)}}return o},op=l=>{const a=new Date,o=Yo(l);if(!o)return!1;let u=new Date(o);if(l.end_time){const f=l.end_time.split(":");if(f.length===2){const[_,p]=f.map(Number);!isNaN(_)&&!isNaN(p)?u.setHours(_,p,0,0):u.setHours(23,59,59,999)}else u.setHours(23,59,59,999)}else u.setHours(23,59,59,999);return a>=o&&a<=u},w0=l=>{const a=new Date,o=Yo(l);if(!o)return!1;const u=new Date(a.getTime()+7200*1e3);return o>a&&o<=u},S0=l=>{const a=Yo(l);if(!a)return"";const o=new Date,u=a.getTime()-o.getTime();if(u<0)return"Started";const f=Math.floor(u/6e4),_=Math.floor(f/60);return _<1?`Starts in ${f}m`:_<24?`Starts in ${_}h`:`Starts in ${Math.floor(_/24)}d`},T0=l=>{const a=new Date,o=a.getDay(),u=`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`,f=l.find(_=>_.day_of_week===o);return!f||f.is_closed||!f.open_time||!f.close_time?!1:u>=f.open_time&&u<=f.close_time},E0=l=>{const o=new Date().getDay(),u=l.find(_=>_.day_of_week===o);if(!u||u.is_closed)return{isOpen:!1,message:"Closed today"};const f=T0(l);return f&&u.close_time?{isOpen:!0,message:`Open until ${Mn(u.close_time)}`}:!f&&u.open_time?{isOpen:!1,message:`Opens at ${Mn(u.open_time)}`}:{isOpen:!1,message:"Hours unavailable"}},x0=(l,a)=>{const o=new Date,u=o.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";let f,_;if(l.event_date)f=new Date(l.event_date);else if(l.day_of_week!==null&&l.day_of_week!==void 0){const C=o.getDay(),R=(l.day_of_week-C+7)%7||7;f=new Date(o),f.setDate(o.getDate()+R)}else f=o;if(l.start_time){const C=l.start_time.split(":");if(C.length===2){const[R,M]=C.map(Number);!isNaN(R)&&!isNaN(M)?f.setHours(R,M,0,0):f.setHours(0,0,0,0)}else f.setHours(0,0,0,0)}else f.setHours(0,0,0,0);if(_=new Date(f),l.end_time){const C=l.end_time.split(":");if(C.length===2){const[R,M]=C.map(Number);!isNaN(R)&&!isNaN(M)?_.setHours(R,M,0,0):_.setHours(f.getHours()+2,f.getMinutes(),0,0)}else _.setHours(f.getHours()+2,f.getMinutes(),0,0)}else _.setHours(f.getHours()+2,f.getMinutes(),0,0);const p=C=>C.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",b=a?.address_line1?`${a.address_line1}, ${a.city||""}`:a?.name||"",y=l.description||`Event at ${a?.name||"venue"}`;return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Bula Board//Event//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${u}@bulaboard.com`,`DTSTAMP:${u}`,`DTSTART:${p(f)}`,`DTEND:${p(_)}`,`SUMMARY:${l.name}`,`DESCRIPTION:${y}`,b?`LOCATION:${b}`:"","STATUS:CONFIRMED","SEQUENCE:0","END:VEVENT","END:VCALENDAR"].filter(C=>C).join(`\r
`)},A0=(l,a)=>{const o=x0(l,a),u=new Blob([o],{type:"text/calendar;charset=utf-8"});if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){const _=new FileReader;_.onload=()=>{const p=_.result,b=window.open();b&&b.document.write(`
          <!DOCTYPE html>
          <html>
          <head>
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Add to Calendar</title>
            <style>
              body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                padding: 20px;
                text-align: center;
              }
              a {
                display: inline-block;
                background: #007aff;
                color: white;
                padding: 12px 24px;
                border-radius: 8px;
                text-decoration: none;
                margin-top: 20px;
              }
            </style>
          </head>
          <body>
            <h2> ${l.name}</h2>
            <p>Tap the link below to add this event to your calendar</p>
            <a href="${p}" download="${l.name.replace(/[^a-z0-9]/gi,"-")}.ics">Download Calendar Event</a>
          </body>
          </html>
        `)},_.readAsDataURL(u)}else{const _=URL.createObjectURL(u),p=document.createElement("a");p.href=_,p.download=`${l.name.replace(/[^a-z0-9]/gi,"-")}.ics`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(_)}},O0=l=>{const a=new Date;if(!l.is_recurring&&l.valid_start_date){const o=new Date(l.valid_start_date);if(l.valid_start_time){const u=l.valid_start_time.split(":");if(u.length===2){const[f,_]=u.map(Number);!isNaN(f)&&!isNaN(_)&&o.setHours(f,_,0,0)}}return o}if(l.is_recurring&&l.recurrence_days&&l.recurrence_days.length>0){const o=a.getDay(),u=`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`;if(l.recurrence_days.includes(o)){const f=new Date(a);if(l.valid_start_time){const _=l.valid_start_time.split(":");if(_.length===2){const[p,b]=_.map(Number);if(!isNaN(p)&&!isNaN(b)&&(f.setHours(p,b,0,0),u<l.valid_start_time))return f}}else return f}for(let f=1;f<=7;f++){const _=(o+f)%7;if(l.recurrence_days.includes(_)){const p=new Date(a);if(p.setDate(a.getDate()+f),l.valid_start_time){const b=l.valid_start_time.split(":");if(b.length===2){const[y,T]=b.map(Number);!isNaN(y)&&!isNaN(T)?p.setHours(y,T,0,0):p.setHours(0,0,0,0)}else p.setHours(0,0,0,0)}else p.setHours(0,0,0,0);return p}}}return a},C0=()=>{const{selectedEvent:l,setSelectedEvent:a,bars:o}=hn(),[u,f]=Nt.useState(!1);if(!l)return null;const _=o.find(y=>y.id===l.bar_id),p=()=>l.event_date?b0(l.event_date):l.day_of_week!==null&&l.day_of_week!==void 0?`Every ${ws[l.day_of_week]}`:"Date TBD",b=()=>Xo(l.start_time,l.end_time);return S.jsxs(Ss,{isOpen:!0,onClose:()=>a(null),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("span",{className:"modal-icon",children:l.event_categories?.icon||""}),l.event_categories&&S.jsx("span",{className:"modal-type",children:l.event_categories.name})]}),S.jsxs("div",{className:"modal-body",children:[S.jsx("h3",{children:l.name}),_&&S.jsx("p",{className:"modal-bar",children:_.name}),l.description&&S.jsx("p",{className:"modal-desc",children:l.description}),S.jsxs("div",{className:"modal-details",children:[S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",p()]})}),S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",b()]})}),_?.address_line1&&S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",_.address_line1,", ",_.city]})})]}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{className:"calendar-btn",onClick:y=>{y.stopPropagation(),A0(l,_),xe("Add to Calendar",{event_name:l.name,bar_name:_?.name||"Unknown"})},children:" Add to Calendar"}),S.jsx("button",{className:"btn-secondary",onClick:y=>{y.stopPropagation();const T=JSON.parse(localStorage.getItem("eventReminders")||"[]");T.includes(l.id)||(T.push(l.id),localStorage.setItem("eventReminders",JSON.stringify(T)),f(!0),xe("Remind Me",{event_name:l.name,bar_name:_?.name||"Unknown"}))},disabled:u,children:u?" Reminder Set":" Remind Me"})]})]})]})},N0=()=>{const{selectedDeal:l,setSelectedDeal:a,bars:o}=hn();if(!l)return null;const u=o.find(p=>p.id===l.bar_id),f=()=>!l.is_recurring||!l.recurrence_days?"Limited time":l.recurrence_days.map(p=>ws[p]).join(", "),_=()=>Xo(l.valid_start_time,l.valid_end_time);return S.jsxs(Ss,{isOpen:!0,onClose:()=>a(null),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("span",{className:"modal-icon",children:""}),S.jsx("span",{className:"modal-type",children:"Deal"})]}),S.jsxs("div",{className:"modal-body",children:[S.jsx("h3",{children:l.name}),u&&S.jsx("p",{className:"modal-bar",children:u.name}),l.description&&S.jsx("p",{className:"modal-desc",children:l.description}),S.jsxs("div",{className:"modal-details",children:[S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",f()]})}),S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",_()]})}),u?.address_line1&&S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",u.address_line1,", ",u.city]})}),l.discount_type&&l.discount_value&&S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",l.discount_type==="percentage"?`${l.discount_value}% off`:`$${l.discount_value} off`]})})]})]})]})},R0=()=>{const{selectedBar:l,setSelectedBar:a,barHours:o}=hn();if(!l)return null;const u=()=>{const f=new Date().getDay(),_=o.filter(b=>b.bar_id===l.id&&b.day_of_week===f);if(_.length===0)return"Hours vary";const p=_[0];return p.is_closed?"Closed today":`${Mn(p.open_time)} - ${Mn(p.close_time)}`};return S.jsxs(Ss,{isOpen:!0,onClose:()=>a(null),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("span",{className:"modal-icon",children:""}),S.jsx("span",{className:"modal-type",children:"Bar"})]}),S.jsxs("div",{className:"modal-body",children:[S.jsx("h3",{children:l.name}),S.jsx("p",{className:"modal-bar",children:l.city||"St. Pete"}),l.description&&S.jsx("p",{className:"modal-desc",children:l.description}),S.jsxs("div",{className:"modal-details",children:[l.address_line1&&S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",l.address_line1,", ",l.city,", ",l.state]})}),l.phone&&S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" ",S.jsx("a",{href:`tel:${l.phone}`,children:l.phone})]})}),S.jsx("div",{children:S.jsxs("span",{className:"detail-label",children:[" Today: ",u()]})})]}),S.jsx("div",{className:"modal-actions",children:l.website_url&&S.jsx("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary",style:{flex:1,textAlign:"center",textDecoration:"none"},children:" Website"})})]})]})},Jh={"the-muddy-root-kava-cafe":{lat:27.7703,lng:-82.6478},"speakeasy-central-kava-bar":{lat:27.7703,lng:-82.6478},"cozy-kava":{lat:27.7699,lng:-82.6478},"kava-house-brand-54th-ave":{lat:27.8125,lng:-82.6792},"grassroots-kava-house":{lat:27.7714,lng:-82.644},"mad-hatters-kava-bar":{lat:27.7985,lng:-82.709},"muddy-water-kava-tea":{lat:27.9658,lng:-82.8004},"speakeasy-kava-largo":{lat:27.91,lng:-82.7888},"default-st-pete":{lat:27.7731,lng:-82.64}},L0=(l,a="St. Petersburg")=>Jh[l]?Jh[l]:a.toLowerCase().includes("clearwater")?{lat:27.9658,lng:-82.8004}:a.toLowerCase().includes("largo")?{lat:27.91,lng:-82.7888}:Jh["default-st-pete"];var Uo={exports:{}};var j0=Uo.exports,Z_;function k0(){return Z_||(Z_=1,(function(l,a){(function(o,u){u(a)})(j0,(function(o){var u="1.9.4";function f(n){var s,c,m,v;for(c=1,m=arguments.length;c<m;c++){v=arguments[c];for(s in v)n[s]=v[s]}return n}var _=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function p(n,s){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(c.call(arguments)):arguments)}}var b=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function T(n,s,c){var m,v,w,x;return x=function(){m=!1,v&&(w.apply(c,v),v=!1)},w=function(){m?v=arguments:(n.apply(c,arguments),setTimeout(x,s),m=!0)},w}function C(n,s,c){var m=s[1],v=s[0],w=m-v;return n===m&&c?n:((n-v)%w+w)%w+v}function R(){return!1}function M(n,s){if(s===!1)return n;var c=Math.pow(10,s===void 0?6:s);return Math.round(n*c)/c}function A(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function k(n){return A(n).split(/\s+/)}function q(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?_(n.options):{});for(var c in s)n.options[c]=s[c];return n.options}function J(n,s,c){var m=[];for(var v in n)m.push(encodeURIComponent(c?v.toUpperCase():v)+"="+encodeURIComponent(n[v]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var Q=/\{ *([\w_ -]+) *\}/g;function it(n,s){return n.replace(Q,function(c,m){var v=s[m];if(v===void 0)throw new Error("No value provided for variable "+c);return typeof v=="function"&&(v=v(s)),v})}var Z=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function at(n,s){for(var c=0;c<n.length;c++)if(n[c]===s)return c;return-1}var Et="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ut(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var st=0;function Rt(n){var s=+new Date,c=Math.max(0,16-(s-st));return st=s+c,window.setTimeout(n,c)}var wt=window.requestAnimationFrame||ut("RequestAnimationFrame")||Rt,re=window.cancelAnimationFrame||ut("CancelAnimationFrame")||ut("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Ut(n,s,c){if(c&&wt===Rt)n.call(s);else return wt.call(window,p(n,s))}function Kt(n){n&&re.call(window,n)}var zn={__proto__:null,extend:f,create:_,bind:p,get lastId(){return b},stamp:y,throttle:T,wrapNum:C,falseFn:R,formatNum:M,trim:A,splitWords:k,setOptions:q,getParamString:J,template:it,isArray:Z,indexOf:at,emptyImageUrl:Et,requestFn:wt,cancelFn:re,requestAnimFrame:Ut,cancelAnimFrame:Kt};function _e(){}_e.extend=function(n){var s=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,m=_(c);m.constructor=s,s.prototype=m;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(s[v]=this[v]);return n.statics&&f(s,n.statics),n.includes&&(Ge(n.includes),f.apply(null,[m].concat(n.includes))),f(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?_(c.options):{},f(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,x=m._initHooks.length;w<x;w++)m._initHooks[w].call(this)}},s},_e.include=function(n){var s=this.prototype.options;return f(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},_e.mergeOptions=function(n){return f(this.prototype.options,n),this},_e.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Ge(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=Z(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=k(n);for(var v=0,w=n.length;v<w;v++)this._on(n[v],s,c)}return this},off:function(n,s,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=k(n);for(var v=arguments.length===1,w=0,x=n.length;w<x;w++)v?this._off(n[w]):this._off(n[w],s,c)}return this},_on:function(n,s,c,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,c)===!1){c===this&&(c=void 0);var v={fn:s,ctx:c};m&&(v.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(v)}},_off:function(n,s,c){var m,v,w;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(v=0,w=m.length;v<w;v++)m[v].fn=R;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var x=this._listens(n,s,c);if(x!==!1){var D=m[x];this._firingCount&&(D.fn=R,this._events[n]=m=m.slice()),m.splice(x,1)}}},fire:function(n,s,c){if(!this.listens(n,c))return this;var m=f({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var v=this._events[n];if(v){this._firingCount=this._firingCount+1||1;for(var w=0,x=v.length;w<x;w++){var D=v[w],P=D.fn;D.once&&this.off(n,P,D.ctx),P.call(D.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,s,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var v=s;typeof s!="function"&&(m=!!s,v=void 0,c=void 0);var w=this._events&&this._events[n];if(w&&w.length&&this._listens(n,v,c)!==!1)return!0;if(m){for(var x in this._eventParents)if(this._eventParents[x].listens(n,s,c,m))return!0}return!1},_listens:function(n,s,c){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;c===this&&(c=void 0);for(var v=0,w=m.length;v<w;v++)if(m[v].fn===s&&m[v].ctx===c)return v;return!1},once:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=k(n);for(var v=0,w=n.length;v<w;v++)this._on(n[v],s,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,f({layer:n.target,propagatedFrom:n.target},n),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var et=_e.extend(G);function W(n,s,c){this.x=c?Math.round(n):n,this.y=c?Math.round(s):s}var Pt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(n){return this.clone()._add(rt(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(rt(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new W(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new W(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pt(this.x),this.y=Pt(this.y),this},distanceTo:function(n){n=rt(n);var s=n.x-this.x,c=n.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(n){return n=rt(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=rt(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function rt(n,s,c){return n instanceof W?n:Z(n)?new W(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new W(n.x,n.y):new W(n,s,c)}function N(n,s){if(n)for(var c=s?[n,s]:n,m=0,v=c.length;m<v;m++)this.extend(c[m])}N.prototype={extend:function(n){var s,c;if(!n)return this;if(n instanceof W||typeof n[0]=="number"||"x"in n)s=c=rt(n);else if(n=V(n),s=n.min,c=n.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return rt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return rt(this.min.x,this.max.y)},getTopRight:function(){return rt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,c;return typeof n[0]=="number"||n instanceof W?n=rt(n):n=V(n),n instanceof N?(s=n.min,c=n.max):s=c=n,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=V(n);var s=this.min,c=this.max,m=n.min,v=n.max,w=v.x>=s.x&&m.x<=c.x,x=v.y>=s.y&&m.y<=c.y;return w&&x},overlaps:function(n){n=V(n);var s=this.min,c=this.max,m=n.min,v=n.max,w=v.x>s.x&&m.x<c.x,x=v.y>s.y&&m.y<c.y;return w&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,c=this.max,m=Math.abs(s.x-c.x)*n,v=Math.abs(s.y-c.y)*n;return V(rt(s.x-m,s.y-v),rt(c.x+m,c.y+v))},equals:function(n){return n?(n=V(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function V(n,s){return!n||n instanceof N?n:new N(n,s)}function F(n,s){if(n)for(var c=s?[n,s]:n,m=0,v=c.length;m<v;m++)this.extend(c[m])}F.prototype={extend:function(n){var s=this._southWest,c=this._northEast,m,v;if(n instanceof lt)m=n,v=n;else if(n instanceof F){if(m=n._southWest,v=n._northEast,!m||!v)return this}else return n?this.extend(ot(n)||tt(n)):this;return!s&&!c?(this._southWest=new lt(m.lat,m.lng),this._northEast=new lt(v.lat,v.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),c.lat=Math.max(v.lat,c.lat),c.lng=Math.max(v.lng,c.lng)),this},pad:function(n){var s=this._southWest,c=this._northEast,m=Math.abs(s.lat-c.lat)*n,v=Math.abs(s.lng-c.lng)*n;return new F(new lt(s.lat-m,s.lng-v),new lt(c.lat+m,c.lng+v))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof lt||"lat"in n?n=ot(n):n=tt(n);var s=this._southWest,c=this._northEast,m,v;return n instanceof F?(m=n.getSouthWest(),v=n.getNorthEast()):m=v=n,m.lat>=s.lat&&v.lat<=c.lat&&m.lng>=s.lng&&v.lng<=c.lng},intersects:function(n){n=tt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),v=n.getNorthEast(),w=v.lat>=s.lat&&m.lat<=c.lat,x=v.lng>=s.lng&&m.lng<=c.lng;return w&&x},overlaps:function(n){n=tt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),v=n.getNorthEast(),w=v.lat>s.lat&&m.lat<c.lat,x=v.lng>s.lng&&m.lng<c.lng;return w&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=tt(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function tt(n,s){return n instanceof F?n:new F(n,s)}function lt(n,s,c){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,c!==void 0&&(this.alt=+c)}lt.prototype={equals:function(n,s){if(!n)return!1;n=ot(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+M(this.lat,n)+", "+M(this.lng,n)+")"},distanceTo:function(n){return ie.distance(this,ot(n))},wrap:function(){return ie.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,c=s/Math.cos(Math.PI/180*this.lat);return tt([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function ot(n,s,c){return n instanceof lt?n:Z(n)&&typeof n[0]!="object"?n.length===3?new lt(n[0],n[1],n[2]):n.length===2?new lt(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new lt(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new lt(n,s,c)}var At={latLngToPoint:function(n,s){var c=this.projection.project(n),m=this.scale(s);return this.transformation._transform(c,m)},pointToLatLng:function(n,s){var c=this.scale(s),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(s.min,c),v=this.transformation.transform(s.max,c);return new N(m,v)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?C(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?C(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new lt(c,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),c=this.wrapLatLng(s),m=s.lat-c.lat,v=s.lng-c.lng;if(m===0&&v===0)return n;var w=n.getSouthWest(),x=n.getNorthEast(),D=new lt(w.lat-m,w.lng-v),P=new lt(x.lat-m,x.lng-v);return new F(D,P)}},ie=f({},At,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var c=Math.PI/180,m=n.lat*c,v=s.lat*c,w=Math.sin((s.lat-n.lat)*c/2),x=Math.sin((s.lng-n.lng)*c/2),D=w*w+Math.cos(m)*Math.cos(v)*x*x,P=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*P}}),ee=6378137,ft={R:ee,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),v=Math.sin(m*s);return new W(this.R*n.lng*s,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(n){var s=180/Math.PI;return new lt((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=ee*Math.PI;return new N([-n,-n],[n,n])})()};function Ve(n,s,c,m){if(Z(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=c,this._d=m}Ve.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new W((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function Ke(n,s,c,m){return new Ve(n,s,c,m)}var Jn=f({},ie,{code:"EPSG:3857",projection:ft,transformation:(function(){var n=.5/(Math.PI*ft.R);return Ke(n,.5,-n,.5)})()}),fi=f({},Jn,{code:"EPSG:900913"});function Ts(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Es(n,s){var c="",m,v,w,x,D,P;for(m=0,w=n.length;m<w;m++){for(D=n[m],v=0,x=D.length;v<x;v++)P=D[v],c+=(v?"L":"M")+P.x+" "+P.y;c+=s?dt.svg?"z":"x":""}return c||"M0 0"}var Ar=document.documentElement.style,Aa="ActiveXObject"in window,Or=Aa&&!document.addEventListener,xs="msLaunchUri"in navigator&&!("documentMode"in document),Oa=We("webkit"),Jo=We("android"),Qo=We("android 2")||We("android 3"),Ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Uu=Jo&&We("Google")&&Ye<537&&!("AudioNode"in window),As=!!window.opera,Cr=!xs&&We("chrome"),Ca=We("gecko")&&!Oa&&!As&&!Aa,Pu=!Cr&&We("safari"),Nr=We("phantom"),Wo="OTransition"in Ar,Hu=navigator.platform.indexOf("Win")===0,Hi=Aa&&"transition"in Ar,Me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qo,Dn="MozPerspective"in Ar,$e=!window.L_DISABLE_3D&&(Hi||Me||Dn)&&!Wo&&!Nr,Na=typeof orientation<"u"||We("mobile"),qu=Na&&Oa,Zu=Na&&Me,Ra=!window.PointerEvent&&window.MSPointerEvent,La=!!(window.PointerEvent||Ra),ja="ontouchstart"in window||!!window.TouchEvent,mi=!window.L_NO_TOUCH&&(ja||La),Os=Na&&As,ka=Na&&Ca,Iu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fo=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",R,s),window.removeEventListener("testPassiveEventSupport",R,s)}catch{}return n})(),Rr=(function(){return!!document.createElement("canvas").getContext})(),_i=!!(document.createElementNS&&Ts("svg").createSVGRect),Gu=!!_i&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),tl=!_i&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),el=navigator.platform.indexOf("Mac")===0,nl=navigator.platform.indexOf("Linux")===0;function We(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var dt={ie:Aa,ielt9:Or,edge:xs,webkit:Oa,android:Jo,android23:Qo,androidStock:Uu,opera:As,chrome:Cr,gecko:Ca,safari:Pu,phantom:Nr,opera12:Wo,win:Hu,ie3d:Hi,webkit3d:Me,gecko3d:Dn,any3d:$e,mobile:Na,mobileWebkit:qu,mobileWebkit3d:Zu,msPointer:Ra,pointer:La,touch:mi,touchNative:ja,mobileOpera:Os,mobileGecko:ka,retina:Iu,passiveEvents:Fo,canvas:Rr,svg:_i,vml:tl,inlineSvg:Gu,mac:el,linux:nl},Lr=dt.msPointer?"MSPointerDown":"pointerdown",jr=dt.msPointer?"MSPointerMove":"pointermove",Bn=dt.msPointer?"MSPointerUp":"pointerup",ge=dt.msPointer?"MSPointerCancel":"pointercancel",Re={touchstart:Lr,touchmove:jr,touchend:Bn,touchcancel:ge},pi={touchstart:Zi,touchmove:Wn,touchend:Wn,touchcancel:Wn},Qn={},il=!1;function Vu(n,s,c){return s==="touchstart"&&qi(),pi[s]?(c=pi[s].bind(this,c),n.addEventListener(Re[s],c,!1),c):(console.warn("wrong event specified:",s),R)}function al(n,s,c){if(!Re[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Re[s],c,!1)}function Ma(n){Qn[n.pointerId]=n}function kr(n){Qn[n.pointerId]&&(Qn[n.pointerId]=n)}function vi(n){delete Qn[n.pointerId]}function qi(){il||(document.addEventListener(Lr,Ma,!0),document.addEventListener(jr,kr,!0),document.addEventListener(Bn,vi,!0),document.addEventListener(ge,vi,!0),il=!0)}function Wn(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in Qn)s.touches.push(Qn[c]);s.changedTouches=[s],n(s)}}function Zi(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ce(s),Wn(n,s)}function ye(n){var s={},c,m;for(m in n)c=n[m],s[m]=c&&c.bind?c.bind(n):c;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var sl=200;function rl(n,s){n.addEventListener("dblclick",s);var c=0,m;function v(w){if(w.detail!==1){m=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var x=qa(w);if(!(x.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!x.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var D=Date.now();D-c<=sl?(m++,m===2&&s(ye(w))):m=1,c=D}}}return n.addEventListener("click",v),{dblclick:s,simDblclick:v}}function gi(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Fn=Ba(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),za=Ba(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mr=za==="webkitTransition"||za==="OTransition"?za+"End":"transitionend";function zr(n){return typeof n=="string"?document.getElementById(n):n}function Da(n,s){var c=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[s]:null}return c==="auto"?null:c}function Lt(n,s,c){var m=document.createElement(n);return m.className=s||"",c&&c.appendChild(m),m}function Xt(n){var s=n.parentNode;s&&s.removeChild(n)}function Fe(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ae(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function yi(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Dr(n,s){if(n.classList!==void 0)return n.classList.contains(s);var c=Cs(n);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function St(n,s){if(n.classList!==void 0)for(var c=k(s),m=0,v=c.length;m<v;m++)n.classList.add(c[m]);else if(!Dr(n,s)){var w=Cs(n);Ii(n,(w?w+" ":"")+s)}}function oe(n,s){n.classList!==void 0?n.classList.remove(s):Ii(n,A((" "+Cs(n)+" ").replace(" "+s+" "," ")))}function Ii(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Cs(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ae(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Br(n,s)}function Br(n,s){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function Ba(n){for(var s=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in s)return n[c];return!1}function Un(n,s,c){var m=s||new W(0,0);n.style[Fn]=(dt.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function Ft(n,s){n._leaflet_pos=s,dt.any3d?Un(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function ti(n){return n._leaflet_pos||new W(0,0)}var Gi,Tn,Ur;if("onselectstart"in document)Gi=function(){yt(window,"selectstart",ce)},Tn=function(){Vt(window,"selectstart",ce)};else{var Vi=Ba(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gi=function(){if(Vi){var n=document.documentElement.style;Ur=n[Vi],n[Vi]="none"}},Tn=function(){Vi&&(document.documentElement.style[Vi]=Ur,Ur=void 0)}}function Ns(){yt(window,"dragstart",ce)}function Ua(){Vt(window,"dragstart",ce)}var Rs,Pr;function Ki(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(tn(),Rs=n,Pr=n.style.outlineStyle,n.style.outlineStyle="none",yt(window,"keydown",tn))}function tn(){Rs&&(Rs.style.outlineStyle=Pr,Rs=void 0,Pr=void 0,Vt(window,"keydown",tn))}function Ls(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Pa(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var Yi={__proto__:null,TRANSFORM:Fn,TRANSITION:za,TRANSITION_END:Mr,get:zr,getStyle:Da,create:Lt,remove:Xt,empty:Fe,toFront:Ae,toBack:yi,hasClass:Dr,addClass:St,removeClass:oe,setClass:Ii,getClass:Cs,setOpacity:ae,testProp:Ba,setTransform:Un,setPosition:Ft,getPosition:ti,get disableTextSelection(){return Gi},get enableTextSelection(){return Tn},disableImageDrag:Ns,enableImageDrag:Ua,preventOutline:Ki,restoreOutline:tn,getSizedParentNode:Ls,getScale:Pa};function yt(n,s,c,m){if(s&&typeof s=="object")for(var v in s)fn(n,v,s[v],c);else{s=k(s);for(var w=0,x=s.length;w<x;w++)fn(n,s[w],c,m)}return this}var dn="_leaflet_events";function Vt(n,s,c,m){if(arguments.length===1)Hr(n),delete n[dn];else if(s&&typeof s=="object")for(var v in s)Ha(n,v,s[v],c);else if(s=k(s),arguments.length===2)Hr(n,function(D){return at(s,D)!==-1});else for(var w=0,x=s.length;w<x;w++)Ha(n,s[w],c,m);return this}function Hr(n,s){for(var c in n[dn]){var m=c.split(/\d/)[0];(!s||s(m))&&Ha(n,m,null,null,c)}}var bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fn(n,s,c,m){var v=s+y(c)+(m?"_"+y(m):"");if(n[dn]&&n[dn][v])return this;var w=function(D){return c.call(m||n,D||window.event)},x=w;!dt.touchNative&&dt.pointer&&s.indexOf("touch")===0?w=Vu(n,s,w):dt.touch&&s==="dblclick"?w=rl(n,w):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(bi[s]||s,w,dt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(w=function(D){D=D||window.event,Pn(n,D)&&x(D)},n.addEventListener(bi[s],w,!1)):n.addEventListener(s,x,!1):n.attachEvent("on"+s,w),n[dn]=n[dn]||{},n[dn][v]=w}function Ha(n,s,c,m,v){v=v||s+y(c)+(m?"_"+y(m):"");var w=n[dn]&&n[dn][v];if(!w)return this;!dt.touchNative&&dt.pointer&&s.indexOf("touch")===0?al(n,s,w):dt.touch&&s==="dblclick"?gi(n,w):"removeEventListener"in n?n.removeEventListener(bi[s]||s,w,!1):n.detachEvent("on"+s,w),n[dn][v]=null}function mn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function En(n){return fn(n,"wheel",mn),this}function wi(n){return yt(n,"mousedown touchstart dblclick contextmenu",mn),n._leaflet_disable_click=!0,this}function ce(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function ei(n){return ce(n),mn(n),this}function qa(n){if(n.composedPath)return n.composedPath();for(var s=[],c=n.target;c;)s.push(c),c=c.parentNode;return s}function Za(n,s){if(!s)return new W(n.clientX,n.clientY);var c=Pa(s),m=c.boundingClientRect;return new W((n.clientX-m.left)/c.x-s.clientLeft,(n.clientY-m.top)/c.y-s.clientTop)}var ol=dt.linux&&dt.chrome?window.devicePixelRatio:dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ze(n){return dt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/ol:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Pn(n,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var js={__proto__:null,on:yt,off:Vt,stopPropagation:mn,disableScrollPropagation:En,disableClickPropagation:wi,preventDefault:ce,stop:ei,getPropagationPath:qa,getMousePosition:Za,getWheelDelta:ze,isExternalTarget:Pn,addListener:yt,removeListener:Vt},$i=et.extend({run:function(n,s,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=ti(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ut(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var c=this._startPos.add(this._offset.multiplyBy(n));s&&c._round(),Ft(this._el,c),this.fire("step")},_complete:function(){Kt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),zt=et.extend({options:{crs:Jn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=q(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ot(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=za&&dt.any3d&&!dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),yt(this._proxy,Mr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(ot(n),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=f({animate:c.animate},c.zoom),c.pan=f({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,c){var m=this.getZoomScale(s),v=this.getSize().divideBy(2),w=n instanceof W?n:this.latLngToContainerPoint(n),x=w.subtract(v).multiplyBy(1-1/m),D=this.containerPointToLatLng(v.add(x));return this.setView(D,s,{zoom:c})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():tt(n);var c=rt(s.paddingTopLeft||s.padding||[0,0]),m=rt(s.paddingBottomRight||s.padding||[0,0]),v=this.getBoundsZoom(n,!1,c.add(m));if(v=typeof s.maxZoom=="number"?Math.min(s.maxZoom,v):v,v===1/0)return{center:n.getCenter(),zoom:v};var w=m.subtract(c).divideBy(2),x=this.project(n.getSouthWest(),v),D=this.project(n.getNorthEast(),v),P=this.unproject(x.add(D).divideBy(2).add(w),v);return{center:P,zoom:v}},fitBounds:function(n,s){if(n=tt(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=rt(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $i,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,c){if(c=c||{},c.animate===!1||!dt.any3d)return this.setView(n,s,c);this._stop();var m=this.project(this.getCenter()),v=this.project(n),w=this.getSize(),x=this._zoom;n=ot(n),s=s===void 0?x:s;var D=Math.max(w.x,w.y),P=D*this.getZoomScale(x,s),$=v.distanceTo(m)||1,nt=1.42,mt=nt*nt;function Ot(ue){var In=ue?-1:1,xi=ue?P:D,eo=P*P-D*D+In*mt*mt*$*$,as=2*xi*mt*$,ss=eo/as,ci=Math.sqrt(ss*ss+1)-ss,Gn=ci<1e-9?-18:Math.log(ci);return Gn}function Oe(ue){return(Math.exp(ue)-Math.exp(-ue))/2}function he(ue){return(Math.exp(ue)+Math.exp(-ue))/2}function Je(ue){return Oe(ue)/he(ue)}var Ht=Ot(0);function qt(ue){return D*(he(Ht)/he(Ht+nt*ue))}function jt(ue){return D*(he(Ht)*Je(Ht+nt*ue)-Oe(Ht))/mt}function li(ue){return 1-Math.pow(1-ue,1.5)}var sn=Date.now(),Ks=(Ot(1)-Ht)/nt,ui=c.duration?1e3*c.duration:1e3*Ks*.8;function to(){var ue=(Date.now()-sn)/ui,In=li(ue)*Ks;ue<=1?(this._flyToFrame=Ut(to,this),this._move(this.unproject(m.add(v.subtract(m).multiplyBy(jt(In)/$)),x),this.getScaleZoom(D/qt(In),x),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),to.call(this),this},flyToBounds:function(n,s){var c=this._getBoundsCenterZoom(n,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(n){return n=tt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,tt(n));return c.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var c=rt(s.paddingTopLeft||s.padding||[0,0]),m=rt(s.paddingBottomRight||s.padding||[0,0]),v=this.project(this.getCenter()),w=this.project(n),x=this.getPixelBounds(),D=V([x.min.add(c),x.max.subtract(m)]),P=D.getSize();if(!D.contains(w)){this._enforcingBounds=!0;var $=w.subtract(D.getCenter()),nt=D.extend(w).getSize().subtract(P);v.x+=$.x<0?-nt.x:nt.x,v.y+=$.y<0?-nt.y:nt.y,this.panTo(this.unproject(v),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=f({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=s.divideBy(2).round(),v=c.divideBy(2).round(),w=m.subtract(v);return!w.x&&!w.y?this:(n.animate&&n.pan?this.panBy(w):(n.pan&&this._rawPanBy(w),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=f({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=p(this._handleGeolocationResponse,this),c=p(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,n):navigator.geolocation.getCurrentPosition(s,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,c=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,c=n.coords.longitude,m=new lt(s,c),v=m.toBounds(n.coords.accuracy*2),w=this._locateOptions;if(w.setView){var x=this.getBoundsZoom(v);this.setView(m,w.maxZoom?Math.min(x,w.maxZoom):x)}var D={latlng:m,bounds:v,timestamp:n.timestamp};for(var P in n.coords)typeof n.coords[P]=="number"&&(D[P]=n.coords[P]);this.fire("locationfound",D)}},addHandler:function(n,s){if(!s)return this;var c=this[n]=new s(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Kt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Xt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Lt("div",c,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new F(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,c){n=tt(n),c=rt(c||[0,0]);var m=this.getZoom()||0,v=this.getMinZoom(),w=this.getMaxZoom(),x=n.getNorthWest(),D=n.getSouthEast(),P=this.getSize().subtract(c),$=V(this.project(D,m),this.project(x,m)).getSize(),nt=dt.any3d?this.options.zoomSnap:1,mt=P.x/$.x,Ot=P.y/$.y,Oe=s?Math.max(mt,Ot):Math.min(mt,Ot);return m=this.getScaleZoom(Oe,m),nt&&(m=Math.round(m/(nt/100))*(nt/100),m=s?Math.ceil(m/nt)*nt:Math.floor(m/nt)*nt),Math.max(v,Math.min(w,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var c=this._getTopLeftPoint(n,s);return new N(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(n)/c.scale(s)},getScaleZoom:function(n,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var m=c.zoom(n*c.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ot(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(rt(n),s)},layerPointToLatLng:function(n){var s=rt(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(ot(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ot(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(tt(n))},distance:function(n,s){return this.options.crs.distance(ot(n),ot(s))},containerPointToLayerPoint:function(n){return rt(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return rt(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(rt(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ot(n)))},mouseEventToContainerPoint:function(n){return Za(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=zr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");yt(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&dt.any3d,St(n,"leaflet-container"+(dt.touch?" leaflet-touch":"")+(dt.retina?" leaflet-retina":"")+(dt.ielt9?" leaflet-oldie":"")+(dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Da(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(n.markerPane,"leaflet-zoom-hide"),St(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,c){Ft(this._mapPane,new W(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var v=this._zoom!==s;this._moveStart(v,c)._move(n,s)._moveEnd(v),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,c,m){s===void 0&&(s=this._zoom);var v=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((v||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Kt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ft(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var s=n?Vt:yt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),dt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Kt(this._resizeRequest),this._resizeRequest=Ut(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var c=[],m,v=s==="mouseout"||s==="mouseover",w=n.target||n.srcElement,x=!1;w;){if(m=this._targets[y(w)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){x=!0;break}if(m&&m.listens(s,!0)&&(v&&!Pn(w,n)||(c.push(m),v))||w===this._container)break;w=w.parentNode}return!c.length&&!x&&!v&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var c=n.type;c==="mousedown"&&Ki(s),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,c){if(n.type==="click"){var m=f({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var v=this._findEventTargets(n,s);if(c){for(var w=[],x=0;x<c.length;x++)c[x].listens(s,!0)&&w.push(c[x]);v=w.concat(v)}if(v.length){s==="contextmenu"&&ce(n);var D=v[0],P={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var $=D.getLatLng&&(!D._radius||D._radius<=10);P.containerPoint=$?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(n),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=$?D.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(x=0;x<v.length;x++)if(v[x].fire(s,P,!0),P.originalEvent._stopped||v[x].options.bubblingMouseEvents===!1&&at(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return ti(this._mapPane)||new W(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var c=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var c=this.getSize()._divideBy(2);return this.project(n,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return V([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,c){if(!c)return n;var m=this.project(n,s),v=this.getSize().divideBy(2),w=new N(m.subtract(v),m.add(v)),x=this._getBoundsOffset(w,c,s);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?n:this.unproject(m.add(x),s)},_limitOffset:function(n,s){if(!s)return n;var c=this.getPixelBounds(),m=new N(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,c){var m=V(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),v=m.min.subtract(n.min),w=m.max.subtract(n.max),x=this._rebound(v.x,-w.x),D=this._rebound(v.y,-w.y);return new W(x,D)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),c=this.getMaxZoom(),m=dt.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var c=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var n=this._proxy=Lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var c=Fn,m=this._proxy.style[c];Un(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Un(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),v=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(v)?!1:(Ut(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qr(n,s){return new zt(n,s)}var Xe=_e.extend({options:{position:"topright"},initialize:function(n){q(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return St(s,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Hn=function(n){return new Xe(n)};zt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",c=this._controlContainer=Lt("div",s+"control-container",this._container);function m(v,w){var x=s+v+" "+s+w;n[v+w]=Lt("div",x,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Xt(this._controlCorners[n]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ia=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,s,c){q(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Xe.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Lt("div",n),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),wi(s),En(s);var m=this._section=Lt("section",n+"-list");c&&(this._map.on("click",this.collapse,this),yt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Lt("a",n+"-toggle",s);v.href="#",v.title="Layers",v.setAttribute("role","button"),yt(v,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){ce(w),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Lt("div",n+"-base",m),this._separator=Lt("div",n+"-separator",m),this._overlaysList=Lt("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(p(function(m,v){return this.options.sortFunction(m.layer,v.layer,m.name,v.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fe(this._baseLayersList),Fe(this._overlaysList),this._layerControlInputs=[];var n,s,c,m,v=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,v+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&v>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(y(n.target)),c=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(n,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var s=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(n.layer),yt(m,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+n.name;var w=document.createElement("span");s.appendChild(w),w.appendChild(m),w.appendChild(v);var x=n.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,c,m=[],v=[];this._handlingClick=!0;for(var w=n.length-1;w>=0;w--)s=n[w],c=this._getLayer(s.layerId).layer,s.checked?m.push(c):s.checked||v.push(c);for(w=0;w<v.length;w++)this._map.hasLayer(v[w])&&this._map.removeLayer(v[w]);for(w=0;w<m.length;w++)this._map.hasLayer(m[w])||this._map.addLayer(m[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,c,m=this._map.getZoom(),v=n.length-1;v>=0;v--)s=n[v],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,yt(n,"click",ce),this.expand();var s=this;setTimeout(function(){Vt(n,"click",ce),s._preventClick=!1})}}),ll=function(n,s,c){return new Ia(n,s,c)},Zr=Xe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",c=Lt("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,c,m,v){var w=Lt("a",c,m);return w.innerHTML=n,w.href="#",w.title=s,w.setAttribute("role","button"),w.setAttribute("aria-label",s),wi(w),yt(w,"click",ei),yt(w,"click",v,this),yt(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";oe(this._zoomInButton,s),oe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(St(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(St(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});zt.mergeOptions({zoomControl:!0}),zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zr,this.addControl(this.zoomControl))});var Ku=function(n){return new Zr(n)},ul=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",c=Lt("div",s),m=this.options;return this._addScales(m,s+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,c){n.metric&&(this._mScale=Lt("div",s,c)),n.imperial&&(this._iScale=Lt("div",s,c))},_update:function(){var n=this._map,s=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/n)},_updateImperial:function(n){var s=n*3.2808399,c,m,v;s>5280?(c=s/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(v=this._getRoundNum(s),this._updateScale(this._iScale,v+" ft",v/s))},_updateScale:function(n,s,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),c=n/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),Ir=function(n){return new ul(n)},Yu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gr=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(dt.inlineSvg?Yu+" ":"")+"Leaflet</a>"},initialize:function(n){q(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Lt("div","leaflet-control-attribution"),wi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});zt.mergeOptions({attributionControl:!0}),zt.addInitHook(function(){this.options.attributionControl&&new Gr().addTo(this)});var $u=function(n){return new Gr(n)};Xe.Layers=Ia,Xe.Zoom=Zr,Xe.Scale=ul,Xe.Attribution=Gr,Hn.layers=ll,Hn.zoom=Ku,Hn.scale=Ir,Hn.attribution=$u;var xn=_e.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xn.addTo=function(n,s){return n.addHandler(s,this),this};var Xu={Events:G},Vr=dt.touch?"touchstart mousedown":"mousedown",ni=et.extend({options:{clickTolerance:3},initialize:function(n,s,c,m){q(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=c},enable:function(){this._enabled||(yt(this._dragStartTarget,Vr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Vt(this._dragStartTarget,Vr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Dr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){ni._dragging===this&&this.finishDrag();return}if(!(ni._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(ni._dragging=this,this._preventOutline&&Ki(this._element),Ns(),Gi(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,c=Ls(this._element);this._startPoint=new W(s.clientX,s.clientY),this._startPos=ti(this._element),this._parentScale=Pa(c);var m=n.type==="mousedown";yt(document,m?"mousemove":"touchmove",this._onMove,this),yt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,c=new W(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ce(n),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ft(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){oe(document.body,"leaflet-dragging"),this._lastTarget&&(oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vt(document,"mousemove touchmove",this._onMove,this),Vt(document,"mouseup touchend touchcancel",this._onUp,this),Ua(),Tn();var s=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function cl(n,s,c){var m,v=[1,4,2,8],w,x,D,P,$,nt,mt,Ot;for(w=0,nt=n.length;w<nt;w++)n[w]._code=Si(n[w],s);for(D=0;D<4;D++){for(mt=v[D],m=[],w=0,nt=n.length,x=nt-1;w<nt;x=w++)P=n[w],$=n[x],P._code&mt?$._code&mt||(Ot=ks($,P,mt,s,c),Ot._code=Si(Ot,s),m.push(Ot)):($._code&mt&&(Ot=ks($,P,mt,s,c),Ot._code=Si(Ot,s),m.push(Ot)),m.push(P));n=m}return n}function hl(n,s){var c,m,v,w,x,D,P,$,nt;if(!n||n.length===0)throw new Error("latlngs not passed");en(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var mt=ot([0,0]),Ot=tt(n),Oe=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Oe<1700&&(mt=Kr(n));var he=n.length,Je=[];for(c=0;c<he;c++){var Ht=ot(n[c]);Je.push(s.project(ot([Ht.lat-mt.lat,Ht.lng-mt.lng])))}for(D=P=$=0,c=0,m=he-1;c<he;m=c++)v=Je[c],w=Je[m],x=v.y*w.x-w.y*v.x,P+=(v.x+w.x)*x,$+=(v.y+w.y)*x,D+=x*3;D===0?nt=Je[0]:nt=[P/D,$/D];var qt=s.unproject(rt(nt));return ot([qt.lat+mt.lat,qt.lng+mt.lng])}function Kr(n){for(var s=0,c=0,m=0,v=0;v<n.length;v++){var w=ot(n[v]);s+=w.lat,c+=w.lng,m++}return ot([s/m,c/m])}var Yr={__proto__:null,clipPolygon:cl,polygonCenter:hl,centroid:Kr};function dl(n,s){if(!s||!n.length)return n.slice();var c=s*s;return n=Qu(n,c),n=ml(n,c),n}function fl(n,s,c){return Math.sqrt(Ga(n,s,c,!0))}function Ju(n,s,c){return Ga(n,s,c)}function ml(n,s){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,v=new m(c);v[0]=v[c-1]=1,$r(n,v,s,0,c-1);var w,x=[];for(w=0;w<c;w++)v[w]&&x.push(n[w]);return x}function $r(n,s,c,m,v){var w=0,x,D,P;for(D=m+1;D<=v-1;D++)P=Ga(n[D],n[m],n[v],!0),P>w&&(x=D,w=P);w>c&&(s[x]=1,$r(n,s,c,m,x),$r(n,s,c,x,v))}function Qu(n,s){for(var c=[n[0]],m=1,v=0,w=n.length;m<w;m++)Wu(n[m],n[v])>s&&(c.push(n[m]),v=m);return v<w-1&&c.push(n[w-1]),c}var _l;function pl(n,s,c,m,v){var w=m?_l:Si(n,c),x=Si(s,c),D,P,$;for(_l=x;;){if(!(w|x))return[n,s];if(w&x)return!1;D=w||x,P=ks(n,s,D,c,v),$=Si(P,c),D===w?(n=P,w=$):(s=P,x=$)}}function ks(n,s,c,m,v){var w=s.x-n.x,x=s.y-n.y,D=m.min,P=m.max,$,nt;return c&8?($=n.x+w*(P.y-n.y)/x,nt=P.y):c&4?($=n.x+w*(D.y-n.y)/x,nt=D.y):c&2?($=P.x,nt=n.y+x*(P.x-n.x)/w):c&1&&($=D.x,nt=n.y+x*(D.x-n.x)/w),new W($,nt,v)}function Si(n,s){var c=0;return n.x<s.min.x?c|=1:n.x>s.max.x&&(c|=2),n.y<s.min.y?c|=4:n.y>s.max.y&&(c|=8),c}function Wu(n,s){var c=s.x-n.x,m=s.y-n.y;return c*c+m*m}function Ga(n,s,c,m){var v=s.x,w=s.y,x=c.x-v,D=c.y-w,P=x*x+D*D,$;return P>0&&($=((n.x-v)*x+(n.y-w)*D)/P,$>1?(v=c.x,w=c.y):$>0&&(v+=x*$,w+=D*$)),x=n.x-v,D=n.y-w,m?x*x+D*D:new W(v,w)}function en(n){return!Z(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ms(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(n)}function Xi(n,s){var c,m,v,w,x,D,P,$;if(!n||n.length===0)throw new Error("latlngs not passed");en(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var nt=ot([0,0]),mt=tt(n),Ot=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Ot<1700&&(nt=Kr(n));var Oe=n.length,he=[];for(c=0;c<Oe;c++){var Je=ot(n[c]);he.push(s.project(ot([Je.lat-nt.lat,Je.lng-nt.lng])))}for(c=0,m=0;c<Oe-1;c++)m+=he[c].distanceTo(he[c+1])/2;if(m===0)$=he[0];else for(c=0,w=0;c<Oe-1;c++)if(x=he[c],D=he[c+1],v=x.distanceTo(D),w+=v,w>m){P=(w-m)/v,$=[D.x-P*(D.x-x.x),D.y-P*(D.y-x.y)];break}var Ht=s.unproject(rt($));return ot([Ht.lat+nt.lat,Ht.lng+nt.lng])}var Fu={__proto__:null,simplify:dl,pointToSegmentDistance:fl,closestPointOnSegment:Ju,clipSegment:pl,_getEdgeIntersection:ks,_getBitCode:Si,_sqClosestPointOnSegment:Ga,isFlat:en,_flat:Ms,polylineCenter:Xi},zs={project:function(n){return new W(n.lng,n.lat)},unproject:function(n){return new lt(n.y,n.x)},bounds:new N([-180,-90],[180,90])},Ds={R:6378137,R_MINOR:6356752314245179e-9,bounds:new N([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,c=this.R,m=n.lat*s,v=this.R_MINOR/c,w=Math.sqrt(1-v*v),x=w*Math.sin(m),D=Math.tan(Math.PI/4-m/2)/Math.pow((1-x)/(1+x),w/2);return m=-c*Math.log(Math.max(D,1e-10)),new W(n.lng*s*c,m)},unproject:function(n){for(var s=180/Math.PI,c=this.R,m=this.R_MINOR/c,v=Math.sqrt(1-m*m),w=Math.exp(-n.y/c),x=Math.PI/2-2*Math.atan(w),D=0,P=.1,$;D<15&&Math.abs(P)>1e-7;D++)$=v*Math.sin(x),$=Math.pow((1-$)/(1+$),v/2),P=Math.PI/2-2*Math.atan(w*$)-x,x+=P;return new lt(x*s,n.x*s/c)}},vl={__proto__:null,LonLat:zs,Mercator:Ds,SphericalMercator:ft},gl=f({},ie,{code:"EPSG:3395",projection:Ds,transformation:(function(){var n=.5/(Math.PI*Ds.R);return Ke(n,.5,-n,.5)})()}),Xr=f({},ie,{code:"EPSG:4326",projection:zs,transformation:Ke(1/180,1,-1/180,.5)}),Ji=f({},At,{projection:zs,transformation:Ke(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var c=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});At.Earth=ie,At.EPSG3395=gl,At.EPSG3857=Jn,At.EPSG900913=fi,At.EPSG4326=Xr,At.Simple=Ji;var _n=et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});zt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=y(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},_addLayers:function(n){n=n?Z(n)?n:[n]:[];for(var s=0,c=n.length;s<c;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=y(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var v=this._zoomBoundLayers[m].options;n=v.minZoom===void 0?n:Math.min(n,v.minZoom),s=v.maxZoom===void 0?s:Math.max(s,v.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qi=_n.extend({initialize:function(n,s){q(this,s),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),tc=function(n,s){return new Qi(n,s)},An=Qi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Qi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Qi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new F;for(var s in this._layers){var c=this._layers[s];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),yl=function(n,s){return new An(n,s)},On=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){q(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var c=this.options,m=c[s+"Size"];typeof m=="number"&&(m=[m,m]);var v=rt(m),w=rt(s==="shadow"&&c.shadowAnchor||c.iconAnchor||v&&v.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(c.className||""),w&&(n.style.marginLeft=-w.x+"px",n.style.marginTop=-w.y+"px"),v&&(n.style.width=v.x+"px",n.style.height=v.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return dt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Va(n){return new On(n)}var Ka=On.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Ka.imagePath!="string"&&(Ka.imagePath=this._detectIconPath()),(this.options.imagePath||Ka.imagePath)+On.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(c,m,v){var w=m.exec(c);return w&&w[v]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Lt("div","leaflet-default-icon-path",document.body),s=Da(n,"background-image")||Da(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ya=xn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new ni(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,c=s._map,m=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,w=ti(s._icon),x=c.getPixelBounds(),D=c.getPixelOrigin(),P=V(x.min._subtract(D).add(v),x.max._subtract(D).subtract(v));if(!P.contains(w)){var $=rt((Math.max(P.max.x,w.x)-P.max.x)/(x.max.x-P.max.x)-(Math.min(P.min.x,w.x)-P.min.x)/(x.min.x-P.min.x),(Math.max(P.max.y,w.y)-P.max.y)/(x.max.y-P.max.y)-(Math.min(P.min.y,w.y)-P.min.y)/(x.min.y-P.min.y)).multiplyBy(m);c.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),Ft(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Ut(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Kt(this._panRequest),this._panRequest=Ut(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,c=s._shadow,m=ti(s._icon),v=s._map.layerPointToLatLng(m);c&&Ft(c,m),s._latlng=v,n.latlng=v,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Kt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),$a=_n.extend({options:{icon:new Ka,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){q(this,s),this._latlng=ot(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=ot(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),St(c,s),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(c,"focus",this._panOnFocus,this);var v=n.icon.createShadow(this._shadow),w=!1;v!==this._shadow&&(this._removeShadow(),w=!0),v&&(St(v,s),v.alt=""),this._shadow=v,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&w&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ft(this._icon,n),this._shadow&&Ft(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ya)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ya(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ae(this._icon,n),this._shadow&&ae(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,c=s.iconSize?rt(s.iconSize):rt(0,0),m=s.iconAnchor?rt(s.iconAnchor):rt(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bl(n,s){return new $a(n,s)}var Cn=_n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return q(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wi=Cn.extend({options:{fill:!0,radius:10},initialize:function(n,s){q(this,s),this._latlng=ot(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=ot(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Cn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,c=this._clickTolerance(),m=[n+c,s+c];this._pxBounds=new N(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wl(n,s){return new Wi(n,s)}var Bs=Wi.extend({initialize:function(n,s,c){if(typeof s=="number"&&(s=f({},c,{radius:s})),q(this,s),this._latlng=ot(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Cn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===ie.distance){var v=Math.PI/180,w=this._mRadius/ie.R/v,x=c.project([s+w,n]),D=c.project([s-w,n]),P=x.add(D).divideBy(2),$=c.unproject(P).lat,nt=Math.acos((Math.cos(w*v)-Math.sin(s*v)*Math.sin($*v))/(Math.cos(s*v)*Math.cos($*v)))/v;(isNaN(nt)||nt===0)&&(nt=w/Math.cos(Math.PI/180*s)),this._point=P.subtract(c.getPixelOrigin()),this._radius=isNaN(nt)?0:P.x-c.project([$,n-nt]).x,this._radiusY=P.y-x.y}else{var mt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(mt).x}this._updateBounds()}});function Sl(n,s,c){return new Bs(n,s,c)}var qn=Cn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){q(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,c=null,m=Ga,v,w,x=0,D=this._parts.length;x<D;x++)for(var P=this._parts[x],$=1,nt=P.length;$<nt;$++){v=P[$-1],w=P[$];var mt=m(n,v,w,!0);mt<s&&(s=mt,c=m(n,v,w))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=ot(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new F,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],c=en(n),m=0,v=n.length;m<v;m++)c?(s[m]=ot(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new W(n,n);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,c){var m=n[0]instanceof lt,v=n.length,w,x;if(m){for(x=[],w=0;w<v;w++)x[w]=this._map.latLngToLayerPoint(n[w]),c.extend(x[w]);s.push(x)}else for(w=0;w<v;w++)this._projectLatlngs(n[w],s,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,m,v,w,x,D,P;for(c=0,v=0,w=this._rings.length;c<w;c++)for(P=this._rings[c],m=0,x=P.length;m<x-1;m++)D=pl(P[m],P[m+1],n,m,!0),D&&(s[v]=s[v]||[],s[v].push(D[0]),(D[1]!==P[m+1]||m===x-2)&&(s[v].push(D[1]),v++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=dl(n[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var c,m,v,w,x,D,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,w=this._parts.length;c<w;c++)for(D=this._parts[c],m=0,x=D.length,v=x-1;m<x;v=m++)if(!(!s&&m===0)&&fl(n,D[v],D[m])<=P)return!0;return!1}});function ec(n,s){return new qn(n,s)}qn._flat=Ms;var Fi=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=qn.prototype._convertLatLngs.call(this,n),c=s.length;return c>=2&&s[0]instanceof lt&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(n){qn.prototype._setLatLngs.call(this,n),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,c=new W(s,s);if(n=new N(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,v=this._rings.length,w;m<v;m++)w=cl(this._rings[m],n,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,c,m,v,w,x,D,P,$;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(w=0,P=this._parts.length;w<P;w++)for(c=this._parts[w],x=0,$=c.length,D=$-1;x<$;D=x++)m=c[x],v=c[D],m.y>n.y!=v.y>n.y&&n.x<(v.x-m.x)*(n.y-m.y)/(v.y-m.y)+m.x&&(s=!s);return s||qn.prototype._containsPoint.call(this,n,!0)}});function nc(n,s){return new Fi(n,s)}var Zn=An.extend({initialize:function(n,s){q(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=Z(n)?n:n.features,c,m,v;if(s){for(c=0,m=s.length;c<m;c++)v=s[c],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var w=this.options;if(w.filter&&!w.filter(n))return this;var x=Le(n,w);return x?(x.feature=Hs(n),x.defaultOptions=x.options,this.resetStyle(x),w.onEachFeature&&w.onEachFeature(n,x),this.addLayer(x)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=f({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Le(n,s){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,v=[],w=s&&s.pointToLayer,x=s&&s.coordsToLatLng||Us,D,P,$,nt;if(!m&&!c)return null;switch(c.type){case"Point":return D=x(m),ta(w,n,D,s);case"MultiPoint":for($=0,nt=m.length;$<nt;$++)D=x(m[$]),v.push(ta(w,n,D,s));return new An(v);case"LineString":case"MultiLineString":return P=Xa(m,c.type==="LineString"?0:1,x),new qn(P,s);case"Polygon":case"MultiPolygon":return P=Xa(m,c.type==="Polygon"?1:2,x),new Fi(P,s);case"GeometryCollection":for($=0,nt=c.geometries.length;$<nt;$++){var mt=Le({geometry:c.geometries[$],type:"Feature",properties:n.properties},s);mt&&v.push(mt)}return new An(v);case"FeatureCollection":for($=0,nt=c.features.length;$<nt;$++){var Ot=Le(c.features[$],s);Ot&&v.push(Ot)}return new An(v);default:throw new Error("Invalid GeoJSON object.")}}function ta(n,s,c,m){return n?n(s,c):new $a(c,m&&m.markersInheritOptions&&m)}function Us(n){return new lt(n[1],n[0],n[2])}function Xa(n,s,c){for(var m=[],v=0,w=n.length,x;v<w;v++)x=s?Xa(n[v],s-1,c):(c||Us)(n[v]),m.push(x);return m}function Ps(n,s){return n=ot(n),n.alt!==void 0?[M(n.lng,s),M(n.lat,s),M(n.alt,s)]:[M(n.lng,s),M(n.lat,s)]}function Ja(n,s,c,m){for(var v=[],w=0,x=n.length;w<x;w++)v.push(s?Ja(n[w],en(n[w])?0:s-1,c,m):Ps(n[w],m));return!s&&c&&v.length>0&&v.push(v[0].slice()),v}function ii(n,s){return n.feature?f({},n.feature,{geometry:s}):Hs(s)}function Hs(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ai={toGeoJSON:function(n){return ii(this,{type:"Point",coordinates:Ps(this.getLatLng(),n)})}};$a.include(ai),Bs.include(ai),Wi.include(ai),qn.include({toGeoJSON:function(n){var s=!en(this._latlngs),c=Ja(this._latlngs,s?1:0,!1,n);return ii(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),Fi.include({toGeoJSON:function(n){var s=!en(this._latlngs),c=s&&!en(this._latlngs[0]),m=Ja(this._latlngs,c?2:s?1:0,!0,n);return s||(m=[m]),ii(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),Qi.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(n).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var c=s==="GeometryCollection",m=[];return this.eachLayer(function(v){if(v.toGeoJSON){var w=v.toGeoJSON(n);if(c)m.push(w.geometry);else{var x=Hs(w);x.type==="FeatureCollection"?m.push.apply(m,x.features):m.push(x)}}}),c?ii(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function qs(n,s){return new Zn(n,s)}var Qa=qs,ea=_n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,c){this._url=n,this._bounds=tt(s),q(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ae(this._image),this},bringToBack:function(){return this._map&&yi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=tt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Lt("img");if(St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onload=p(this.fire,this,"load"),s.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Un(this._image,c,s)},_reset:function(){var n=this._image,s=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();Ft(n,s.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Tl=function(n,s,c){return new ea(n,s,c)},si=ea.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Lt("video");if(St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=R,s.onmousemove=R,s.onloadeddata=p(this.fire,this,"load"),n){for(var c=s.getElementsByTagName("source"),m=[],v=0;v<c.length;v++)m.push(c[v].src);this._url=c.length>0?m:[s.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var x=Lt("source");x.src=this._url[w],s.appendChild(x)}}});function na(n,s,c){return new si(n,s,c)}var Zs=ea.extend({_initImage:function(){var n=this._image=this._url;St(n,"leaflet-image-layer"),this._zoomAnimated&&St(n,"leaflet-zoom-animated"),this.options.className&&St(n,this.options.className),n.onselectstart=R,n.onmousemove=R}});function El(n,s,c){return new Zs(n,s,c)}var je=_n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof lt||Z(n))?(this._latlng=ot(n),q(this,s)):(q(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ae(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ae(this._container,0),this._removeTimeout=setTimeout(p(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ot(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ae(this._container),this},bringToBack:function(){return this._map&&yi(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof An){s=null;var c=this._source._layers;for(var m in c)if(c[m]._map){s=c[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=rt(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ft(this._container,n.add(c)):s=s.add(n).add(c);var m=this._containerBottom=-s.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});zt.include({_initOverlay:function(n,s,c,m){var v=s;return v instanceof n||(v=new n(m).setContent(s)),c&&v.setLatLng(c),v}}),_n.include({_initOverlay:function(n,s,c,m){var v=c;return v instanceof n?(q(v,m),v._source=this):(v=s&&!m?s:new n(m,this),v.setContent(c)),v}});var Wa=je.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,je.prototype.openOn.call(this,n)},onAdd:function(n){je.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cn||this._source.on("preclick",mn))},onRemove:function(n){je.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cn||this._source.off("preclick",mn))},getEvents:function(){var n=je.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Lt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Lt("div",n+"-content-wrapper",s);if(this._contentNode=Lt("div",n+"-content",c),wi(s),En(this._contentNode),yt(s,"contextmenu",mn),this._tipContainer=Lt("div",n+"-tip-container",s),this._tip=Lt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Lt("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',yt(m,"click",function(v){ce(v),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,v=this.options.maxHeight,w="leaflet-popup-scrolled";v&&m>v?(s.height=v+"px",St(n,w)):oe(n,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();Ft(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(Da(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,m=this._containerWidth,v=new W(this._containerLeft,-c-this._containerBottom);v._add(ti(this._container));var w=n.layerPointToContainerPoint(v),x=rt(this.options.autoPanPadding),D=rt(this.options.autoPanPaddingTopLeft||x),P=rt(this.options.autoPanPaddingBottomRight||x),$=n.getSize(),nt=0,mt=0;w.x+m+P.x>$.x&&(nt=w.x+m-$.x+P.x),w.x-nt-D.x<0&&(nt=w.x-D.x),w.y+c+P.y>$.y&&(mt=w.y+c-$.y+P.y),w.y-mt-D.y<0&&(mt=w.y-D.y),(nt||mt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([nt,mt]))}},_getAnchor:function(){return rt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xl=function(n,s){return new Wa(n,s)};zt.mergeOptions({closePopupOnClick:!0}),zt.include({openPopup:function(n,s,c){return this._initOverlay(Wa,n,s,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),_n.include({bindPopup:function(n,s){return this._popup=this._initOverlay(Wa,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof An||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){ei(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Cn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Fa=je.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){je.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){je.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=je.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Lt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,c,m=this._map,v=this._container,w=m.latLngToContainerPoint(m.getCenter()),x=m.layerPointToContainerPoint(n),D=this.options.direction,P=v.offsetWidth,$=v.offsetHeight,nt=rt(this.options.offset),mt=this._getAnchor();D==="top"?(s=P/2,c=$):D==="bottom"?(s=P/2,c=0):D==="center"?(s=P/2,c=$/2):D==="right"?(s=0,c=$/2):D==="left"?(s=P,c=$/2):x.x<w.x?(D="right",s=0,c=$/2):(D="left",s=P+(nt.x+mt.x)*2,c=$/2),n=n.subtract(rt(s,c,!0)).add(nt).add(mt),oe(v,"leaflet-tooltip-right"),oe(v,"leaflet-tooltip-left"),oe(v,"leaflet-tooltip-top"),oe(v,"leaflet-tooltip-bottom"),St(v,"leaflet-tooltip-"+D),Ft(v,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ae(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return rt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ic=function(n,s){return new Fa(n,s)};zt.include({openTooltip:function(n,s,c){return this._initOverlay(Fa,n,s,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),_n.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fa,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof An||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(yt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),yt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Al=On.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Fe(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=rt(c.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function ac(n){return new Al(n)}On.Default=Ka;var ia=_n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){q(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Xt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof W?n:new W(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,c=-n(-1/0,1/0),m=0,v=s.length,w;m<v;m++)w=s[m].style.zIndex,s[m]!==this._container&&w&&(c=n(c,+w));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!dt.ielt9){ae(this._container,this.options.opacity);var n=+new Date,s=!1,c=!1;for(var m in this._tiles){var v=this._tiles[m];if(!(!v.current||!v.loaded)){var w=Math.min(1,(n-v.loaded)/200);ae(v.el,w),w<1?s=!0:(v.active?c=!0:this._onOpaqueTile(v),v.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(Kt(this._fadeFrame),this._fadeFrame=Ut(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=s-Math.abs(n-c),this._onUpdateLevel(c)):(Xt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],v=this._map;return m||(m=this._levels[n]={},m.el=Lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=v.project(v.unproject(v.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,v.getCenter(),v.getZoom()),R(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var n,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Xt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,c,m){var v=Math.floor(n/2),w=Math.floor(s/2),x=c-1,D=new W(+v,+w);D.z=+x;var P=this._tileCoordsToKey(D),$=this._tiles[P];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),x>m?this._retainParent(v,w,x,m):!1)},_retainChildren:function(n,s,c,m){for(var v=2*n;v<2*n+2;v++)for(var w=2*s;w<2*s+2;w++){var x=new W(v,w);x.z=c+1;var D=this._tileCoordsToKey(x),P=this._tiles[D];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);c+1<m&&this._retainChildren(v,w,c+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,c,m){var v=Math.round(s);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var w=this.options.updateWhenZooming&&v!==this._tileZoom;(!m||w)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,s)},_setZoomTransform:function(n,s,c){var m=this._map.getZoomScale(c,n.zoom),v=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,c)).round();dt.any3d?Un(n.el,v,m):Ft(n.el,v)},_resetGrid:function(){var n=this._map,s=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(c,this._tileZoom),v=s.project(n,this._tileZoom).floor(),w=s.getSize().divideBy(m*2);return new N(v.subtract(w),v.add(w))},_update:function(n){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),v=this._pxBoundsToTileRange(m),w=v.getCenter(),x=[],D=this.options.keepBuffer,P=new N(v.getBottomLeft().subtract([D,-D]),v.getTopRight().add([D,-D]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var nt=this._tiles[$].coords;(nt.z!==this._tileZoom||!P.contains(new W(nt.x,nt.y)))&&(this._tiles[$].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var mt=v.min.y;mt<=v.max.y;mt++)for(var Ot=v.min.x;Ot<=v.max.x;Ot++){var Oe=new W(Ot,mt);if(Oe.z=this._tileZoom,!!this._isValidTile(Oe)){var he=this._tiles[this._tileCoordsToKey(Oe)];he?he.current=!0:x.push(Oe)}}if(x.sort(function(Ht,qt){return Ht.distanceTo(w)-qt.distanceTo(w)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Je=document.createDocumentFragment();for(Ot=0;Ot<x.length;Ot++)this._addTile(x[Ot],Je);this._level.el.appendChild(Je)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!s.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return tt(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,c=this.getTileSize(),m=n.scaleBy(c),v=m.add(c),w=s.unproject(m,n.z),x=s.unproject(v,n.z);return[w,x]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),c=new F(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),c=new W(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(n){var s=this._tiles[n];s&&(Xt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){St(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=R,n.onmousemove=R,dt.ielt9&&this.options.opacity<1&&ae(n,this.options.opacity)},_addTile:function(n,s){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),v=this.createTile(this._wrapCoords(n),p(this._tileReady,this,n));this._initTile(v),this.createTile.length<2&&Ut(p(this._tileReady,this,n,null,v)),Ft(v,c),this._tiles[m]={el:v,coords:n,current:!0},s.appendChild(v),this.fire("tileloadstart",{tile:v,coords:n})},_tileReady:function(n,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ae(c.el,0),Kt(this._fadeFrame),this._fadeFrame=Ut(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(St(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),dt.ielt9||!this._map._fadeAnimated?Ut(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new W(this._wrapX?C(n.x,this._wrapX):n.x,this._wrapY?C(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new N(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ol(n){return new ia(n)}var ri=ia.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=q(this,s),s.detectRetina&&dt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var c=document.createElement("img");return yt(c,"load",p(this._tileOnLoad,this,s,c)),yt(c,"error",p(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var s={r:dt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=c),s["-y"]=c}return it(this._url,f(s,this.options))},_tileOnLoad:function(n,s){dt.ielt9?setTimeout(p(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,c){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(c,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=R,s.onerror=R,!s.complete)){s.src=Et;var c=this._tiles[n].coords;Xt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",Et),ia.prototype._removeTile.call(this,n)},_tileReady:function(n,s,c){if(!(!this._map||c&&c.getAttribute("src")===Et))return ia.prototype._tileReady.call(this,n,s,c)}});function nn(n,s){return new ri(n,s)}var ts=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var c=f({},this.defaultWmsParams);for(var m in s)m in this.options||(c[m]=s[m]);s=q(this,s);var v=s.detectRetina&&dt.retina?2:1,w=this.getTileSize();c.width=w.x*v,c.height=w.y*v,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ri.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),c=this._crs,m=V(c.project(s[0]),c.project(s[1])),v=m.min,w=m.max,x=(this._wmsVersion>=1.3&&this._crs===Xr?[v.y,v.x,w.y,w.x]:[v.x,v.y,w.x,w.y]).join(","),D=ri.prototype.getTileUrl.call(this,n);return D+J(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(n,s){return f(this.wmsParams,n),s||this.redraw(),this}});function an(n,s){return new ts(n,s)}ri.WMS=ts,nn.wms=an;var qe=_n.extend({options:{padding:.1},initialize:function(n){q(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var c=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,s),w=m.multiplyBy(-c).add(v).subtract(this._map._getNewPixelOrigin(n,s));dt.any3d?Un(this._container,w,c):Ft(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new N(c,c.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Is=qe.extend({options:{tolerance:0},getEvents:function(){var n=qe.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");yt(n,"mousemove",this._onMouseMove,this),yt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),yt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Kt(this._redrawRequest),delete this._ctx,Xt(this._container),Vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qe.prototype._update.call(this);var n=this._bounds,s=this._container,c=n.getSize(),m=dt.retina?2:1;Ft(s,n.min),s.width=m*c.x,s.height=m*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){qe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,c=s.next,m=s.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),c=[],m,v;for(v=0;v<s.length;v++){if(m=Number(s[v]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Ut(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var c,m,v,w,x=n._parts,D=x.length,P=this._ctx;if(D){for(P.beginPath(),c=0;c<D;c++){for(m=0,v=x[c].length;m<v;m++)w=x[c][m],P[m?"lineTo":"moveTo"](w.x,w.y);s&&P.closePath()}this._fillStroke(P,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),v=(Math.max(Math.round(n._radiusY),1)||m)/m;v!==1&&(c.save(),c.scale(1,v)),c.beginPath(),c.arc(s.x,s.y/v,m,0,Math.PI*2,!1),v!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,s){var c=s.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),c,m,v=this._drawFirst;v;v=v.next)c=v.layer,c.options.interactive&&c._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(oe(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var c,m,v=this._drawFirst;v;v=v.next)c=v.layer,c.options.interactive&&c._containsPoint(s)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(St(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,c){this._map._fireDOMEvent(s,c||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function es(n){return dt.canvas?new Is(n):null}var oi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Jr={_initContainer:function(){this._container=Lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qe.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=oi("shape");St(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=oi("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Xt(s),n.removeInteractiveTarget(s),delete this._layers[y(n)]},_updateStyle:function(n){var s=n._stroke,c=n._fill,m=n.options,v=n._container;v.stroked=!!m.stroke,v.filled=!!m.fill,m.stroke?(s||(s=n._stroke=oi("stroke")),v.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=Z(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(v.removeChild(s),n._stroke=null),m.fill?(c||(c=n._fill=oi("fill")),v.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(v.removeChild(c),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Ae(n._container)},_bringToBack:function(n){yi(n._container)}},Nn=dt.vml?oi:Ts,aa=qe.extend({_initContainer:function(){this._container=Nn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),Vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qe.prototype._update.call(this);var n=this._bounds,s=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),Ft(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Nn("path");n.options.className&&St(s,n.options.className),n.options.interactive&&St(s,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Xt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,c=n.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Es(n._parts,s))},_updateCircle:function(n){var s=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,v="a"+c+","+m+" 0 1,0 ",w=n._empty()?"M0 0":"M"+(s.x-c)+","+s.y+v+c*2+",0 "+v+-c*2+",0 ";this._setPath(n,w)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Ae(n._path)},_bringToBack:function(n){yi(n._path)}});dt.vml&&aa.include(Jr);function ns(n){return dt.svg||dt.vml?new aa(n):null}zt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&es(n)||ns(n)}});var Ti=Fi.extend({initialize:function(n,s){Fi.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=tt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function sc(n,s){return new Ti(n,s)}aa.create=Nn,aa.pointsToPath=Es,Zn.geometryToLayer=Le,Zn.coordsToLatLng=Us,Zn.coordsToLatLngs=Xa,Zn.latLngToCoords=Ps,Zn.latLngsToCoords=Ja,Zn.getFeature=ii,Zn.asFeature=Hs,zt.mergeOptions({boxZoom:!0});var Ze=xn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gi(),Ns(),this._startPoint=this._map.mouseEventToContainerPoint(n),yt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Lt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new N(this._point,this._startPoint),c=s.getSize();Ft(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Xt(this._box),oe(this._container,"leaflet-crosshair")),Tn(),Ua(),Vt(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var s=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zt.addInitHook("addHandler","boxZoom",Ze),zt.mergeOptions({doubleClickZoom:!0});var Gs=xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,c=s.getZoom(),m=s.options.zoomDelta,v=n.originalEvent.shiftKey?c-m:c+m;s.options.doubleClickZoom==="center"?s.setZoom(v):s.setZoomAround(n.containerPoint,v)}});zt.addInitHook("addHandler","doubleClickZoom",Gs),zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rn=xn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new ni(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){oe(this._map._container,"leaflet-grab"),oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=tt(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,v=(m-s+c)%n+s-c,w=(m+s+c)%n-s-c,x=Math.abs(v+c)<Math.abs(w+c)?v:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(n){var s=this._map,c=s.options,m=!c.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,x=c.easeLinearity,D=v.multiplyBy(x/w),P=D.distanceTo([0,0]),$=Math.min(c.inertiaMaxSpeed,P),nt=D.multiplyBy($/P),mt=$/(c.inertiaDeceleration*x),Ot=nt.multiplyBy(-mt/2).round();!Ot.x&&!Ot.y?s.fire("moveend"):(Ot=s._limitOffset(Ot,s.options.maxBounds),Ut(function(){s.panBy(Ot,{duration:mt,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});zt.addInitHook("addHandler","dragging",Rn),zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qr=xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),yt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,c=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},c=this.keyCodes,m,v;for(m=0,v=c.left.length;m<v;m++)s[c.left[m]]=[-1*n,0];for(m=0,v=c.right.length;m<v;m++)s[c.right[m]]=[n,0];for(m=0,v=c.down.length;m<v;m++)s[c.down[m]]=[0,n];for(m=0,v=c.up.length;m<v;m++)s[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},c=this.keyCodes,m,v;for(m=0,v=c.zoomIn.length;m<v;m++)s[c.zoomIn[m]]=n;for(m=0,v=c.zoomOut.length;m<v;m++)s[c.zoomOut[m]]=-n},_addHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,c=this._map,m;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=rt(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(rt(m),c.options.maxBounds)),c.options.worldCopyJump){var v=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(v)}else c.panBy(m)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;ei(n)}}});zt.addInitHook("addHandler","keyboard",Qr),zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var is=xn.extend({addHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=ze(n),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),ei(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,w=c?Math.ceil(v/c)*c:v,x=n._limitZoom(s+(this._delta>0?w:-w))-s;this._delta=0,this._startTime=null,x&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+x):n.setZoomAround(this._lastMousePos,s+x))}});zt.addInitHook("addHandler","scrollWheelZoom",is);var Ei=600;zt.mergeOptions({tapHold:dt.touchNative&&dt.safari&&dt.mobile,tapTolerance:15});var Vs=xn.extend({addHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new W(s.clientX,s.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(yt(document,"touchend",ce),yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Ei),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Vt(document,"touchend",ce),Vt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new W(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});zt.addInitHook("addHandler","tapHold",Vs),zt.mergeOptions({touchZoom:dt.touch,bounceAtZoomLimits:!0});var Wr=xn.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),ce(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),v=c.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(v,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&v<1||this._zoom>s.getMaxZoom()&&v>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var w=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(v===1&&w.x===0&&w.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Kt(this._animRequest);var x=p(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ut(x,this,!0),ce(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Kt(this._animRequest),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zt.addInitHook("addHandler","touchZoom",Wr),zt.BoxZoom=Ze,zt.DoubleClickZoom=Gs,zt.Drag=Rn,zt.Keyboard=Qr,zt.ScrollWheelZoom=is,zt.TapHold=Vs,zt.TouchZoom=Wr,o.Bounds=N,o.Browser=dt,o.CRS=At,o.Canvas=Is,o.Circle=Bs,o.CircleMarker=Wi,o.Class=_e,o.Control=Xe,o.DivIcon=Al,o.DivOverlay=je,o.DomEvent=js,o.DomUtil=Yi,o.Draggable=ni,o.Evented=et,o.FeatureGroup=An,o.GeoJSON=Zn,o.GridLayer=ia,o.Handler=xn,o.Icon=On,o.ImageOverlay=ea,o.LatLng=lt,o.LatLngBounds=F,o.Layer=_n,o.LayerGroup=Qi,o.LineUtil=Fu,o.Map=zt,o.Marker=$a,o.Mixin=Xu,o.Path=Cn,o.Point=W,o.PolyUtil=Yr,o.Polygon=Fi,o.Polyline=qn,o.Popup=Wa,o.PosAnimation=$i,o.Projection=vl,o.Rectangle=Ti,o.Renderer=qe,o.SVG=aa,o.SVGOverlay=Zs,o.TileLayer=ri,o.Tooltip=Fa,o.Transformation=Ve,o.Util=zn,o.VideoOverlay=si,o.bind=p,o.bounds=V,o.canvas=es,o.circle=Sl,o.circleMarker=wl,o.control=Hn,o.divIcon=ac,o.extend=f,o.featureGroup=yl,o.geoJSON=qs,o.geoJson=Qa,o.gridLayer=Ol,o.icon=Va,o.imageOverlay=Tl,o.latLng=ot,o.latLngBounds=tt,o.layerGroup=tc,o.map=qr,o.marker=bl,o.point=rt,o.polygon=nc,o.polyline=ec,o.popup=xl,o.rectangle=sc,o.setOptions=q,o.stamp=y,o.svg=ns,o.svgOverlay=El,o.tileLayer=nn,o.tooltip=ic,o.transformation=Ke,o.version=u,o.videoOverlay=na;var Fr=window.L;o.noConflict=function(){return window.L=Fr,this},window.L=o}))})(Uo,Uo.exports)),Uo.exports}var M0=k0();const Qh=xv(M0),lp=()=>{const{bars:l,setSelectedBar:a,favorites:o,setFavorites:u}=hn(),f=Nt.useRef(null),_=Nt.useRef(null),[p,b]=Nt.useState(!1),[y,T]=Nt.useState(null),C=[27.7731,-82.64];Nt.useEffect(()=>{if(!f.current||p)return;const A=Qh.map(f.current).setView(C,13);return Qh.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(A),l.forEach(k=>{const q=L0(k.slug,k.city),J=o.includes(k.id),Q=Qh.circleMarker([q.lat,q.lng],{radius:J?14:10,fillColor:J?"#c45a47":"#888",color:"#fff",weight:2,opacity:1,fillOpacity:.9}).addTo(A);Q.bindPopup(`
        <div style="text-align: center; min-width: 150px;">
          <strong>${k.name}</strong><br/>
          <span style="color: #888;">${k.city||"St. Pete"}</span><br/>
          <button 
            id="fav-${k.id}"
            style="
              margin-top: 8px;
              padding: 6px 12px;
              background: ${J?"#c45a47":"#f0f0f0"};
              color: ${J?"#fff":"#333"};
              border: none;
              border-radius: 6px;
              cursor: pointer;
              font-size: 12px;
            "
          >
            ${J?" Following":" Follow"}
          </button>
        </div>
      `),Q.on("popupopen",()=>{setTimeout(()=>{const it=document.getElementById(`fav-${k.id}`);it&&(it.onclick=()=>R(k.id))},100)})}),_.current=A,b(!0),()=>{A.remove()}},[l,p,o]);const R=A=>{const k=o.includes(A)?o.filter(J=>J!==A):[...o,A];u(k),localStorage.setItem("favoriteBars",JSON.stringify(k));const q=l.find(J=>J.id===A);xe("Toggle Favorite",{bar_name:q?.name||"Unknown",action:k.includes(A)?"add":"remove"})},M=A=>{T(A.id),a(A),xe("Map: Bar Selected",{bar_name:A.name})};return S.jsxs("div",{className:"map-container map-full-width",children:[S.jsxs("div",{className:"map-sidebar",children:[S.jsx("h3",{style:{marginBottom:"1rem",fontFamily:"Playfair Display"},children:o.length>0?"Your Favorites":"All Bars"}),o.length===0&&S.jsx("p",{style:{fontSize:"0.875rem",color:"#888",marginBottom:"1rem"},children:"Tap bars on the map to follow them and see their events & deals here."}),S.jsx("div",{className:"bar-list",children:(o.length>0?l.filter(A=>o.includes(A.id)):l).map(A=>S.jsx("div",{className:`bar-card-mini ${y===A.id?"selected":""}`,onClick:()=>M(A),style:{cursor:"pointer"},children:S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{children:[S.jsx("h4",{style:{fontFamily:"Playfair Display",fontWeight:600,marginBottom:"0.25rem"},children:A.name}),S.jsx("p",{style:{fontSize:"0.8125rem",color:"#888"},children:A.city||"St. Pete"})]}),S.jsx("button",{onClick:k=>{k.stopPropagation(),R(A.id)},style:{background:"none",border:"none",fontSize:"1.25rem",cursor:"pointer",color:o.includes(A.id)?"#c45a47":"#ccc"},children:o.includes(A.id)?"":""})]})},A.id))})]}),S.jsx("div",{ref:f,className:"map-expand"})]})},z0=()=>{const{favorites:l}=hn(),[a,o]=Nt.useState(!1),[u,f]=Nt.useState(!1);Nt.useEffect(()=>{localStorage.getItem("hasSeenOnboarding")?f(!0):o(!0)},[]);const _=()=>{localStorage.setItem("hasSeenOnboarding","true"),o(!1),I_("Onboarding Complete",{favorites_count:l.length})},p=()=>{localStorage.setItem("hasSeenOnboarding","true"),o(!1),I_("Onboarding Skipped")};return u&&!a||!a?null:S.jsx("div",{className:"onboarding-overlay",children:S.jsxs("div",{className:"onboarding-modal",children:[S.jsxs("div",{className:"onboarding-header",children:[S.jsx("div",{className:"onboarding-logo",children:""}),S.jsx("h2",{style:{fontFamily:"Playfair Display",fontSize:"1.75rem",marginBottom:"0.5rem"},children:"Bula Board"}),S.jsx("p",{style:{color:"#888",marginBottom:"1.5rem"},children:"Select your favorite bars to get started"})]}),S.jsx("div",{className:"onboarding-map",children:S.jsx(lp,{})}),S.jsxs("div",{className:"onboarding-footer",children:[S.jsxs("p",{style:{fontSize:"0.875rem",color:"#888",marginBottom:"1rem"},children:[l.length," bar",l.length!==1?"s":""," selected"]}),S.jsx("button",{className:"btn-primary",onClick:_,style:{width:"100%",padding:"1rem",background:"#c45a47",color:"white",border:"none",borderRadius:"12px",fontSize:"1rem",fontWeight:600,cursor:"pointer"},children:"Continue to Your Board "}),S.jsx("button",{onClick:p,style:{width:"100%",marginTop:"0.75rem",padding:"0.75rem",background:"transparent",color:"#888",border:"none",fontSize:"0.875rem",cursor:"pointer"},children:"Skip for now"})]})]})})},I_=(l,a)=>{typeof window.plausible<"u"&&window.plausible(l,a?{props:a}:void 0)},Bu=({icon:l,message:a})=>S.jsxs("div",{className:"empty-state",children:[S.jsx("span",{children:l}),S.jsx("p",{children:a})]}),D0=()=>{const{events:l,bars:a,categories:o,searchQuery:u,categoryFilter:f,setCategoryFilter:_,selectedEvent:p,setSelectedEvent:b}=hn(),y=Nt.useMemo(()=>l.filter(k=>{const q=f.includes("All")||k.event_category_id&&f.includes(k.event_category_id),J=a.find(it=>it.id===k.bar_id),Q=u===""||k.name.toLowerCase().includes(u.toLowerCase())||(J?.name.toLowerCase().includes(u.toLowerCase())??!1);return q&&Q}),[l,f,u,a]),T=k=>{const q=a.find(Q=>Q.id===k.bar_id),J=o.find(Q=>Q.id===k.event_category_id);xe("Event Click",{event:k.name,bar:q?.name||"Unknown",category:J?.name||"Unknown"}),b(k)},C=k=>Mn(k.start_time)||Mn(k.end_time)||"TBD",R=k=>k.is_recurring&&k.day_of_week!==null?y0(k.day_of_week):k.event_date||"TBD",M=y.length>0?y[0]:null,A=y.length>0?y.slice(1):[];return S.jsxs("div",{id:"eventsTab",children:[S.jsx("div",{className:"filter-bar",children:S.jsxs("select",{value:f[0]||"All",onChange:k=>_([k.target.value]),children:[S.jsx("option",{value:"All",children:"All Categories"}),o.map(k=>S.jsxs("option",{value:k.id,children:[k.icon||""," ",k.name]},k.id))]})}),M&&f.includes("All")&&!u&&S.jsxs("div",{className:"featured-card",onClick:()=>T(M),style:{cursor:"pointer"},children:[S.jsx("span",{className:"featured-badge",children:" Featured"}),S.jsx("span",{className:"featured-icon",children:o.find(k=>k.id===M.event_category_id)?.icon||""}),S.jsx("h3",{children:M.name}),S.jsx("p",{children:a.find(k=>k.id===M.bar_id)?.name||"Unknown Bar"}),S.jsxs("div",{className:"featured-meta",children:[S.jsxs("span",{children:[" ",R(M)," @ ",C(M)]}),S.jsx("span",{children:" St. Pete"})]})]}),S.jsx("div",{className:"event-list",children:A.length===0?S.jsx(Bu,{icon:"",message:"No events found"}):A.map(k=>{const q=a.find(Q=>Q.id===k.bar_id),J=o.find(Q=>Q.id===k.event_category_id);return S.jsxs("div",{className:"event-card",onClick:()=>T(k),children:[S.jsxs("div",{className:"event-date",children:[S.jsx("span",{className:"event-icon",children:J?.icon||""}),S.jsx("span",{children:R(k)})]}),S.jsxs("div",{className:"event-info",children:[S.jsx("span",{className:"event-type",children:J?.name||"Event"}),S.jsx("span",{className:"event-time",children:C(k)}),S.jsx("h4",{children:k.name}),S.jsx("p",{children:q?.name||"Unknown Bar"})]})]},k.id)})}),p&&S.jsxs(Ss,{isOpen:!!p,onClose:()=>b(null),children:[S.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #f4a999 0%, #e88f7d 100%)"},children:[S.jsx("span",{className:"modal-icon",children:o.find(k=>k.id===p.event_category_id)?.icon||""}),S.jsx("span",{className:"modal-type",children:o.find(k=>k.id===p.event_category_id)?.name||"Event"})]}),S.jsxs("div",{className:"modal-body",children:[S.jsx("h3",{children:p.name}),S.jsx("p",{className:"modal-bar",children:a.find(k=>k.id===p.bar_id)?.name||"Unknown Bar"}),p.description&&S.jsx("p",{className:"modal-desc",children:p.description}),S.jsxs("div",{className:"modal-details",children:[S.jsxs("div",{children:[S.jsx("p",{className:"detail-label",children:R(p)}),S.jsx("p",{className:"detail-time",children:C(p)})]}),S.jsxs("div",{children:[S.jsx("p",{children:""}),S.jsx("p",{children:a.find(k=>k.id===p.bar_id)?.address_line1||a.find(k=>k.id===p.bar_id)?.city||"St. Pete"})]})]})]})]})]})},B0=()=>{const{bars:l,barHours:a,searchQuery:o,locationFilter:u,setLocationFilter:f,selectedBar:_,setSelectedBar:p}=hn(),b=Nt.useMemo(()=>l.filter(A=>{const k=u.includes("All")||u.includes(A.city),q=o===""||A.name.toLowerCase().includes(o.toLowerCase())||(A.address_line1?.toLowerCase().includes(o.toLowerCase())??!1);return k&&q}),[l,u,o]),y=A=>a.filter(k=>k.bar_id===A),T=A=>{const k=y(A);if(k.length===0)return"Hours vary";const q=new Date().getDay(),J=k.find(Q=>Q.day_of_week===q);if(J&&!J.is_closed){const Q=Mn(J.open_time),it=Mn(J.close_time);return Q==="TBD"&&it==="TBD"?"Hours vary":`${Q}-${it}`}return"Check hours"},C=A=>{xe("Bar Click",{bar:A.name,city:A.city||"Unknown"}),p(A)},R=b.length>0?b[0]:null,M=b.length>0?b.slice(1):[];return S.jsxs("div",{id:"barsTab",children:[S.jsx("div",{className:"filter-bar",children:S.jsxs("select",{value:u[0]||"All",onChange:A=>f([A.target.value]),children:[S.jsx("option",{value:"All",children:"All Locations"}),S.jsx("option",{value:"St. Pete",children:"St. Pete"}),S.jsx("option",{value:"Clearwater",children:"Clearwater"}),S.jsx("option",{value:"Largo",children:"Largo"})]})}),R&&u.includes("All")&&!o&&S.jsxs("div",{className:"bar-card featured-bar",onClick:()=>C(R),style:{cursor:"pointer"},children:[S.jsx("span",{className:"featured-badge",children:" Best of the Bay"}),S.jsx("span",{className:"featured-icon",children:""}),S.jsx("h3",{children:R.name}),S.jsxs("p",{children:[R.address_line1||"",", ",R.city||""]}),S.jsxs("div",{className:"bar-meta",children:[S.jsxs("span",{children:[" ",T(R.id)]}),S.jsxs("span",{children:[" ",R.city||"St. Pete"]})]})]}),S.jsx("div",{className:"bar-list",children:M.length===0?S.jsx(Bu,{icon:"",message:"No bars found"}):M.map(A=>S.jsxs("div",{className:"bar-card-mini",onClick:()=>C(A),children:[S.jsx("div",{className:"bar-icon",children:""}),S.jsxs("div",{className:"bar-info",children:[S.jsx("h4",{children:A.name}),S.jsx("p",{className:"bar-address",children:A.address_line1?.split(",")[0]||A.city||"St. Pete"}),S.jsx("div",{className:"bar-hours",children:S.jsxs("span",{children:[" ",T(A.id)]})})]})]},A.id))}),_&&S.jsxs(Ss,{isOpen:!!_,onClose:()=>p(null),children:[S.jsx("div",{className:"modal-header bar-modal-header",style:{background:"linear-gradient(135deg, #6b8e6b 0%, #5a7a5a 100%)"},children:S.jsx("span",{className:"modal-icon",children:""})}),S.jsxs("div",{className:"modal-body",children:[S.jsx("h3",{children:_.name}),S.jsx("p",{className:"modal-bar",children:_.city||"St. Pete"}),_.description&&S.jsx("p",{className:"modal-desc",children:_.description}),S.jsxs("div",{className:"modal-details",children:[S.jsxs("div",{children:[S.jsx("p",{children:""}),S.jsx("p",{children:[_.address_line1,_.city,_.state,_.zip_code].filter(Boolean).join(", ")})]}),_.phone&&S.jsxs("div",{children:[S.jsx("p",{children:""}),S.jsx("p",{children:S.jsx("a",{href:`tel:${_.phone}`,children:_.phone})})]}),S.jsxs("div",{children:[S.jsx("p",{children:""}),S.jsx("p",{children:y(_.id).length>0?y(_.id).map(A=>{const k=Mn(A.open_time),q=Mn(A.close_time);return`${ws[A.day_of_week].slice(0,3)}: ${A.is_closed?"Closed":k==="TBD"&&q==="TBD"?"Hours vary":`${k}-${q}`}`}).join(" | "):"Hours vary"})]})]}),_.website_url&&S.jsx("div",{className:"modal-actions",children:S.jsx("a",{href:_.website_url,target:"_blank",rel:"noopener noreferrer",className:"map-btn",children:" Website"})})]})]})]})},U0=()=>{const{deals:l,bars:a,searchQuery:o,dayFilter:u,setDayFilter:f}=hn(),_=Nt.useMemo(()=>l.filter(y=>{const T=u==="All"||y.recurrence_days&&y.recurrence_days.includes(parseInt(u)),C=a.find(M=>M.id===y.bar_id),R=o===""||y.name.toLowerCase().includes(o.toLowerCase())||(C?.name.toLowerCase().includes(o.toLowerCase())??!1);return T&&R}),[l,u,o,a]),p=_.length>0?_[0]:null,b=_.length>0?_.slice(1):[];return S.jsxs("div",{id:"dealsTab",children:[S.jsx("div",{className:"filter-bar",children:S.jsxs("select",{value:u,onChange:y=>f(y.target.value),children:[S.jsx("option",{value:"All",children:"All Days"}),ws.map((y,T)=>S.jsx("option",{value:T.toString(),children:y},T))]})}),p&&u==="All"&&!o&&S.jsxs("div",{className:"deal-card featured-deal has-deal-badge",children:[S.jsx("span",{className:"badge badge-deal",children:" HOT DEAL"}),S.jsx("h3",{children:"Featured Deal"}),S.jsx("h4",{children:p.name}),S.jsx("span",{className:"deal-location",children:a.find(y=>y.id===p.bar_id)?.name||"Unknown Bar"}),S.jsx("span",{className:"deal-time",children:p.is_recurring&&p.recurrence_days?`Valid: ${p.recurrence_days.map(y=>ws[y].slice(0,3)).join(", ")}`:"Limited time"})]}),S.jsx("div",{className:"deal-list",children:b.length===0?S.jsx(Bu,{icon:"",message:"No deals found"}):b.map(y=>{const T=a.find(C=>C.id===y.bar_id);return S.jsxs("div",{className:"deal-card-mini has-deal-badge",children:[S.jsx("span",{className:"badge badge-deal",children:" DEAL"}),S.jsx("div",{className:"deal-header",children:S.jsx("span",{className:"deal-bar",children:T?.name||"Unknown"})}),S.jsx("h4",{children:y.name}),y.description&&S.jsx("p",{className:"deal-desc",children:y.description}),S.jsxs("div",{className:"deal-meta",children:[S.jsxs("span",{children:[" ",T?.city||"St. Pete"]}),S.jsxs("span",{children:[" ",Xo(y.valid_start_time,y.valid_end_time)]})]})]},y.id)})})]})},P0=({event:l,bar:a,onClick:o})=>{const u=op(l),f=S0(l);return S.jsxs("div",{className:`feed-card event-card ${u?"has-live-badge":""}`,onClick:o,children:[u&&S.jsx("span",{className:"badge badge-live",children:" LIVE NOW"}),S.jsxs("div",{className:"feed-card-header",children:[S.jsx("span",{className:"feed-card-icon",children:l.event_categories?.icon||""}),S.jsxs("div",{className:"feed-card-title",children:[S.jsx("h4",{children:l.name}),S.jsx("span",{className:"feed-card-subtitle",children:a?.name||"Unknown Bar"})]})]}),S.jsxs("div",{className:"feed-card-details",children:[l.description&&S.jsx("p",{className:"feed-card-description",children:l.description}),S.jsxs("div",{className:"feed-card-meta",children:[l.start_time&&S.jsxs("span",{className:"meta-item",children:[" ",Xo(l.start_time,l.end_time)]}),a?.city&&S.jsxs("span",{className:"meta-item",children:[" ",a.city]}),f&&!u&&S.jsx("span",{className:"meta-item meta-time-until",children:f})]})]})]})},H0=({bar:l,barHours:a,onClick:o,eventCount:u,dealCount:f})=>{const _=a.filter(y=>y.bar_id===l.id),{isOpen:p,message:b}=E0(_);return S.jsxs("div",{className:"feed-card bar-card",onClick:o,children:[S.jsxs("div",{className:"feed-card-header",children:[S.jsx("span",{className:"feed-card-icon",children:""}),S.jsxs("div",{className:"feed-card-title",children:[S.jsx("h4",{children:l.name}),S.jsx("span",{className:"feed-card-subtitle",children:l.city})]}),S.jsx("span",{className:`badge badge-status ${p?"open":"closed"}`,children:p?" OPEN":" CLOSED"})]}),S.jsxs("div",{className:"feed-card-details",children:[l.description&&S.jsx("p",{className:"feed-card-description",children:l.description}),S.jsxs("div",{className:"feed-card-meta",children:[S.jsxs("span",{className:"meta-item",children:[" ",b]}),l.address_line1&&S.jsxs("span",{className:"meta-item",children:[" ",l.address_line1]}),(u!==void 0||f!==void 0)&&S.jsxs("span",{className:"meta-item meta-highlight",children:[u?`${u} events`:"",u&&f?"  ":"",f?`${f} deals`:""]})]})]}),S.jsxs("div",{className:"feed-card-actions",children:[l.website_url&&S.jsx("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"btn-action btn-sm",onClick:y=>y.stopPropagation(),children:" Website"}),l.phone&&S.jsx("a",{href:`tel:${l.phone}`,className:"btn-action btn-sm",onClick:y=>y.stopPropagation(),children:" Call"})]})]})},q0=({deal:l,bar:a,onClick:o})=>{const u=()=>!l.is_recurring||!l.recurrence_days?"Limited time":l.recurrence_days.map(_=>ws[_].slice(0,3)).join(", "),f=()=>Xo(l.valid_start_time,l.valid_end_time);return S.jsxs("div",{className:"feed-card deal-card",onClick:o,children:[S.jsx("span",{className:"badge badge-deal",children:" DEAL"}),S.jsxs("div",{className:"feed-card-header",children:[S.jsx("span",{className:"feed-card-icon",children:""}),S.jsxs("div",{className:"feed-card-title",children:[S.jsx("h4",{children:l.name}),S.jsx("span",{className:"feed-card-subtitle",children:a?.name||"Unknown Bar"})]})]}),S.jsxs("div",{className:"feed-card-details",children:[l.description&&S.jsx("p",{className:"feed-card-description",children:l.description}),S.jsxs("div",{className:"feed-card-meta",children:[S.jsxs("span",{className:"meta-item",children:[" ",u()]}),S.jsxs("span",{className:"meta-item",children:[" ",f()]}),a?.city&&S.jsxs("span",{className:"meta-item",children:[" ",a.city]})]})]})]})},Z0=()=>{const{events:l,bars:a,deals:o,barHours:u,searchQuery:f,setSelectedEvent:_,setSelectedDeal:p,setSelectedBar:b,categoryFilter:y,locationFilter:T}=hn(),[C,R]=Nt.useState(10),M=Nt.useMemo(()=>{const Z=[],at=!y.includes("Deals")||y.includes("All"),Et=y.includes("All")||y.includes("Deals");return(at||y.some(ut=>ut!=="Deals"&&ut!=="All"))&&l.forEach(ut=>{const st=a.find(Ut=>Ut.id===ut.bar_id),Rt=f===""||ut.name.toLowerCase().includes(f.toLowerCase())||(st?.name.toLowerCase().includes(f.toLowerCase())??!1),wt=y.includes("All")||ut.event_category_id&&y.includes(ut.event_category_id),re=T.includes("All")||st?.city&&T.includes(st.city);if(Rt&&wt&&re){const Ut=Yo(ut);Z.push({type:"event",data:{...ut,bar:st},sortTime:Ut?.getTime()||0})}}),Et&&o.forEach(ut=>{const st=a.find(re=>re.id===ut.bar_id),Rt=f===""||ut.name.toLowerCase().includes(f.toLowerCase())||(st?.name.toLowerCase().includes(f.toLowerCase())??!1),wt=T.includes("All")||st?.city&&T.includes(st.city);if(Rt&&wt){const re=O0(ut);Z.push({type:"deal",data:{...ut,bar:st},sortTime:re?.getTime()||Date.now()})}}),Z.sort((ut,st)=>ut.sortTime-st.sortTime)},[l,a,o,f,y,T]),A=Nt.useMemo(()=>{const Z=[],at=[],Et=[],ut=[],st=[],Rt=[];return M.forEach(wt=>{if(wt.type==="bar")Rt.push(wt);else if(wt.type==="event"){const re=wt.data;if(op(re))Z.push(wt);else if(w0(re))at.push(wt);else{const Ut=Yo(re);Ut&&(H_(Ut)?Et.push(wt):q_(Ut)?ut.push(wt):st.push(wt))}}else if(wt.type==="deal"){const re=new Date(wt.sortTime);H_(re)?Et.push(wt):q_(re)?ut.push(wt):st.push(wt)}}),{happeningNow:Z,startingSoon:at,laterToday:Et,tomorrow:ut,thisWeek:st,barsSection:Rt}},[M]),k=Z=>Z.type==="event"?S.jsx(P0,{event:Z.data,bar:Z.data.bar,onClick:()=>_(Z.data)},Z.data.id):Z.type==="bar"?S.jsx(H0,{bar:Z.data,barHours:u.filter(at=>at.bar_id===Z.data.id),onClick:()=>b(Z.data)},Z.data.id):Z.type==="deal"?S.jsx(q0,{deal:Z.data,bar:Z.data.bar,onClick:()=>p(Z.data)},Z.data.id):null,J=A.happeningNow.length+A.startingSoon.length+A.laterToday.length+A.tomorrow.length+A.thisWeek.length>C,Q=Nt.useMemo(()=>{let Z=C;const at={happeningNow:A.happeningNow.slice(0,Z),startingSoon:[],laterToday:[],tomorrow:[],thisWeek:[]};return Z-=at.happeningNow.length,Z>0&&(at.startingSoon=A.startingSoon.slice(0,Z),Z-=at.startingSoon.length),Z>0&&(at.laterToday=A.laterToday.slice(0,Z),Z-=at.laterToday.length),Z>0&&(at.tomorrow=A.tomorrow.slice(0,Z),Z-=at.tomorrow.length),Z>0&&(at.thisWeek=A.thisWeek.slice(0,Z)),at},[A,C]);return Object.values(A).some(Z=>Z.length>0)?S.jsxs("div",{className:"unified-feed",children:[Q.happeningNow.length>0&&S.jsx("div",{className:"feed-section",children:S.jsx("div",{className:"feed-section-content",children:Q.happeningNow.map(k)})}),Q.startingSoon.length>0&&S.jsxs("div",{className:"feed-section",children:[S.jsxs("h2",{className:"feed-section-title",children:[S.jsx("span",{className:"title-icon",children:""}),"Starting Soon (Next 2 Hours)"]}),S.jsx("div",{className:"feed-section-content",children:Q.startingSoon.map(k)})]}),Q.laterToday.length>0&&S.jsxs("div",{className:"feed-section",children:[S.jsxs("h2",{className:"feed-section-title",children:[S.jsx("span",{className:"title-icon",children:""}),"Later Today"]}),S.jsx("div",{className:"feed-section-content",children:Q.laterToday.map(k)})]}),Q.tomorrow.length>0&&S.jsxs("div",{className:"feed-section",children:[S.jsxs("h2",{className:"feed-section-title",children:[S.jsx("span",{className:"title-icon",children:""}),"Tomorrow"]}),S.jsx("div",{className:"feed-section-content",children:Q.tomorrow.map(k)})]}),Q.thisWeek.length>0&&S.jsxs("div",{className:"feed-section",children:[S.jsxs("h2",{className:"feed-section-title",children:[S.jsx("span",{className:"title-icon",children:""}),"This Week"]}),S.jsx("div",{className:"feed-section-content",children:Q.thisWeek.map(k)})]}),J&&S.jsx("div",{className:"feed-show-more",children:S.jsx("button",{className:"btn-secondary btn-full",onClick:()=>R(Z=>Z+10),children:"Show More"})})]}):S.jsx(Bu,{icon:"",message:"No events, bars, or deals found"})},I0=()=>{const{loading:l,error:a,viewMode:o,activeTab:u,setShowForBarsModal:f,categories:_,bars:p,categoryFilter:b,setCategoryFilter:y,locationFilter:T,setLocationFilter:C}=hn();if(l)return S.jsxs("div",{className:"app",children:[S.jsx(Xh,{}),S.jsx("main",{className:"main",children:S.jsx(_0,{})})]});if(a)return S.jsxs("div",{className:"app",children:[S.jsx(Xh,{}),S.jsx("main",{className:"main",children:S.jsxs("div",{className:"empty-state",children:[S.jsx("span",{children:""}),S.jsx("p",{children:"Error loading data. Please refresh."})]})})]});const R=[{label:"All",value:"All"},{label:"Deals",value:"Deals",icon:""},..._.map(A=>({label:A.name,value:A.id,icon:A.icon||void 0}))],M=[{label:"All Locations",value:"All"},...Array.from(new Set(p.map(A=>A.city))).map(A=>({label:A,value:A}))];return S.jsxs("div",{className:"app",children:[S.jsx(Xh,{}),S.jsx(f0,{}),S.jsx(m0,{}),S.jsxs("div",{className:"filters-wrapper",children:[S.jsx("div",{className:"filter-row",children:S.jsx(P_,{chips:R,activeValue:b,onChange:A=>y(Array.isArray(A)?A:[A]),multiSelect:!0})}),S.jsx("div",{className:"filter-row",children:S.jsx(P_,{chips:M,activeValue:T,onChange:A=>C(Array.isArray(A)?A:[A]),multiSelect:!0})})]}),S.jsx("main",{className:"main",children:o==="map"?S.jsx(lp,{}):o==="unified"?S.jsx(Z0,{}):S.jsxs(S.Fragment,{children:[u==="events"&&S.jsx(D0,{}),u==="bars"&&S.jsx(B0,{}),u==="deals"&&S.jsx(U0,{})]})}),S.jsx(p0,{}),S.jsxs("footer",{className:"footer",children:[S.jsx("p",{children:"Bula Board  St. Pete"}),S.jsx("div",{className:"footer-links",children:S.jsx("a",{href:"#",onClick:A=>{A.preventDefault(),f(!0)},children:"For Bars"})})]}),S.jsx(v0,{}),S.jsx(g0,{}),S.jsx(C0,{}),S.jsx(N0,{}),S.jsx(R0,{}),S.jsx(z0,{})]})};function G0(){return S.jsx(d0,{children:S.jsx(I0,{})})}zv.createRoot(document.getElementById("root")).render(S.jsx(Nt.StrictMode,{children:S.jsx(G0,{})}));
